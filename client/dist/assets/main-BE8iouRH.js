import{a as C,b as Fn,f as zs,j as o,T as Sn,A as fi,g as pi,I as be,M as mi,i as O,B as M,k as Ee,S as Mr,F as kr,l as ct,m as St,N as Bs,L as gi,D as xi,n as it,o as Jr,p as ne,q as Se,P as on,r as we,s as $s,u as rt,v as yi,w as vi,x as st,y as De,z as bt,C as er,W as bi,E as wi,G as Si,K as Di,H as Vn,J as Us,O as Ci,Q as an,R as Wn,U as ln,V as Er,X as Zr,Y as de,Z as pe,$ as Fe,a0 as ot,a1 as ji,a2 as Pi,a3 as Ys,a4 as He,a5 as Mi,a6 as jt,a7 as ki,a8 as hn,a9 as at,aa as kt,ab as Ut,ac as Et,ad as le,ae as Ye,af as qe,ag as Qe,ah as Tt,ai as es,aj as pr,ak as Tr,al as Ei,am as Ti,an as Ii,ao as ts,ap as Ae,aq as ns,ar as Ot,as as Ri,at as Oi,au as Ie,_ as ue,av as Me,aw as Le,ax as Ne,ay as se,az as Ve,aA as xt,aB as Yt,aC as Ln,aD as rs,aE as qs,aF as Pt,aG as Ai,aH as Fi,aI as J,aJ as tr,aK as Vi,aL as gt,aM as Ht,aN as j,aO as Wi,aP as zt,aQ as Li,aR as Qs,aS as Ir,aT as Gs,aU as Ks,aV as Xs,aW as cn,aX as mr,aY as Xt,aZ as tt,a_ as $e,a$ as Ni,b0 as ss,b1 as Js,b2 as Zs,b3 as _i,b4 as eo,b5 as to,b6 as Hi,b7 as os,b8 as zi,b9 as yn,ba as nr}from"./mui-R_-38A__.js";import{d as Bi,c as $i,b as lt,r as b,g as Ui}from"./vendor-CgGF6kcy.js";import{u as fn,a as Yi,b as qi,B as is,R as as,c as Xe}from"./router-kcXMeQE9.js";import{V as ze,b as rr,a as Jt,c as Zt,d as Qi,f as je,e as mt,i as Ft,g as gr,s as kn,l as Gi,p as Ki,h as Xi,j as Ji,k as Zi,m as ea,n as ta,o as na,q as ra,r as sa,t as oa,u as ia,v as aa,w as la,x as ca,y as da,z as ua,A as ha,B as sr,C as or,D as ls,E as vn,F as fa,G as cs,H as ir,I as ds,J as ar,K as us,L as lr,M as pa,N as ma,O as ga,P as xa,Q as ya,R as va,S as ba,T as wa,U as Sa,W as Da,X as Ca,Y as ja,Z as Pa,_ as Ma,$ as ka,a0 as Ea,a1 as Ta,a2 as Ia,a3 as Ra,a4 as Oa,a5 as Aa,a6 as hs}from"./utils-H4UkUyo6.js";import{m as Pe,A as Rr,D as Fa,C as Va,P as Wa}from"./animation-BGYW7UDH.js";import{m as Ue,y as N,D as La,a as Na,b as Or,d as Lt,c as _a,e as Ha,f as dn,W as za,C as Ar,g as fs,S as Ba,V as ps,h as $a,N as no,i as Fr,r as ms,j as Ua,k as Ya,B as It,l as qa,n as Qa,o as Bt,p as Vt,w as Vr,q as Ga,s as xr,t as Ka,u as Xa,v as Ja,x as Za,R as ro,P as so,z as el,A as tl,E as nl,F as yr,_ as Dn,G as rl,H as sl,I as ol,J as il,K as al,L as ll,M as vr,O as cl,Q as dl,T as ul,U as hl,X as oo,Y as fl,Z as pl,$ as ml,a0 as io,a1 as Je,a2 as gl,a3 as xl,a4 as yl,a5 as vl,a6 as bl,a7 as wl,a8 as Mt,a9 as Nn,aa as Wr,ab as Sl,ac as Lr,ad as Nr,ae as Dl,af as br,ag as ao,ah as Dt,ai as lo,aj as co,ak as Cn,al as jn,am as Cl,an as uo,ao as cr,ap as jl,aq as Pl,ar as Ml,as as ho,at as kl,au as El,av as Tl,aw as Il,ax as Rl,ay as Ol,az as fo,aA as _r,aB as Al,aC as Fl,aD as Vl,aE as Wl,aF as Ll,aG as Nl,aH as _l,aI as Hl,aJ as zl}from"./calendar-Bmyrrkvz.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))t(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&t(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function t(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var wr={},gs=Bi;wr.createRoot=gs.createRoot,wr.hydrateRoot=gs.hydrateRoot;var _n=function(){function n(){this.listeners=[]}var e=n.prototype;return e.subscribe=function(t){var s=this,i=t||function(){};return this.listeners.push(i),this.onSubscribe(),function(){s.listeners=s.listeners.filter(function(a){return a!==i}),s.onUnsubscribe()}},e.hasListeners=function(){return this.listeners.length>0},e.onSubscribe=function(){},e.onUnsubscribe=function(){},n}(),po=typeof window>"u";function We(){}function Bl(n,e){return typeof n=="function"?n(e):n}function $l(n){return typeof n=="number"&&n>=0&&n!==1/0}function En(n){return Array.isArray(n)?n:[n]}function Ul(n,e){return Math.max(n+(e||0)-Date.now(),0)}function dr(n,e,r){return Hn(n)?typeof e=="function"?C({},r,{queryKey:n,queryFn:e}):C({},e,{queryKey:n}):n}function pt(n,e,r){return Hn(n)?[C({},e,{queryKey:n}),r]:[n||{},e]}function Yl(n,e){if(n===!0&&e===!0||n==null&&e==null)return"all";if(n===!1&&e===!1)return"none";var r=n??!e;return r?"active":"inactive"}function xs(n,e){var r=n.active,t=n.exact,s=n.fetching,i=n.inactive,a=n.predicate,l=n.queryKey,c=n.stale;if(Hn(l)){if(t){if(e.queryHash!==Hr(l,e.options))return!1}else if(!Tn(e.queryKey,l))return!1}var d=Yl(r,i);if(d==="none")return!1;if(d!=="all"){var u=e.isActive();if(d==="active"&&!u||d==="inactive"&&u)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||typeof s=="boolean"&&e.isFetching()!==s||a&&!a(e))}function ys(n,e){var r=n.exact,t=n.fetching,s=n.predicate,i=n.mutationKey;if(Hn(i)){if(!e.options.mutationKey)return!1;if(r){if(Ct(e.options.mutationKey)!==Ct(i))return!1}else if(!Tn(e.options.mutationKey,i))return!1}return!(typeof t=="boolean"&&e.state.status==="loading"!==t||s&&!s(e))}function Hr(n,e){var r=(e==null?void 0:e.queryKeyHashFn)||Ct;return r(n)}function Ct(n){var e=En(n);return ql(e)}function ql(n){return JSON.stringify(n,function(e,r){return Sr(r)?Object.keys(r).sort().reduce(function(t,s){return t[s]=r[s],t},{}):r})}function Tn(n,e){return mo(En(n),En(e))}function mo(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?!Object.keys(e).some(function(r){return!mo(n[r],e[r])}):!1}function go(n,e){if(n===e)return n;var r=Array.isArray(n)&&Array.isArray(e);if(r||Sr(n)&&Sr(e)){for(var t=r?n.length:Object.keys(n).length,s=r?e:Object.keys(e),i=s.length,a=r?[]:{},l=0,c=0;c<i;c++){var d=r?c:s[c];a[d]=go(n[d],e[d]),a[d]===n[d]&&l++}return t===i&&l===t?n:a}return e}function Sr(n){if(!vs(n))return!1;var e=n.constructor;if(typeof e>"u")return!0;var r=e.prototype;return!(!vs(r)||!r.hasOwnProperty("isPrototypeOf"))}function vs(n){return Object.prototype.toString.call(n)==="[object Object]"}function Hn(n){return typeof n=="string"||Array.isArray(n)}function Ql(n){return new Promise(function(e){setTimeout(e,n)})}function bs(n){Promise.resolve().then(n).catch(function(e){return setTimeout(function(){throw e})})}function xo(){if(typeof AbortController=="function")return new AbortController}var Gl=function(n){Fn(e,n);function e(){var t;return t=n.call(this)||this,t.setup=function(s){var i;if(!po&&((i=window)!=null&&i.addEventListener)){var a=function(){return s()};return window.addEventListener("visibilitychange",a,!1),window.addEventListener("focus",a,!1),function(){window.removeEventListener("visibilitychange",a),window.removeEventListener("focus",a)}}},t}var r=e.prototype;return r.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},r.onUnsubscribe=function(){if(!this.hasListeners()){var s;(s=this.cleanup)==null||s.call(this),this.cleanup=void 0}},r.setEventListener=function(s){var i,a=this;this.setup=s,(i=this.cleanup)==null||i.call(this),this.cleanup=s(function(l){typeof l=="boolean"?a.setFocused(l):a.onFocus()})},r.setFocused=function(s){this.focused=s,s&&this.onFocus()},r.onFocus=function(){this.listeners.forEach(function(s){s()})},r.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},e}(_n),Pn=new Gl,Kl=function(n){Fn(e,n);function e(){var t;return t=n.call(this)||this,t.setup=function(s){var i;if(!po&&((i=window)!=null&&i.addEventListener)){var a=function(){return s()};return window.addEventListener("online",a,!1),window.addEventListener("offline",a,!1),function(){window.removeEventListener("online",a),window.removeEventListener("offline",a)}}},t}var r=e.prototype;return r.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},r.onUnsubscribe=function(){if(!this.hasListeners()){var s;(s=this.cleanup)==null||s.call(this),this.cleanup=void 0}},r.setEventListener=function(s){var i,a=this;this.setup=s,(i=this.cleanup)==null||i.call(this),this.cleanup=s(function(l){typeof l=="boolean"?a.setOnline(l):a.onOnline()})},r.setOnline=function(s){this.online=s,s&&this.onOnline()},r.onOnline=function(){this.listeners.forEach(function(s){s()})},r.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},e}(_n),Mn=new Kl;function Xl(n){return Math.min(1e3*Math.pow(2,n),3e4)}function In(n){return typeof(n==null?void 0:n.cancel)=="function"}var yo=function(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent};function ur(n){return n instanceof yo}var vo=function(e){var r=this,t=!1,s,i,a,l;this.abort=e.abort,this.cancel=function(x){return s==null?void 0:s(x)},this.cancelRetry=function(){t=!0},this.continueRetry=function(){t=!1},this.continue=function(){return i==null?void 0:i()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(x,f){a=x,l=f});var c=function(f){r.isResolved||(r.isResolved=!0,e.onSuccess==null||e.onSuccess(f),i==null||i(),a(f))},d=function(f){r.isResolved||(r.isResolved=!0,e.onError==null||e.onError(f),i==null||i(),l(f))},u=function(){return new Promise(function(f){i=f,r.isPaused=!0,e.onPause==null||e.onPause()}).then(function(){i=void 0,r.isPaused=!1,e.onContinue==null||e.onContinue()})},g=function x(){if(!r.isResolved){var f;try{f=e.fn()}catch(v){f=Promise.reject(v)}s=function(p){if(!r.isResolved&&(d(new yo(p)),r.abort==null||r.abort(),In(f)))try{f.cancel()}catch{}},r.isTransportCancelable=In(f),Promise.resolve(f).then(c).catch(function(v){var p,m;if(!r.isResolved){var w=(p=e.retry)!=null?p:3,h=(m=e.retryDelay)!=null?m:Xl,y=typeof h=="function"?h(r.failureCount,v):h,S=w===!0||typeof w=="number"&&r.failureCount<w||typeof w=="function"&&w(r.failureCount,v);if(t||!S){d(v);return}r.failureCount++,e.onFail==null||e.onFail(r.failureCount,v),Ql(y).then(function(){if(!Pn.isFocused()||!Mn.isOnline())return u()}).then(function(){t?d(v):x()})}})}};g()},Jl=function(){function n(){this.queue=[],this.transactions=0,this.notifyFn=function(r){r()},this.batchNotifyFn=function(r){r()}}var e=n.prototype;return e.batch=function(t){var s;this.transactions++;try{s=t()}finally{this.transactions--,this.transactions||this.flush()}return s},e.schedule=function(t){var s=this;this.transactions?this.queue.push(t):bs(function(){s.notifyFn(t)})},e.batchCalls=function(t){var s=this;return function(){for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];s.schedule(function(){t.apply(void 0,a)})}},e.flush=function(){var t=this,s=this.queue;this.queue=[],s.length&&bs(function(){t.batchNotifyFn(function(){s.forEach(function(i){t.notifyFn(i)})})})},e.setNotifyFunction=function(t){this.notifyFn=t},e.setBatchNotifyFunction=function(t){this.batchNotifyFn=t},n}(),Te=new Jl,bo=console;function wo(){return bo}function Zl(n){bo=n}var ec=function(){function n(r){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=r.defaultOptions,this.setOptions(r.options),this.observers=[],this.cache=r.cache,this.queryKey=r.queryKey,this.queryHash=r.queryHash,this.initialState=r.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=r.meta,this.scheduleGc()}var e=n.prototype;return e.setOptions=function(t){var s;this.options=C({},this.defaultOptions,t),this.meta=t==null?void 0:t.meta,this.cacheTime=Math.max(this.cacheTime||0,(s=this.options.cacheTime)!=null?s:5*60*1e3)},e.setDefaultOptions=function(t){this.defaultOptions=t},e.scheduleGc=function(){var t=this;this.clearGcTimeout(),$l(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){t.optionalRemove()},this.cacheTime))},e.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},e.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},e.setData=function(t,s){var i,a,l=this.state.data,c=Bl(t,l);return(i=(a=this.options).isDataEqual)!=null&&i.call(a,l,c)?c=l:this.options.structuralSharing!==!1&&(c=go(l,c)),this.dispatch({data:c,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt}),c},e.setState=function(t,s){this.dispatch({type:"setState",state:t,setStateOptions:s})},e.cancel=function(t){var s,i=this.promise;return(s=this.retryer)==null||s.cancel(t),i?i.then(We).catch(We):Promise.resolve()},e.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},e.reset=function(){this.destroy(),this.setState(this.initialState)},e.isActive=function(){return this.observers.some(function(t){return t.options.enabled!==!1})},e.isFetching=function(){return this.state.isFetching},e.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(t){return t.getCurrentResult().isStale})},e.isStaleByTime=function(t){return t===void 0&&(t=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!Ul(this.state.dataUpdatedAt,t)},e.onFocus=function(){var t,s=this.observers.find(function(i){return i.shouldFetchOnWindowFocus()});s&&s.refetch(),(t=this.retryer)==null||t.continue()},e.onOnline=function(){var t,s=this.observers.find(function(i){return i.shouldFetchOnReconnect()});s&&s.refetch(),(t=this.retryer)==null||t.continue()},e.addObserver=function(t){this.observers.indexOf(t)===-1&&(this.observers.push(t),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:t}))},e.removeObserver=function(t){this.observers.indexOf(t)!==-1&&(this.observers=this.observers.filter(function(s){return s!==t}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:t}))},e.getObserversCount=function(){return this.observers.length},e.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},e.fetch=function(t,s){var i=this,a,l,c;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var d;return(d=this.retryer)==null||d.continueRetry(),this.promise}}if(t&&this.setOptions(t),!this.options.queryFn){var u=this.observers.find(function(h){return h.options.queryFn});u&&this.setOptions(u.options)}var g=En(this.queryKey),x=xo(),f={queryKey:g,pageParam:void 0,meta:this.meta};Object.defineProperty(f,"signal",{enumerable:!0,get:function(){if(x)return i.abortSignalConsumed=!0,x.signal}});var v=function(){return i.options.queryFn?(i.abortSignalConsumed=!1,i.options.queryFn(f)):Promise.reject("Missing queryFn")},p={fetchOptions:s,options:this.options,queryKey:g,state:this.state,fetchFn:v,meta:this.meta};if((a=this.options.behavior)!=null&&a.onFetch){var m;(m=this.options.behavior)==null||m.onFetch(p)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((l=p.fetchOptions)==null?void 0:l.meta)){var w;this.dispatch({type:"fetch",meta:(w=p.fetchOptions)==null?void 0:w.meta})}return this.retryer=new vo({fn:p.fetchFn,abort:x==null||(c=x.abort)==null?void 0:c.bind(x),onSuccess:function(y){i.setData(y),i.cache.config.onSuccess==null||i.cache.config.onSuccess(y,i),i.cacheTime===0&&i.optionalRemove()},onError:function(y){ur(y)&&y.silent||i.dispatch({type:"error",error:y}),ur(y)||(i.cache.config.onError==null||i.cache.config.onError(y,i),wo().error(y)),i.cacheTime===0&&i.optionalRemove()},onFail:function(){i.dispatch({type:"failed"})},onPause:function(){i.dispatch({type:"pause"})},onContinue:function(){i.dispatch({type:"continue"})},retry:p.options.retry,retryDelay:p.options.retryDelay}),this.promise=this.retryer.promise,this.promise},e.dispatch=function(t){var s=this;this.state=this.reducer(this.state,t),Te.batch(function(){s.observers.forEach(function(i){i.onQueryUpdate(t)}),s.cache.notify({query:s,type:"queryUpdated",action:t})})},e.getDefaultState=function(t){var s=typeof t.initialData=="function"?t.initialData():t.initialData,i=typeof t.initialData<"u",a=i?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0,l=typeof s<"u";return{data:s,dataUpdateCount:0,dataUpdatedAt:l?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:l?"success":"idle"}},e.reducer=function(t,s){var i,a;switch(s.type){case"failed":return C({},t,{fetchFailureCount:t.fetchFailureCount+1});case"pause":return C({},t,{isPaused:!0});case"continue":return C({},t,{isPaused:!1});case"fetch":return C({},t,{fetchFailureCount:0,fetchMeta:(i=s.meta)!=null?i:null,isFetching:!0,isPaused:!1},!t.dataUpdatedAt&&{error:null,status:"loading"});case"success":return C({},t,{data:s.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:(a=s.dataUpdatedAt)!=null?a:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var l=s.error;return ur(l)&&l.revert&&this.revertState?C({},this.revertState):C({},t,{error:l,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return C({},t,{isInvalidated:!0});case"setState":return C({},t,s.state);default:return t}},n}(),tc=function(n){Fn(e,n);function e(t){var s;return s=n.call(this)||this,s.config=t||{},s.queries=[],s.queriesMap={},s}var r=e.prototype;return r.build=function(s,i,a){var l,c=i.queryKey,d=(l=i.queryHash)!=null?l:Hr(c,i),u=this.get(d);return u||(u=new ec({cache:this,queryKey:c,queryHash:d,options:s.defaultQueryOptions(i),state:a,defaultOptions:s.getQueryDefaults(c),meta:i.meta}),this.add(u)),u},r.add=function(s){this.queriesMap[s.queryHash]||(this.queriesMap[s.queryHash]=s,this.queries.push(s),this.notify({type:"queryAdded",query:s}))},r.remove=function(s){var i=this.queriesMap[s.queryHash];i&&(s.destroy(),this.queries=this.queries.filter(function(a){return a!==s}),i===s&&delete this.queriesMap[s.queryHash],this.notify({type:"queryRemoved",query:s}))},r.clear=function(){var s=this;Te.batch(function(){s.queries.forEach(function(i){s.remove(i)})})},r.get=function(s){return this.queriesMap[s]},r.getAll=function(){return this.queries},r.find=function(s,i){var a=pt(s,i),l=a[0];return typeof l.exact>"u"&&(l.exact=!0),this.queries.find(function(c){return xs(l,c)})},r.findAll=function(s,i){var a=pt(s,i),l=a[0];return Object.keys(l).length>0?this.queries.filter(function(c){return xs(l,c)}):this.queries},r.notify=function(s){var i=this;Te.batch(function(){i.listeners.forEach(function(a){a(s)})})},r.onFocus=function(){var s=this;Te.batch(function(){s.queries.forEach(function(i){i.onFocus()})})},r.onOnline=function(){var s=this;Te.batch(function(){s.queries.forEach(function(i){i.onOnline()})})},e}(_n),nc=function(){function n(r){this.options=C({},r.defaultOptions,r.options),this.mutationId=r.mutationId,this.mutationCache=r.mutationCache,this.observers=[],this.state=r.state||rc(),this.meta=r.meta}var e=n.prototype;return e.setState=function(t){this.dispatch({type:"setState",state:t})},e.addObserver=function(t){this.observers.indexOf(t)===-1&&this.observers.push(t)},e.removeObserver=function(t){this.observers=this.observers.filter(function(s){return s!==t})},e.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(We).catch(We)):Promise.resolve()},e.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},e.execute=function(){var t=this,s,i=this.state.status==="loading",a=Promise.resolve();return i||(this.dispatch({type:"loading",variables:this.options.variables}),a=a.then(function(){t.mutationCache.config.onMutate==null||t.mutationCache.config.onMutate(t.state.variables,t)}).then(function(){return t.options.onMutate==null?void 0:t.options.onMutate(t.state.variables)}).then(function(l){l!==t.state.context&&t.dispatch({type:"loading",context:l,variables:t.state.variables})})),a.then(function(){return t.executeMutation()}).then(function(l){s=l,t.mutationCache.config.onSuccess==null||t.mutationCache.config.onSuccess(s,t.state.variables,t.state.context,t)}).then(function(){return t.options.onSuccess==null?void 0:t.options.onSuccess(s,t.state.variables,t.state.context)}).then(function(){return t.options.onSettled==null?void 0:t.options.onSettled(s,null,t.state.variables,t.state.context)}).then(function(){return t.dispatch({type:"success",data:s}),s}).catch(function(l){return t.mutationCache.config.onError==null||t.mutationCache.config.onError(l,t.state.variables,t.state.context,t),wo().error(l),Promise.resolve().then(function(){return t.options.onError==null?void 0:t.options.onError(l,t.state.variables,t.state.context)}).then(function(){return t.options.onSettled==null?void 0:t.options.onSettled(void 0,l,t.state.variables,t.state.context)}).then(function(){throw t.dispatch({type:"error",error:l}),l})})},e.executeMutation=function(){var t=this,s;return this.retryer=new vo({fn:function(){return t.options.mutationFn?t.options.mutationFn(t.state.variables):Promise.reject("No mutationFn found")},onFail:function(){t.dispatch({type:"failed"})},onPause:function(){t.dispatch({type:"pause"})},onContinue:function(){t.dispatch({type:"continue"})},retry:(s=this.options.retry)!=null?s:0,retryDelay:this.options.retryDelay}),this.retryer.promise},e.dispatch=function(t){var s=this;this.state=sc(this.state,t),Te.batch(function(){s.observers.forEach(function(i){i.onMutationUpdate(t)}),s.mutationCache.notify(s)})},n}();function rc(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function sc(n,e){switch(e.type){case"failed":return C({},n,{failureCount:n.failureCount+1});case"pause":return C({},n,{isPaused:!0});case"continue":return C({},n,{isPaused:!1});case"loading":return C({},n,{context:e.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:e.variables});case"success":return C({},n,{data:e.data,error:null,status:"success",isPaused:!1});case"error":return C({},n,{data:void 0,error:e.error,failureCount:n.failureCount+1,isPaused:!1,status:"error"});case"setState":return C({},n,e.state);default:return n}}var oc=function(n){Fn(e,n);function e(t){var s;return s=n.call(this)||this,s.config=t||{},s.mutations=[],s.mutationId=0,s}var r=e.prototype;return r.build=function(s,i,a){var l=new nc({mutationCache:this,mutationId:++this.mutationId,options:s.defaultMutationOptions(i),state:a,defaultOptions:i.mutationKey?s.getMutationDefaults(i.mutationKey):void 0,meta:i.meta});return this.add(l),l},r.add=function(s){this.mutations.push(s),this.notify(s)},r.remove=function(s){this.mutations=this.mutations.filter(function(i){return i!==s}),s.cancel(),this.notify(s)},r.clear=function(){var s=this;Te.batch(function(){s.mutations.forEach(function(i){s.remove(i)})})},r.getAll=function(){return this.mutations},r.find=function(s){return typeof s.exact>"u"&&(s.exact=!0),this.mutations.find(function(i){return ys(s,i)})},r.findAll=function(s){return this.mutations.filter(function(i){return ys(s,i)})},r.notify=function(s){var i=this;Te.batch(function(){i.listeners.forEach(function(a){a(s)})})},r.onFocus=function(){this.resumePausedMutations()},r.onOnline=function(){this.resumePausedMutations()},r.resumePausedMutations=function(){var s=this.mutations.filter(function(i){return i.state.isPaused});return Te.batch(function(){return s.reduce(function(i,a){return i.then(function(){return a.continue().catch(We)})},Promise.resolve())})},e}(_n);function ic(){return{onFetch:function(e){e.fetchFn=function(){var r,t,s,i,a,l,c=(r=e.fetchOptions)==null||(t=r.meta)==null?void 0:t.refetchPage,d=(s=e.fetchOptions)==null||(i=s.meta)==null?void 0:i.fetchMore,u=d==null?void 0:d.pageParam,g=(d==null?void 0:d.direction)==="forward",x=(d==null?void 0:d.direction)==="backward",f=((a=e.state.data)==null?void 0:a.pages)||[],v=((l=e.state.data)==null?void 0:l.pageParams)||[],p=xo(),m=p==null?void 0:p.signal,w=v,h=!1,y=e.options.queryFn||function(){return Promise.reject("Missing queryFn")},S=function(k,P,q,K){return w=K?[P].concat(w):[].concat(w,[P]),K?[q].concat(k):[].concat(k,[q])},D=function(k,P,q,K){if(h)return Promise.reject("Cancelled");if(typeof q>"u"&&!P&&k.length)return Promise.resolve(k);var B={queryKey:e.queryKey,signal:m,pageParam:q,meta:e.meta},Q=y(B),X=Promise.resolve(Q).then(function(W){return S(k,q,W,K)});if(In(Q)){var R=X;R.cancel=Q.cancel}return X},E;if(!f.length)E=D([]);else if(g){var I=typeof u<"u",A=I?u:ws(e.options,f);E=D(f,I,A)}else if(x){var T=typeof u<"u",F=T?u:ac(e.options,f);E=D(f,T,F,!0)}else(function(){w=[];var U=typeof e.options.getNextPageParam>"u",k=c&&f[0]?c(f[0],0,f):!0;E=k?D([],U,v[0]):Promise.resolve(S([],v[0],f[0]));for(var P=function(B){E=E.then(function(Q){var X=c&&f[B]?c(f[B],B,f):!0;if(X){var R=U?v[B]:ws(e.options,Q);return D(Q,U,R)}return Promise.resolve(S(Q,v[B],f[B]))})},q=1;q<f.length;q++)P(q)})();var L=E.then(function(U){return{pages:U,pageParams:w}}),H=L;return H.cancel=function(){h=!0,p==null||p.abort(),In(E)&&E.cancel()},L}}}}function ws(n,e){return n.getNextPageParam==null?void 0:n.getNextPageParam(e[e.length-1],e)}function ac(n,e){return n.getPreviousPageParam==null?void 0:n.getPreviousPageParam(e[0],e)}var lc=function(){function n(r){r===void 0&&(r={}),this.queryCache=r.queryCache||new tc,this.mutationCache=r.mutationCache||new oc,this.defaultOptions=r.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var e=n.prototype;return e.mount=function(){var t=this;this.unsubscribeFocus=Pn.subscribe(function(){Pn.isFocused()&&Mn.isOnline()&&(t.mutationCache.onFocus(),t.queryCache.onFocus())}),this.unsubscribeOnline=Mn.subscribe(function(){Pn.isFocused()&&Mn.isOnline()&&(t.mutationCache.onOnline(),t.queryCache.onOnline())})},e.unmount=function(){var t,s;(t=this.unsubscribeFocus)==null||t.call(this),(s=this.unsubscribeOnline)==null||s.call(this)},e.isFetching=function(t,s){var i=pt(t,s),a=i[0];return a.fetching=!0,this.queryCache.findAll(a).length},e.isMutating=function(t){return this.mutationCache.findAll(C({},t,{fetching:!0})).length},e.getQueryData=function(t,s){var i;return(i=this.queryCache.find(t,s))==null?void 0:i.state.data},e.getQueriesData=function(t){return this.getQueryCache().findAll(t).map(function(s){var i=s.queryKey,a=s.state,l=a.data;return[i,l]})},e.setQueryData=function(t,s,i){var a=dr(t),l=this.defaultQueryOptions(a);return this.queryCache.build(this,l).setData(s,i)},e.setQueriesData=function(t,s,i){var a=this;return Te.batch(function(){return a.getQueryCache().findAll(t).map(function(l){var c=l.queryKey;return[c,a.setQueryData(c,s,i)]})})},e.getQueryState=function(t,s){var i;return(i=this.queryCache.find(t,s))==null?void 0:i.state},e.removeQueries=function(t,s){var i=pt(t,s),a=i[0],l=this.queryCache;Te.batch(function(){l.findAll(a).forEach(function(c){l.remove(c)})})},e.resetQueries=function(t,s,i){var a=this,l=pt(t,s,i),c=l[0],d=l[1],u=this.queryCache,g=C({},c,{active:!0});return Te.batch(function(){return u.findAll(c).forEach(function(x){x.reset()}),a.refetchQueries(g,d)})},e.cancelQueries=function(t,s,i){var a=this,l=pt(t,s,i),c=l[0],d=l[1],u=d===void 0?{}:d;typeof u.revert>"u"&&(u.revert=!0);var g=Te.batch(function(){return a.queryCache.findAll(c).map(function(x){return x.cancel(u)})});return Promise.all(g).then(We).catch(We)},e.invalidateQueries=function(t,s,i){var a,l,c,d=this,u=pt(t,s,i),g=u[0],x=u[1],f=C({},g,{active:(a=(l=g.refetchActive)!=null?l:g.active)!=null?a:!0,inactive:(c=g.refetchInactive)!=null?c:!1});return Te.batch(function(){return d.queryCache.findAll(g).forEach(function(v){v.invalidate()}),d.refetchQueries(f,x)})},e.refetchQueries=function(t,s,i){var a=this,l=pt(t,s,i),c=l[0],d=l[1],u=Te.batch(function(){return a.queryCache.findAll(c).map(function(x){return x.fetch(void 0,C({},d,{meta:{refetchPage:c==null?void 0:c.refetchPage}}))})}),g=Promise.all(u).then(We);return d!=null&&d.throwOnError||(g=g.catch(We)),g},e.fetchQuery=function(t,s,i){var a=dr(t,s,i),l=this.defaultQueryOptions(a);typeof l.retry>"u"&&(l.retry=!1);var c=this.queryCache.build(this,l);return c.isStaleByTime(l.staleTime)?c.fetch(l):Promise.resolve(c.state.data)},e.prefetchQuery=function(t,s,i){return this.fetchQuery(t,s,i).then(We).catch(We)},e.fetchInfiniteQuery=function(t,s,i){var a=dr(t,s,i);return a.behavior=ic(),this.fetchQuery(a)},e.prefetchInfiniteQuery=function(t,s,i){return this.fetchInfiniteQuery(t,s,i).then(We).catch(We)},e.cancelMutations=function(){var t=this,s=Te.batch(function(){return t.mutationCache.getAll().map(function(i){return i.cancel()})});return Promise.all(s).then(We).catch(We)},e.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},e.executeMutation=function(t){return this.mutationCache.build(this,t).execute()},e.getQueryCache=function(){return this.queryCache},e.getMutationCache=function(){return this.mutationCache},e.getDefaultOptions=function(){return this.defaultOptions},e.setDefaultOptions=function(t){this.defaultOptions=t},e.setQueryDefaults=function(t,s){var i=this.queryDefaults.find(function(a){return Ct(t)===Ct(a.queryKey)});i?i.defaultOptions=s:this.queryDefaults.push({queryKey:t,defaultOptions:s})},e.getQueryDefaults=function(t){var s;return t?(s=this.queryDefaults.find(function(i){return Tn(t,i.queryKey)}))==null?void 0:s.defaultOptions:void 0},e.setMutationDefaults=function(t,s){var i=this.mutationDefaults.find(function(a){return Ct(t)===Ct(a.mutationKey)});i?i.defaultOptions=s:this.mutationDefaults.push({mutationKey:t,defaultOptions:s})},e.getMutationDefaults=function(t){var s;return t?(s=this.mutationDefaults.find(function(i){return Tn(t,i.mutationKey)}))==null?void 0:s.defaultOptions:void 0},e.defaultQueryOptions=function(t){if(t!=null&&t._defaulted)return t;var s=C({},this.defaultOptions.queries,this.getQueryDefaults(t==null?void 0:t.queryKey),t,{_defaulted:!0});return!s.queryHash&&s.queryKey&&(s.queryHash=Hr(s.queryKey,s)),s},e.defaultQueryObserverOptions=function(t){return this.defaultQueryOptions(t)},e.defaultMutationOptions=function(t){return t!=null&&t._defaulted?t:C({},this.defaultOptions.mutations,this.getMutationDefaults(t==null?void 0:t.mutationKey),t,{_defaulted:!0})},e.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},n}(),cc=$i.unstable_batchedUpdates;Te.setBatchNotifyFunction(cc);var dc=console;Zl(dc);var Ss=lt.createContext(void 0),uc=lt.createContext(!1);function hc(n){return n&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=Ss),window.ReactQueryClientContext):Ss}var fc=function(e){var r=e.client,t=e.contextSharing,s=t===void 0?!1:t,i=e.children;lt.useEffect(function(){return r.mount(),function(){r.unmount()}},[r]);var a=hc(s);return lt.createElement(uc.Provider,{value:s},lt.createElement(a.Provider,{value:r},i))};const So=zs({palette:{mode:"light",primary:{main:"#6366f1",light:"#818cf8",dark:"#4f46e5",contrastText:"#ffffff"},secondary:{main:"#ec4899",light:"#f472b6",dark:"#db2777",contrastText:"#ffffff"},background:{default:"#f1f5f9",paper:"#ffffff"},text:{primary:"#0f172a",secondary:"#64748b",disabled:"#94a3b8"},divider:"#e2e8f0",success:{main:"#10b981",light:"#34d399",dark:"#059669"},warning:{main:"#f59e0b",light:"#fbbf24",dark:"#d97706"},error:{main:"#ef4444",light:"#f87171",dark:"#dc2626"},info:{main:"#3b82f6",light:"#60a5fa",dark:"#2563eb"}},typography:{fontFamily:'"Inter", "Roboto", "Helvetica", "Arial", sans-serif',h1:{fontWeight:700,fontSize:"2.5rem",lineHeight:1.2},h2:{fontWeight:600,fontSize:"2rem",lineHeight:1.3},h3:{fontWeight:600,fontSize:"1.75rem",lineHeight:1.3},h4:{fontWeight:600,fontSize:"1.5rem",lineHeight:1.4},h5:{fontWeight:600,fontSize:"1.25rem",lineHeight:1.4},h6:{fontWeight:600,fontSize:"1rem",lineHeight:1.4},body1:{fontSize:"1rem",lineHeight:1.5,fontWeight:400},body2:{fontSize:"0.875rem",lineHeight:1.5,fontWeight:400},button:{fontWeight:500,textTransform:"none"},caption:{fontSize:"0.75rem",fontWeight:400}},shape:{borderRadius:12},spacing:8,components:{MuiButton:{styleOverrides:{root:{borderRadius:12,padding:"10px 20px",fontWeight:600,textTransform:"none",boxShadow:"none","&:hover":{boxShadow:"0 4px 12px rgba(99, 102, 241, 0.15)"}},contained:{"&:hover":{boxShadow:"0 6px 16px rgba(99, 102, 241, 0.25)"}},outlined:{borderWidth:"2px","&:hover":{borderWidth:"2px"}}}},MuiCard:{styleOverrides:{root:{borderRadius:16,boxShadow:"0 1px 3px rgba(0, 0, 0, 0.05), 0 1px 2px rgba(0, 0, 0, 0.03)",border:"1px solid #f1f5f9","&:hover":{boxShadow:"0 8px 25px rgba(0, 0, 0, 0.08), 0 4px 10px rgba(0, 0, 0, 0.04)"}}}},MuiPaper:{styleOverrides:{root:{borderRadius:16,boxShadow:"0 1px 3px rgba(0, 0, 0, 0.05), 0 1px 2px rgba(0, 0, 0, 0.03)"},elevation1:{boxShadow:"0 1px 3px rgba(0, 0, 0, 0.05), 0 1px 2px rgba(0, 0, 0, 0.03)"},elevation2:{boxShadow:"0 4px 12px rgba(0, 0, 0, 0.08), 0 2px 6px rgba(0, 0, 0, 0.04)"}}},MuiTextField:{styleOverrides:{root:{"& .MuiOutlinedInput-root":{borderRadius:12,"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"#6366f1"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#6366f1",borderWidth:"2px"}}}}},MuiChip:{styleOverrides:{root:{borderRadius:20,fontWeight:600,fontSize:"0.75rem"},filled:{"&.MuiChip-colorPrimary":{backgroundColor:"#6366f1",color:"#ffffff"},"&.MuiChip-colorSecondary":{backgroundColor:"#ec4899",color:"#ffffff"}}}},MuiAppBar:{styleOverrides:{root:{backgroundColor:"#ffffff",color:"#0f172a",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.05)",borderBottom:"1px solid #f1f5f9"}}},MuiDrawer:{styleOverrides:{paper:{backgroundColor:"#ffffff",borderRight:"1px solid #f1f5f9",boxShadow:"2px 0 8px rgba(0, 0, 0, 0.05)"}}},MuiListItem:{styleOverrides:{root:{borderRadius:12,marginBottom:4,"&:hover":{backgroundColor:"#f8fafc"}}}},MuiListItemButton:{styleOverrides:{root:{borderRadius:12,"&:hover":{backgroundColor:"#f8fafc"},"&.Mui-selected":{backgroundColor:"#eef2ff","&:hover":{backgroundColor:"#eef2ff"}}}}},MuiDialog:{styleOverrides:{paper:{borderRadius:20,boxShadow:"0 25px 50px rgba(0, 0, 0, 0.1)"}}},MuiMenu:{styleOverrides:{paper:{borderRadius:16,boxShadow:"0 10px 30px rgba(0, 0, 0, 0.08)",border:"1px solid #f1f5f9"}}},MuiTooltip:{styleOverrides:{tooltip:{backgroundColor:"#0f172a",color:"#ffffff",borderRadius:12,fontSize:"0.75rem",padding:"8px 12px"}}},MuiBadge:{styleOverrides:{badge:{borderRadius:12,fontSize:"0.75rem",fontWeight:600}}},MuiAvatar:{styleOverrides:{root:{fontWeight:600}}},MuiLinearProgress:{styleOverrides:{root:{borderRadius:6,backgroundColor:"#f1f5f9"},bar:{borderRadius:6}}},MuiTable:{styleOverrides:{root:{"& .MuiTableCell-root":{borderBottom:"1px solid #f1f5f9"}}}},MuiTableHead:{styleOverrides:{root:{"& .MuiTableCell-root":{fontWeight:600,backgroundColor:"#f8fafc"}}}}}}),Do=zs({palette:{mode:"dark",primary:{main:"#a855f7",light:"#c084fc",dark:"#9333ea",contrastText:"#ffffff"},secondary:{main:"#f472b6",light:"#f9a8d4",dark:"#ec4899",contrastText:"#ffffff"},background:{default:"#0f172a",paper:"#1e293b"},text:{primary:"#f8fafc",secondary:"#cbd5e1",disabled:"#64748b"},divider:"#334155",success:{main:"#10b981",light:"#34d399",dark:"#059669"},warning:{main:"#f59e0b",light:"#fbbf24",dark:"#d97706"},error:{main:"#ef4444",light:"#f87171",dark:"#dc2626"},info:{main:"#3b82f6",light:"#60a5fa",dark:"#2563eb"}},typography:{fontFamily:'"Inter", "Roboto", "Helvetica", "Arial", sans-serif',h1:{fontWeight:700,fontSize:"2.5rem",lineHeight:1.2},h2:{fontWeight:600,fontSize:"2rem",lineHeight:1.3},h3:{fontWeight:600,fontSize:"1.75rem",lineHeight:1.3},h4:{fontWeight:600,fontSize:"1.5rem",lineHeight:1.4},h5:{fontWeight:600,fontSize:"1.25rem",lineHeight:1.4},h6:{fontWeight:600,fontSize:"1rem",lineHeight:1.4},body1:{fontSize:"1rem",lineHeight:1.5,fontWeight:400},body2:{fontSize:"0.875rem",lineHeight:1.5,fontWeight:400},button:{fontWeight:500,textTransform:"none"},caption:{fontSize:"0.75rem",fontWeight:400}},shape:{borderRadius:12},spacing:8,components:{MuiButton:{styleOverrides:{root:{borderRadius:12,padding:"10px 20px",fontWeight:600,textTransform:"none",boxShadow:"none","&:hover":{boxShadow:"0 4px 12px rgba(168, 85, 247, 0.3)"}},contained:{"&:hover":{boxShadow:"0 6px 16px rgba(168, 85, 247, 0.4)"}},outlined:{borderWidth:"2px","&:hover":{borderWidth:"2px"}}}},MuiCard:{styleOverrides:{root:{borderRadius:16,boxShadow:"0 1px 3px rgba(0, 0, 0, 0.3), 0 1px 2px rgba(0, 0, 0, 0.2)",border:"1px solid #334155","&:hover":{boxShadow:"0 8px 25px rgba(0, 0, 0, 0.4), 0 4px 10px rgba(0, 0, 0, 0.3)"}}}},MuiPaper:{styleOverrides:{root:{borderRadius:16,boxShadow:"0 1px 3px rgba(0, 0, 0, 0.3), 0 1px 2px rgba(0, 0, 0, 0.2)"},elevation1:{boxShadow:"0 1px 3px rgba(0, 0, 0, 0.3), 0 1px 2px rgba(0, 0, 0, 0.2)"},elevation2:{boxShadow:"0 4px 12px rgba(0, 0, 0, 0.4), 0 2px 6px rgba(0, 0, 0, 0.3)"}}},MuiTextField:{styleOverrides:{root:{"& .MuiOutlinedInput-root":{borderRadius:12,"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"#a855f7"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#a855f7",borderWidth:"2px"}}}}},MuiChip:{styleOverrides:{root:{borderRadius:20,fontWeight:600,fontSize:"0.75rem"},filled:{"&.MuiChip-colorPrimary":{backgroundColor:"#a855f7",color:"#ffffff"},"&.MuiChip-colorSecondary":{backgroundColor:"#f472b6",color:"#ffffff"}}}},MuiAppBar:{styleOverrides:{root:{backgroundColor:"#1e293b",color:"#f8fafc",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.3)",borderBottom:"1px solid #334155"}}},MuiDrawer:{styleOverrides:{paper:{backgroundColor:"#1e293b",borderRight:"1px solid #334155",boxShadow:"2px 0 8px rgba(0, 0, 0, 0.4)"}}},MuiListItem:{styleOverrides:{root:{borderRadius:12,marginBottom:4,"&:hover":{backgroundColor:"#334155"}}}},MuiListItemButton:{styleOverrides:{root:{borderRadius:12,"&:hover":{backgroundColor:"#334155"},"&.Mui-selected":{backgroundColor:"#581c87","&:hover":{backgroundColor:"#581c87"}}}}},MuiDialog:{styleOverrides:{paper:{borderRadius:20,boxShadow:"0 25px 50px rgba(0, 0, 0, 0.5)"}}},MuiMenu:{styleOverrides:{paper:{borderRadius:16,boxShadow:"0 10px 30px rgba(0, 0, 0, 0.4)",border:"1px solid #334155"}}},MuiTooltip:{styleOverrides:{tooltip:{backgroundColor:"#ffffff",color:"#0f172a",borderRadius:12,fontSize:"0.75rem",padding:"8px 12px"}}},MuiBadge:{styleOverrides:{badge:{borderRadius:12,fontSize:"0.75rem",fontWeight:600}}},MuiAvatar:{styleOverrides:{root:{fontWeight:600}}},MuiLinearProgress:{styleOverrides:{root:{borderRadius:6,backgroundColor:"#334155"},bar:{borderRadius:6}}},MuiTable:{styleOverrides:{root:{"& .MuiTableCell-root":{borderBottom:"1px solid #334155"}}}},MuiTableHead:{styleOverrides:{root:{"& .MuiTableCell-root":{fontWeight:600,backgroundColor:"#334155"}}}}}}),Co=b.createContext(void 0),yt=()=>{const n=b.useContext(Co);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return n},pc=({children:n})=>{const[e,r]=b.useState(null),[t,s]=b.useState(!0);b.useEffect(()=>{const d=localStorage.getItem("taskAppUser");if(d)try{const u=JSON.parse(d);r(u)}catch(u){console.error("ユーザー情報の復元に失敗しました:",u),localStorage.removeItem("taskAppUser")}s(!1)},[]);const c={user:e,login:async(d,u)=>{s(!0);try{if(d==="demo@example.com"&&u==="password"){const g={id:"1",name:"デモユーザー",email:d};r(g),localStorage.setItem("taskAppUser",JSON.stringify(g))}else throw new Error("メールアドレスまたはパスワードが正しくありません")}catch(g){throw g}finally{s(!1)}},logout:()=>{r(null),localStorage.removeItem("taskAppUser")},register:async(d,u,g)=>{s(!0);try{const x={id:Date.now().toString(),name:d,email:u};r(x),localStorage.setItem("taskAppUser",JSON.stringify(x))}catch(x){throw x}finally{s(!1)}},isLoading:t};return o.jsx(Co.Provider,{value:c,children:n})},jo=b.createContext(void 0),pn=()=>{const n=b.useContext(jo);if(n===void 0)throw new Error("useTheme must be used within a ThemeProvider");return n},mc=({children:n})=>{const[e,r]=b.useState(()=>{const i=localStorage.getItem("darkMode");return i?JSON.parse(i):!1});b.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(e))},[e]);const t=()=>{r(!e)},s=e?Do:So;return o.jsx(jo.Provider,{value:{isDarkMode:e,toggleTheme:t},children:o.jsx(Sn,{theme:s,children:n})})},gc=({onMenuClick:n})=>{const e=fn(),{user:r,logout:t}=yt(),{isDarkMode:s,toggleTheme:i}=pn(),[a,l]=b.useState(null),[c,d]=b.useState(null),u=h=>{l(h.currentTarget)},g=h=>{d(h.currentTarget)},x=()=>{l(null),d(null)},f=()=>{t(),x(),e("/login")},v=()=>{e("/profile"),x()},p=()=>{e("/settings"),x()},m=[{id:1,title:"新しいタスクが割り当てられました",message:"プロジェクトAのタスク「UIデザインの改善」が割り当てられました",time:"5分前",read:!1},{id:2,title:"タスクの期限が近づいています",message:"「データベース設計」の期限が明日です",time:"1時間前",read:!1},{id:3,title:"チームメンバーが参加しました",message:"田中さんがプロジェクトBに参加しました",time:"2時間前",read:!0}],w=m.filter(h=>!h.read).length;return r?o.jsx(fi,{position:"fixed",sx:{zIndex:h=>h.zIndex.drawer+1,backgroundColor:"#ffffff",color:"#1a1a1a",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.08)",borderBottom:"1px solid #e9ecef"},children:o.jsxs(pi,{sx:{minHeight:"64px !important"},children:[o.jsx(be,{edge:"start",color:"inherit","aria-label":"menu",onClick:n,sx:{mr:2,color:"#6c757d","&:hover":{backgroundColor:"#f8f9fa"}},children:o.jsx(mi,{})}),o.jsx(O,{variant:"h5",component:"div",sx:{flexGrow:1,fontWeight:700,color:"#6366f1",cursor:"pointer",fontSize:"1.5rem"},onClick:()=>e("/"),children:"TaskFlow"}),o.jsxs(M,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(Ee,{title:"検索",children:o.jsx(be,{color:"inherit",sx:{color:"#6c757d","&:hover":{backgroundColor:"#f8f9fa"}},children:o.jsx(Mr,{})})}),o.jsx(Ee,{title:"新しいタスク",children:o.jsx(kr,{size:"small",onClick:()=>e("/task/new"),sx:{backgroundColor:"#6366f1",color:"white",width:36,height:36,boxShadow:"0 2px 8px rgba(99, 102, 241, 0.3)","&:hover":{backgroundColor:"#4f46e5",boxShadow:"0 4px 12px rgba(99, 102, 241, 0.4)"}},children:o.jsx(ct,{sx:{fontSize:18}})})}),o.jsx(Ee,{title:"通知",children:o.jsx(be,{color:"inherit",onClick:g,sx:{color:"#6c757d","&:hover":{backgroundColor:"#f8f9fa"}},children:o.jsx(St,{badgeContent:w,color:"error",sx:{"& .MuiBadge-badge":{backgroundColor:"#dc3545",color:"white",fontSize:"0.75rem",fontWeight:600}},children:o.jsx(Bs,{})})})}),o.jsx(Ee,{title:s?"ライトモード":"ダークモード",children:o.jsx(be,{color:"inherit",onClick:i,sx:{color:"#6c757d","&:hover":{backgroundColor:"#f8f9fa"}},children:s?o.jsx(gi,{}):o.jsx(xi,{})})}),o.jsx(Ee,{title:"アカウント",children:o.jsx(be,{color:"inherit",onClick:u,sx:{color:"#6c757d","&:hover":{backgroundColor:"#f8f9fa"}},children:o.jsx(it,{sx:{width:32,height:32,bgcolor:"#6366f1",fontSize:"0.875rem",fontWeight:600},children:r.name.charAt(0)})})})]}),o.jsxs(Jr,{anchorEl:c,open:!!c,onClose:x,PaperProps:{sx:{width:360,maxHeight:400,borderRadius:2,boxShadow:"0 8px 24px rgba(0, 0, 0, 0.12)",border:"1px solid #e9ecef"}},children:[o.jsx(M,{sx:{p:2,borderBottom:1,borderColor:"divider"},children:o.jsx(O,{variant:"h6",sx:{fontWeight:600,color:"#1a1a1a"},children:"通知"})}),m.map(h=>o.jsx(ne,{sx:{py:1.5,px:2,backgroundColor:h.read?"transparent":"#f8f9fa","&:hover":{backgroundColor:"#f8f9fa"}},children:o.jsxs(M,{sx:{width:"100%"},children:[o.jsx(O,{variant:"body2",sx:{fontWeight:500,mb:.5,color:"#1a1a1a"},children:h.title}),o.jsx(O,{variant:"caption",color:"text.secondary",sx:{lineHeight:1.4},children:h.message}),o.jsx(O,{variant:"caption",color:"text.secondary",display:"block",sx:{mt:.5},children:h.time})]})},h.id)),m.length===0&&o.jsx(ne,{children:o.jsx(O,{variant:"body2",color:"text.secondary",children:"通知はありません"})})]}),o.jsxs(Jr,{anchorEl:a,open:!!a,onClose:x,PaperProps:{sx:{width:240,borderRadius:2,boxShadow:"0 8px 24px rgba(0, 0, 0, 0.12)",border:"1px solid #e9ecef"}},children:[o.jsx(M,{sx:{p:2,borderBottom:1,borderColor:"divider"},children:o.jsxs(M,{sx:{display:"flex",alignItems:"center",gap:2},children:[o.jsx(it,{sx:{width:48,height:48,bgcolor:"#6366f1",fontSize:"1.25rem",fontWeight:600},children:r.name.charAt(0)}),o.jsxs(M,{children:[o.jsx(O,{variant:"body1",sx:{fontWeight:600,color:"#1a1a1a"},children:r.name}),o.jsx(O,{variant:"caption",color:"text.secondary",children:r.email})]})]})}),o.jsxs(ne,{onClick:v,sx:{py:1.5},children:[o.jsx(Se,{children:o.jsx(on,{fontSize:"small",sx:{color:"#6c757d"}})}),o.jsx(we,{primary:"プロフィール",primaryTypographyProps:{sx:{fontWeight:500,color:"#1a1a1a"}}})]}),o.jsxs(ne,{onClick:p,sx:{py:1.5},children:[o.jsx(Se,{children:o.jsx($s,{fontSize:"small",sx:{color:"#6c757d"}})}),o.jsx(we,{primary:"設定",primaryTypographyProps:{sx:{fontWeight:500,color:"#1a1a1a"}}})]}),o.jsx(rt,{}),o.jsxs(ne,{onClick:f,sx:{py:1.5},children:[o.jsx(Se,{children:o.jsx(yi,{fontSize:"small",sx:{color:"#dc3545"}})}),o.jsx(we,{primary:"ログアウト",primaryTypographyProps:{sx:{fontWeight:500,color:"#dc3545"}}})]})]})]})}):null},xc=({open:n,onToggle:e})=>{const r=fn(),t=Yi(),{user:s}=yt(),{isDarkMode:i,toggleTheme:a}=pn(),[l,c]=b.useState(null),[d,u]=b.useState(null),g=[{text:"ダッシュボード",icon:o.jsx(Si,{}),path:"/",badge:null},{text:"カンバンボード",icon:o.jsx(Di,{}),path:"/kanban",badge:null},{text:"カレンダー",icon:o.jsx(Vn,{}),path:"/calendar",badge:null},{text:"タイムライン",icon:o.jsx(Us,{}),path:"/timeline",badge:null},{text:"リスト",icon:o.jsx(Ci,{}),path:"/list",badge:null}],x=[{text:"個人プロジェクト",icon:o.jsx(on,{}),path:"/workspace/personal",badge:0},{text:"チームA",icon:o.jsx(er,{}),path:"/workspace/team-a",badge:0},{text:"プロジェクトX",icon:o.jsx(er,{}),path:"/workspace/project-x",badge:0}],f=(h,y)=>JSON.parse(localStorage.getItem("tasks")||"[]").filter(D=>h==="assignee"?D.assignee===y:h==="status"?D.status===y:h==="priority"?D.priority===y:!1).length,v=()=>{x[0].badge=f("assignee","個人"),x[1].badge=f("status","inProgress"),x[2].badge=f("priority","high")};lt.useEffect(()=>{v();const h=localStorage.getItem("currentProject"),y=localStorage.getItem("currentWorkspace");h&&c(h),y&&u(y)},[]),lt.useEffect(()=>{const h=localStorage.getItem("currentProject"),y=localStorage.getItem("currentWorkspace");h!==l&&c(h),y!==d&&u(y)},[]);const p=h=>{r(h)},m=h=>{console.log(`プロジェクト "${h}" が選択されました`),c(h),u(null);const y=JSON.parse(localStorage.getItem("tasks")||"[]");let S=[];switch(h){case"個人プロジェクト":S=y.filter(D=>!D.assignee||D.assignee==="個人");break;case"仕事":S=y.filter(D=>D.assignee==="仕事"||D.priority==="high");break;case"学習":S=y.filter(D=>D.assignee==="学習"||D.priority==="medium");break;default:S=y}localStorage.setItem("filteredTasks",JSON.stringify(S)),localStorage.setItem("currentProject",h),localStorage.removeItem("currentWorkspace"),c(h),setTimeout(()=>{window.location.reload()},100),ze.success(`${h}のタスクを表示中`)},w=h=>{console.log(`ワークスペース "${h}" が選択されました`),u(h),c(null);const y=JSON.parse(localStorage.getItem("tasks")||"[]");let S=[];switch(h){case"個人プロジェクト":S=y.filter(D=>!D.assignee||D.assignee==="個人");break;case"チームA":S=y.filter(D=>D.assignee==="チームA"||D.status==="inProgress");break;case"プロジェクトX":S=y.filter(D=>D.assignee==="プロジェクトX"||D.priority==="high");break;default:S=y}localStorage.setItem("filteredTasks",JSON.stringify(S)),localStorage.setItem("currentWorkspace",h),localStorage.removeItem("currentProject"),u(h),setTimeout(()=>{window.location.reload()},100),ze.success(`${h}のタスクを表示中`)};return s?o.jsxs(vi,{variant:"permanent",open:n,sx:{width:n?240:64,flexShrink:0,"& .MuiDrawer-paper":{width:n?240:64,overflowX:"hidden",transition:"width 0.3s ease-in-out"}},children:[o.jsxs(M,{sx:{p:2,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[n&&o.jsx(Pe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3},children:o.jsx(O,{variant:"h6",sx:{fontWeight:600,color:"primary.main"},children:"TaskFlow"})}),o.jsx(Ee,{title:n?"サイドバーを閉じる":"サイドバーを開く",children:o.jsx(be,{onClick:e,size:"small",children:o.jsx(Mr,{})})})]}),o.jsx(rt,{}),o.jsx(M,{sx:{p:2},children:o.jsx(Ee,{title:"新しいタスク",placement:"right",children:o.jsxs(be,{color:"primary",sx:{width:"100%",height:48,borderRadius:2,backgroundColor:"primary.main",color:"white","&:hover":{backgroundColor:"primary.dark"}},onClick:()=>r("/task/new"),children:[o.jsx(ct,{}),n&&o.jsx(Pe.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.3},style:{marginLeft:8},children:o.jsx(O,{variant:"body2",sx:{fontWeight:500},children:"新しいタスク"})})]})})}),o.jsx(rt,{}),o.jsx(st,{sx:{px:1},children:g.map(h=>o.jsx(De,{disablePadding:!0,sx:{mb:.5},children:o.jsxs(bt,{onClick:()=>p(h.path),selected:t.pathname===h.path,sx:{borderRadius:2,minHeight:48,"&.Mui-selected":{backgroundColor:"primary.main",color:"white","&:hover":{backgroundColor:"primary.dark"}},"&:hover":{backgroundColor:"action.hover"}},children:[o.jsx(Se,{sx:{minWidth:40,color:t.pathname===h.path?"white":"inherit"},children:h.icon}),n&&o.jsxs(Pe.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.3},style:{flex:1,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[o.jsx(we,{primary:h.text,primaryTypographyProps:{fontSize:"0.875rem",fontWeight:t.pathname===h.path?600:500}}),h.badge&&o.jsx(St,{badgeContent:h.badge,color:"error",sx:{"& .MuiBadge-badge":{backgroundColor:t.pathname===h.path?"white":"primary.main",color:t.pathname===h.path?"primary.main":"white"}}})]})]})},h.text))}),o.jsx(rt,{}),n&&o.jsx(Pe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:o.jsx(M,{sx:{p:2},children:o.jsx(O,{variant:"overline",sx:{color:"text.secondary",fontWeight:600},children:"ワークスペース"})})}),o.jsx(st,{sx:{px:1},children:x.map(h=>o.jsx(De,{disablePadding:!0,sx:{mb:.5},children:o.jsxs(bt,{onClick:()=>w(h.text),selected:d===h.text,sx:{borderRadius:2,minHeight:48,"&.Mui-selected":{backgroundColor:"primary.main",color:"white","&:hover":{backgroundColor:"primary.dark"}},"&:hover":{backgroundColor:"action.hover"}},children:[o.jsx(Se,{sx:{minWidth:40,color:d===h.text?"white":"inherit"},children:h.icon}),n&&o.jsxs(Pe.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.3},style:{flex:1,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[o.jsx(we,{primary:h.text,primaryTypographyProps:{fontSize:"0.875rem",fontWeight:d===h.text?600:500}}),h.badge&&o.jsx(St,{badgeContent:h.badge,color:"error",sx:{"& .MuiBadge-badge":{backgroundColor:d===h.text?"white":"primary.main",color:d===h.text?"primary.main":"white"}}})]})]})},h.text))}),o.jsxs(M,{sx:{mb:2},children:[o.jsx(O,{variant:"overline",sx:{px:2,py:1,color:"text.secondary",fontWeight:600,fontSize:"0.75rem",display:n?"block":"none"},children:"プロジェクト"}),o.jsxs(st,{dense:!0,children:[o.jsx(De,{disablePadding:!0,children:o.jsxs(bt,{onClick:()=>m("個人プロジェクト"),selected:l==="個人プロジェクト",sx:{minHeight:48,px:2,"&.Mui-selected":{backgroundColor:"primary.main",color:"primary.contrastText","&:hover":{backgroundColor:"primary.dark"}}},children:[o.jsx(Se,{sx:{minWidth:40},children:o.jsx(er,{sx:{fontSize:20}})}),n&&o.jsxs(M,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",flex:1},children:[o.jsx(we,{primary:"個人プロジェクト",primaryTypographyProps:{fontSize:"0.875rem",fontWeight:500}}),o.jsx(St,{badgeContent:f("assignee","個人"),color:"primary",sx:{"& .MuiBadge-badge":{fontSize:"0.625rem",height:18,minWidth:18}}})]})]})}),o.jsx(De,{disablePadding:!0,children:o.jsxs(bt,{onClick:()=>m("仕事"),selected:l==="仕事",sx:{minHeight:48,px:2,"&.Mui-selected":{backgroundColor:"primary.main",color:"primary.contrastText","&:hover":{backgroundColor:"primary.dark"}}},children:[o.jsx(Se,{sx:{minWidth:40},children:o.jsx(bi,{sx:{fontSize:20}})}),n&&o.jsxs(M,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",flex:1},children:[o.jsx(we,{primary:"仕事",primaryTypographyProps:{fontSize:"0.875rem",fontWeight:500}}),o.jsx(St,{badgeContent:f("priority","high"),color:"error",sx:{"& .MuiBadge-badge":{fontSize:"0.625rem",height:18,minWidth:18}}})]})]})}),o.jsx(De,{disablePadding:!0,children:o.jsxs(bt,{onClick:()=>m("学習"),selected:l==="学習",sx:{minHeight:48,px:2,"&.Mui-selected":{backgroundColor:"primary.main",color:"primary.contrastText","&:hover":{backgroundColor:"primary.dark"}}},children:[o.jsx(Se,{sx:{minWidth:40},children:o.jsx(wi,{sx:{fontSize:20}})}),n&&o.jsxs(M,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",flex:1},children:[o.jsx(we,{primary:"学習",primaryTypographyProps:{fontSize:"0.875rem",fontWeight:500}}),o.jsx(St,{badgeContent:f("priority","medium"),color:"warning",sx:{"& .MuiBadge-badge":{fontSize:"0.625rem",height:18,minWidth:18}}})]})]})})]})]}),o.jsx(M,{sx:{flexGrow:1}}),o.jsx(rt,{}),o.jsxs(st,{sx:{px:1},children:[o.jsx(De,{disablePadding:!0,sx:{mb:.5},children:o.jsxs(bt,{onClick:()=>r("/profile"),sx:{borderRadius:2,minHeight:48,"&:hover":{backgroundColor:"action.hover"}},children:[o.jsx(Se,{sx:{minWidth:40},children:o.jsx(on,{})}),n&&o.jsx(Pe.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.3},children:o.jsx(we,{primary:"プロフィール",primaryTypographyProps:{fontSize:"0.875rem",fontWeight:500}})})]})}),o.jsx(De,{disablePadding:!0,sx:{mb:.5},children:o.jsxs(bt,{onClick:()=>r("/settings"),sx:{borderRadius:2,minHeight:48,"&:hover":{backgroundColor:"action.hover"}},children:[o.jsx(Se,{sx:{minWidth:40},children:o.jsx($s,{})}),n&&o.jsx(Pe.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.3},children:o.jsx(we,{primary:"設定",primaryTypographyProps:{fontSize:"0.875rem",fontWeight:500}})})]})})]})]}):null};var yc={lessThanXSeconds:{one:"1秒未満",other:"{{count}}秒未満",oneWithSuffix:"約1秒",otherWithSuffix:"約{{count}}秒"},xSeconds:{one:"1秒",other:"{{count}}秒"},halfAMinute:"30秒",lessThanXMinutes:{one:"1分未満",other:"{{count}}分未満",oneWithSuffix:"約1分",otherWithSuffix:"約{{count}}分"},xMinutes:{one:"1分",other:"{{count}}分"},aboutXHours:{one:"約1時間",other:"約{{count}}時間"},xHours:{one:"1時間",other:"{{count}}時間"},xDays:{one:"1日",other:"{{count}}日"},aboutXWeeks:{one:"約1週間",other:"約{{count}}週間"},xWeeks:{one:"1週間",other:"{{count}}週間"},aboutXMonths:{one:"約1か月",other:"約{{count}}か月"},xMonths:{one:"1か月",other:"{{count}}か月"},aboutXYears:{one:"約1年",other:"約{{count}}年"},xYears:{one:"1年",other:"{{count}}年"},overXYears:{one:"1年以上",other:"{{count}}年以上"},almostXYears:{one:"1年近く",other:"{{count}}年近く"}},vc=function(e,r,t){t=t||{};var s,i=yc[e];return typeof i=="string"?s=i:r===1?t.addSuffix&&i.oneWithSuffix?s=i.oneWithSuffix:s=i.one:t.addSuffix&&i.otherWithSuffix?s=i.otherWithSuffix.replace("{{count}}",String(r)):s=i.other.replace("{{count}}",String(r)),t.addSuffix?t.comparison&&t.comparison>0?s+"後":s+"前":s},bc={full:"y年M月d日EEEE",long:"y年M月d日",medium:"y/MM/dd",short:"y/MM/dd"},wc={full:"H時mm分ss秒 zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},Sc={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},Dc={date:rr({formats:bc,defaultWidth:"full"}),time:rr({formats:wc,defaultWidth:"full"}),dateTime:rr({formats:Sc,defaultWidth:"full"})},Cc={lastWeek:"先週のeeeeのp",yesterday:"昨日のp",today:"今日のp",tomorrow:"明日のp",nextWeek:"翌週のeeeeのp",other:"P"},jc=function(e,r,t,s){return Cc[e]},Pc={narrow:["BC","AC"],abbreviated:["紀元前","西暦"],wide:["紀元前","西暦"]},Mc={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["第1四半期","第2四半期","第3四半期","第4四半期"]},kc={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],wide:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"]},Ec={narrow:["日","月","火","水","木","金","土"],short:["日","月","火","水","木","金","土"],abbreviated:["日","月","火","水","木","金","土"],wide:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"]},Tc={narrow:{am:"午前",pm:"午後",midnight:"深夜",noon:"正午",morning:"朝",afternoon:"午後",evening:"夜",night:"深夜"},abbreviated:{am:"午前",pm:"午後",midnight:"深夜",noon:"正午",morning:"朝",afternoon:"午後",evening:"夜",night:"深夜"},wide:{am:"午前",pm:"午後",midnight:"深夜",noon:"正午",morning:"朝",afternoon:"午後",evening:"夜",night:"深夜"}},Ic={narrow:{am:"午前",pm:"午後",midnight:"深夜",noon:"正午",morning:"朝",afternoon:"午後",evening:"夜",night:"深夜"},abbreviated:{am:"午前",pm:"午後",midnight:"深夜",noon:"正午",morning:"朝",afternoon:"午後",evening:"夜",night:"深夜"},wide:{am:"午前",pm:"午後",midnight:"深夜",noon:"正午",morning:"朝",afternoon:"午後",evening:"夜",night:"深夜"}},Rc=function(e,r){var t=Number(e),s=String(r==null?void 0:r.unit);switch(s){case"year":return"".concat(t,"年");case"quarter":return"第".concat(t,"四半期");case"month":return"".concat(t,"月");case"week":return"第".concat(t,"週");case"date":return"".concat(t,"日");case"hour":return"".concat(t,"時");case"minute":return"".concat(t,"分");case"second":return"".concat(t,"秒");default:return"".concat(t)}},Oc={ordinalNumber:Rc,era:Jt({values:Pc,defaultWidth:"wide"}),quarter:Jt({values:Mc,defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:Jt({values:kc,defaultWidth:"wide"}),day:Jt({values:Ec,defaultWidth:"wide"}),dayPeriod:Jt({values:Tc,defaultWidth:"wide",formattingValues:Ic,defaultFormattingWidth:"wide"})},Ac=/^第?\d+(年|四半期|月|週|日|時|分|秒)?/i,Fc=/\d+/i,Vc={narrow:/^(B\.?C\.?|A\.?D\.?)/i,abbreviated:/^(紀元[前後]|西暦)/i,wide:/^(紀元[前後]|西暦)/i},Wc={narrow:[/^B/i,/^A/i],any:[/^(紀元前)/i,/^(西暦|紀元後)/i]},Lc={narrow:/^[1234]/i,abbreviated:/^Q[1234]/i,wide:/^第[1234一二三四１２３４]四半期/i},Nc={any:[/(1|一|１)/i,/(2|二|２)/i,/(3|三|３)/i,/(4|四|４)/i]},_c={narrow:/^([123456789]|1[012])/,abbreviated:/^([123456789]|1[012])月/i,wide:/^([123456789]|1[012])月/i},Hc={any:[/^1\D/,/^2/,/^3/,/^4/,/^5/,/^6/,/^7/,/^8/,/^9/,/^10/,/^11/,/^12/]},zc={narrow:/^[日月火水木金土]/,short:/^[日月火水木金土]/,abbreviated:/^[日月火水木金土]/,wide:/^[日月火水木金土]曜日/},Bc={any:[/^日/,/^月/,/^火/,/^水/,/^木/,/^金/,/^土/]},$c={any:/^(AM|PM|午前|午後|正午|深夜|真夜中|夜|朝)/i},Uc={any:{am:/^(A|午前)/i,pm:/^(P|午後)/i,midnight:/^深夜|真夜中/i,noon:/^正午/i,morning:/^朝/i,afternoon:/^午後/i,evening:/^夜/i,night:/^深夜/i}},Yc={ordinalNumber:Qi({matchPattern:Ac,parsePattern:Fc,valueCallback:function(e){return parseInt(e,10)}}),era:Zt({matchPatterns:Vc,defaultMatchWidth:"wide",parsePatterns:Wc,defaultParseWidth:"any"}),quarter:Zt({matchPatterns:Lc,defaultMatchWidth:"wide",parsePatterns:Nc,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Zt({matchPatterns:_c,defaultMatchWidth:"wide",parsePatterns:Hc,defaultParseWidth:"any"}),day:Zt({matchPatterns:zc,defaultMatchWidth:"wide",parsePatterns:Bc,defaultParseWidth:"any"}),dayPeriod:Zt({matchPatterns:$c,defaultMatchWidth:"any",parsePatterns:Uc,defaultParseWidth:"any"})},$t={code:"ja",formatDistance:vc,formatLong:Dc,formatRelative:jc,localize:Oc,match:Yc,options:{weekStartsOn:0,firstWeekContainsDate:1}};const qc=()=>{const n=fn(),{user:e}=yt(),[r,t]=b.useState([]),[s,i]=b.useState(!0),[a,l]=b.useState("");b.useEffect(()=>{const h=localStorage.getItem("tasks"),y=localStorage.getItem("filteredTasks"),S=localStorage.getItem("currentProject"),D=localStorage.getItem("currentWorkspace");y&&(S||D)?(t(JSON.parse(y)),l(S||D||"")):h&&(t(JSON.parse(h)),l("")),i(!1)},[]);const c=()=>{localStorage.removeItem("filteredTasks"),localStorage.removeItem("currentProject"),localStorage.removeItem("currentWorkspace"),l("");const h=localStorage.getItem("tasks");h&&t(JSON.parse(h))},d=r.filter(h=>h.status==="todo"),u=r.filter(h=>h.status==="inProgress"),g=r.filter(h=>h.status==="done"),x=r.filter(h=>new Date(h.dueDate)<new Date&&h.status!=="done"),f=r.length>0?g.length/r.length*100:0,v=[{title:"総タスク数",value:r.length,change:12,icon:o.jsx(an,{}),color:"#6366f1"},{title:"進行中",value:u.length,change:8,icon:o.jsx(Wn,{}),color:"#f59e0b"},{title:"完了済み",value:g.length,change:15,icon:o.jsx(ln,{}),color:"#10b981"},{title:"期限超過",value:x.length,change:-3,icon:o.jsx(Er,{}),color:"#ef4444"}],p=r.sort((h,y)=>new Date(y.createdAt).getTime()-new Date(h.createdAt).getTime()).slice(0,5),m=h=>{switch(h){case"high":return"#ef4444";case"medium":return"#f59e0b";case"low":return"#10b981";default:return"#64748b"}},w=h=>{switch(h){case"todo":return"#64748b";case"inProgress":return"#6366f1";case"done":return"#10b981";default:return"#64748b"}};return s?o.jsx(M,{sx:{p:3},children:o.jsx(Zr,{})}):o.jsx(M,{sx:{p:2,backgroundColor:"background.default",minHeight:"calc(100vh - 120px)",maxWidth:"100%"},children:o.jsxs(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[o.jsxs(M,{sx:{mb:3},children:[o.jsxs(O,{variant:"h4",sx:{fontWeight:700,mb:1,color:"#1a1a1a"},children:["おかえりなさい、",(e==null?void 0:e.name)||"ユーザー","さん"]}),o.jsx(O,{variant:"body1",color:"text.secondary",children:je(new Date,"yyyy年M月d日 EEEE",{locale:$t})})]}),o.jsx(O,{variant:"h4",gutterBottom:!0,sx:{fontWeight:700,color:"text.primary",mb:3},children:"ダッシュボード"}),a&&o.jsxs(M,{sx:{mb:3,p:2,backgroundColor:"primary.light",borderRadius:2,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[o.jsxs(O,{variant:"body1",sx:{color:"primary.contrastText",fontWeight:500},children:["📁 ",a," のタスクを表示中"]}),o.jsx(de,{variant:"outlined",size:"small",onClick:c,sx:{color:"primary.contrastText",borderColor:"primary.contrastText","&:hover":{borderColor:"primary.contrastText"}},children:"フィルターをクリア"})]}),o.jsx(pe,{container:!0,spacing:2,sx:{mb:3},children:v.map((h,y)=>o.jsx(pe,{item:!0,xs:12,sm:6,md:3,children:o.jsx(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:y*.1},children:o.jsx(Fe,{sx:{height:"100%",borderRadius:2,boxShadow:"0 1px 3px rgba(0, 0, 0, 0.05)",border:"1px solid #e2e8f0","&:hover":{boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",transform:"translateY(-2px)"},transition:"all 0.2s ease"},children:o.jsxs(ot,{sx:{p:2},children:[o.jsxs(M,{sx:{display:"flex",alignItems:"center",mb:2},children:[o.jsx(it,{sx:{bgcolor:h.color,mr:2,width:48,height:48},children:h.icon}),o.jsxs(M,{sx:{flexGrow:1},children:[o.jsx(O,{variant:"h3",sx:{fontWeight:700,color:h.color},children:h.value}),o.jsx(O,{variant:"body2",color:"text.secondary",sx:{fontWeight:500},children:h.title})]})]}),o.jsxs(M,{sx:{display:"flex",alignItems:"center"},children:[h.change>0?o.jsx(ji,{sx:{color:"#28a745",fontSize:16,mr:.5}}):o.jsx(Pi,{sx:{color:"#dc3545",fontSize:16,mr:.5}}),o.jsxs(O,{variant:"body2",color:h.change>0?"#28a745":"#dc3545",sx:{fontWeight:500},children:[Math.abs(h.change),"%"]})]})]})})})},h.title))}),o.jsxs(pe,{container:!0,spacing:3,children:[o.jsx(pe,{item:!0,xs:12,md:8,children:o.jsx(Pe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:.4},children:o.jsx(Fe,{sx:{borderRadius:2,boxShadow:"0 1px 3px rgba(0, 0, 0, 0.05)",border:"1px solid #e2e8f0"},children:o.jsxs(ot,{sx:{p:3},children:[o.jsxs(M,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:3},children:[o.jsx(O,{variant:"h5",sx:{fontWeight:600,color:"#1a1a1a"},children:"進捗状況"}),o.jsx(de,{variant:"outlined",startIcon:o.jsx(ct,{}),onClick:()=>n("/task/new"),sx:{borderColor:"#007bff",color:"#007bff","&:hover":{borderColor:"#0056b3",backgroundColor:"#f8f9fa"}},children:"新しいタスク"})]}),o.jsxs(M,{sx:{mb:3},children:[o.jsxs(M,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[o.jsx(O,{variant:"body2",color:"text.secondary",sx:{fontWeight:500},children:"完了率"}),o.jsxs(O,{variant:"body2",color:"text.secondary",sx:{fontWeight:600},children:[f.toFixed(1),"%"]})]}),o.jsx(Zr,{variant:"determinate",value:f,sx:{height:8,borderRadius:4,backgroundColor:"#e9ecef","& .MuiLinearProgress-bar":{borderRadius:4,backgroundColor:"#007bff"}}})]}),o.jsxs(pe,{container:!0,spacing:2,children:[o.jsx(pe,{item:!0,xs:4,children:o.jsxs(M,{sx:{textAlign:"center"},children:[o.jsx(O,{variant:"h3",sx:{fontWeight:700,color:"#6c757d",mb:.5},children:d.length}),o.jsx(O,{variant:"body2",color:"text.secondary",sx:{fontWeight:500},children:"To Do"})]})}),o.jsx(pe,{item:!0,xs:4,children:o.jsxs(M,{sx:{textAlign:"center"},children:[o.jsx(O,{variant:"h3",sx:{fontWeight:700,color:"#007bff",mb:.5},children:u.length}),o.jsx(O,{variant:"body2",color:"text.secondary",sx:{fontWeight:500},children:"In Progress"})]})}),o.jsx(pe,{item:!0,xs:4,children:o.jsxs(M,{sx:{textAlign:"center"},children:[o.jsx(O,{variant:"h3",sx:{fontWeight:700,color:"#28a745",mb:.5},children:g.length}),o.jsx(O,{variant:"body2",color:"text.secondary",sx:{fontWeight:500},children:"Done"})]})})]})]})})})}),o.jsx(pe,{item:!0,xs:12,md:4,children:o.jsx(Pe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3,delay:.5},children:o.jsx(Fe,{sx:{borderRadius:2,boxShadow:"0 1px 3px rgba(0, 0, 0, 0.05)",border:"1px solid #e2e8f0",height:"100%"},children:o.jsxs(ot,{sx:{p:3},children:[o.jsx(O,{variant:"h5",sx:{fontWeight:600,mb:2,color:"#1a1a1a"},children:"最近のタスク"}),o.jsx(st,{sx:{p:0},children:o.jsx(Rr,{children:p.map((h,y)=>o.jsxs(Pe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2,delay:y*.1},children:[o.jsxs(De,{sx:{px:0,py:1,borderRadius:1,"&:hover":{backgroundColor:"#f8f9fa"}},children:[o.jsx(Ys,{children:o.jsx(it,{sx:{bgcolor:w(h.status),width:32,height:32,fontSize:"0.875rem"},children:o.jsx(an,{sx:{fontSize:16}})})}),o.jsx(we,{primary:o.jsx(O,{variant:"body2",sx:{fontWeight:500,lineHeight:1.3},children:h.title}),secondary:o.jsxs(M,{sx:{display:"flex",alignItems:"center",mt:.5},children:[o.jsx(He,{label:h.priority==="high"?"高":h.priority==="medium"?"中":"低",size:"small",sx:{backgroundColor:m(h.priority),color:"white",fontSize:"0.625rem",height:20,mr:1,"& .MuiChip-label":{px:1}}}),o.jsx(O,{variant:"caption",color:"text.secondary",children:je(new Date(h.createdAt),"M/d")})]})}),o.jsx(be,{size:"small",sx:{color:"#6c757d"},children:o.jsx(Mi,{sx:{fontSize:16}})})]}),y<p.length-1&&o.jsx(rt,{sx:{my:.5}})]},h.id))})})]})})})})]}),o.jsx(kr,{color:"primary","aria-label":"新しいタスク",onClick:()=>n("/task/new"),sx:{position:"fixed",bottom:24,right:24,backgroundColor:"#6366f1","&:hover":{backgroundColor:"#4f46e5"}},children:o.jsx(ct,{})})]})})},Qc=()=>{const[n,e]=b.useState([]),[r,t]=b.useState([]),[s,i]=b.useState(!1),[a,l]=b.useState(null);b.useEffect(()=>{c()},[]),b.useEffect(()=>{d()},[n]);const c=()=>{const p=localStorage.getItem("tasks");p&&e(JSON.parse(p))},d=()=>{const p=n.filter(h=>h.status==="todo"),m=n.filter(h=>h.status==="inProgress"),w=n.filter(h=>h.status==="done");t([{id:"todo",title:"To Do",color:"#64748b",tasks:p},{id:"inProgress",title:"進行中",color:"#6366f1",tasks:m},{id:"done",title:"完了",color:"#10b981",tasks:w}])},u=p=>{const{destination:m,source:w,draggableId:h}=p;if(!m||m.droppableId===w.droppableId&&m.index===w.index)return;const y=r.find(F=>F.id===w.droppableId),S=r.find(F=>F.id===m.droppableId);if(!y||!S)return;const D=Array.from(y.tasks),E=w.droppableId===m.droppableId?D:Array.from(S.tasks),[I]=D.splice(w.index,1);E.splice(m.index,0,I);const A={...I,status:m.droppableId},T=n.map(F=>F.id===A.id?A:F);localStorage.setItem("tasks",JSON.stringify(T)),e(T)},g=()=>{if(!a)return;const p=a.id?n.map(m=>m.id===a.id?a:m):[...n,a];localStorage.setItem("tasks",JSON.stringify(p)),e(p),i(!1),l(null)},x=()=>{if(!a)return;const p=n.filter(m=>m.id!==a.id);localStorage.setItem("tasks",JSON.stringify(p)),e(p),i(!1),l(null)},f=p=>{switch(p){case"high":return"#ef4444";case"medium":return"#f59e0b";case"low":return"#10b981";default:return"#64748b"}},v=p=>new Date(p)<new Date;return o.jsx(M,{sx:{p:2,height:"calc(100vh - 120px)",overflow:"hidden",backgroundColor:"#f8fafc"},children:o.jsxs(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},style:{height:"100%"},children:[o.jsx(M,{sx:{display:"flex",height:"100%",gap:2,overflowX:"auto",pb:2},children:o.jsx(Fa,{onDragEnd:u,children:r.map(p=>o.jsx(M,{sx:{minWidth:300,maxWidth:300,flexShrink:0,display:"flex",flexDirection:"column"},children:o.jsxs(Fe,{sx:{height:"100%",display:"flex",flexDirection:"column",backgroundColor:"background.paper",borderRadius:2,boxShadow:"0 1px 3px rgba(0, 0, 0, 0.05)",border:"1px solid #e2e8f0"},children:[o.jsxs(M,{sx:{p:2,borderBottom:"1px solid #e2e8f0",display:"flex",alignItems:"center",justifyContent:"space-between",backgroundColor:"background.paper"},children:[o.jsxs(M,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(M,{sx:{width:12,height:12,borderRadius:"50%",backgroundColor:p.color}}),o.jsx(O,{variant:"h6",sx:{fontWeight:600,fontSize:"1rem",color:"text.primary"},children:p.title}),o.jsx(St,{badgeContent:p.tasks.length,sx:{"& .MuiBadge-badge":{backgroundColor:p.color,color:"white",fontSize:"0.75rem",fontWeight:600}}})]}),o.jsx(Ee,{title:"新しいタスク",children:o.jsx(be,{size:"small",onClick:()=>{const m={id:Date.now().toString(),title:"",description:"",status:p.id,priority:"medium",dueDate:je(new Date,"yyyy-MM-dd"),assignee:"",createdAt:new Date().toISOString()};l(m),i(!0)},sx:{backgroundColor:p.color,color:"white","&:hover":{backgroundColor:p.color,opacity:.8}},children:o.jsx(ct,{sx:{fontSize:18}})})})]}),o.jsx(Va,{droppableId:p.id,children:(m,w)=>o.jsxs(M,{ref:m.innerRef,...m.droppableProps,sx:{flexGrow:1,p:1,backgroundColor:w.isDraggingOver?"#f1f5f9":"transparent",borderRadius:1,minHeight:200,overflowY:"auto"},children:[o.jsx(Rr,{children:p.tasks.map((h,y)=>o.jsx(Wa,{draggableId:h.id,index:y,children:(S,D)=>{var E,I;return o.jsx(Pe.div,{ref:S.innerRef,...S.draggableProps,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.2},style:{...S.draggableProps.style,transform:D.isDragging?`${(E=S.draggableProps.style)==null?void 0:E.transform} rotate(2deg)`:(I=S.draggableProps.style)==null?void 0:I.transform},children:o.jsx(jt,{sx:{mb:1,cursor:"grab",backgroundColor:"background.paper",borderRadius:1,border:"1px solid #e2e8f0",boxShadow:D.isDragging?"0 8px 24px rgba(0, 0, 0, 0.15)":"0 1px 3px rgba(0, 0, 0, 0.05)","&:hover":{boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)",transform:"translateY(-1px)"},transition:"all 0.2s ease"},...S.dragHandleProps,children:o.jsx(ot,{sx:{p:1.5},children:o.jsxs(M,{sx:{display:"flex",alignItems:"flex-start",gap:1},children:[o.jsx(ki,{sx:{color:"#adb5bd",mt:.5,fontSize:16}}),o.jsxs(M,{sx:{flexGrow:1,minWidth:0},children:[o.jsx(O,{variant:"body2",sx:{fontWeight:500,mb:.5,lineHeight:1.3,overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",color:"text.primary"},children:h.title}),h.description&&o.jsx(O,{variant:"caption",color:"text.secondary",sx:{mb:1,overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",color:"text.secondary"},children:h.description}),o.jsxs(M,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[o.jsx(He,{label:h.priority==="high"?"高":h.priority==="medium"?"中":"低",size:"small",sx:{backgroundColor:f(h.priority),color:"white",fontSize:"0.625rem",height:20,"& .MuiChip-label":{px:1}}}),h.assignee&&o.jsx(it,{sx:{width:20,height:20,fontSize:"0.75rem",bgcolor:"#007bff"},children:h.assignee.charAt(0)})]}),o.jsxs(M,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[o.jsxs(M,{sx:{display:"flex",alignItems:"center",gap:.5},children:[o.jsx(Vn,{sx:{fontSize:14,color:v(h.dueDate)?"#dc3545":"#6c757d"}}),o.jsx(O,{variant:"caption",color:v(h.dueDate)?"error.main":"text.secondary",sx:{fontSize:"0.625rem",color:v(h.dueDate)?"error.main":"text.secondary"},children:je(new Date(h.dueDate),"M/d")})]}),o.jsxs(M,{sx:{display:"flex",gap:.5},children:[o.jsx(Ee,{title:"編集",children:o.jsx(be,{size:"small",onClick:A=>{A.stopPropagation(),l(h),i(!0)},sx:{width:24,height:24,color:"#6c757d","&:hover":{backgroundColor:"#f8f9fa"}},children:o.jsx(hn,{sx:{fontSize:14}})})}),o.jsx(Ee,{title:"削除",children:o.jsx(be,{size:"small",color:"error",onClick:A=>{A.stopPropagation();const T=n.filter(F=>F.id!==h.id);localStorage.setItem("tasks",JSON.stringify(T)),e(T)},sx:{width:24,height:24,"&:hover":{backgroundColor:"#fff5f5"}},children:o.jsx(at,{sx:{fontSize:14}})})})]})]})]})]})})})})}},h.id))}),m.placeholder]})})]})},p.id))})}),o.jsx(kr,{color:"primary","aria-label":"新しいタスク",onClick:()=>{const p={id:Date.now().toString(),title:"",description:"",status:"todo",priority:"medium",dueDate:je(new Date,"yyyy-MM-dd"),assignee:"",createdAt:new Date().toISOString()};l(p),i(!0)},sx:{position:"fixed",bottom:24,right:24,backgroundColor:"#6366f1","&:hover":{backgroundColor:"#4f46e5"}},children:o.jsx(ct,{})}),o.jsxs(kt,{open:s,onClose:()=>i(!1),maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:3}},children:[o.jsx(Ut,{children:o.jsxs(M,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[o.jsx(O,{variant:"h6",sx:{fontWeight:600},children:a!=null&&a.id?"タスクを編集":"新しいタスク"}),(a==null?void 0:a.id)&&o.jsx(Ee,{title:"削除",children:o.jsx(be,{color:"error",onClick:x,sx:{color:"error.main"},children:o.jsx(at,{})})})]})}),o.jsx(Et,{children:o.jsxs(M,{sx:{mt:2},children:[o.jsx(le,{fullWidth:!0,label:"タイトル",value:(a==null?void 0:a.title)||"",onChange:p=>l(m=>m?{...m,title:p.target.value}:null),sx:{mb:2},placeholder:"タスクのタイトルを入力..."}),o.jsx(le,{fullWidth:!0,label:"説明",multiline:!0,rows:3,value:(a==null?void 0:a.description)||"",onChange:p=>l(m=>m?{...m,description:p.target.value}:null),sx:{mb:2},placeholder:"タスクの詳細を入力..."}),o.jsxs(M,{sx:{display:"flex",gap:2,mb:2},children:[o.jsxs(Ye,{fullWidth:!0,children:[o.jsx(qe,{children:"ステータス"}),o.jsxs(Qe,{value:(a==null?void 0:a.status)||"todo",onChange:p=>l(m=>m?{...m,status:p.target.value}:null),label:"ステータス",children:[o.jsx(ne,{value:"todo",children:"To Do"}),o.jsx(ne,{value:"inProgress",children:"In Progress"}),o.jsx(ne,{value:"done",children:"Done"})]})]}),o.jsxs(Ye,{fullWidth:!0,children:[o.jsx(qe,{children:"優先度"}),o.jsxs(Qe,{value:(a==null?void 0:a.priority)||"medium",onChange:p=>l(m=>m?{...m,priority:p.target.value}:null),label:"優先度",children:[o.jsx(ne,{value:"low",children:"低"}),o.jsx(ne,{value:"medium",children:"中"}),o.jsx(ne,{value:"high",children:"高"})]})]})]}),o.jsx(le,{fullWidth:!0,label:"期限",type:"date",value:(a==null?void 0:a.dueDate)||"",onChange:p=>l(m=>m?{...m,dueDate:p.target.value}:null),InputLabelProps:{shrink:!0},sx:{mb:2}}),o.jsx(le,{fullWidth:!0,label:"担当者",value:(a==null?void 0:a.assignee)||"",onChange:p=>l(m=>m?{...m,assignee:p.target.value}:null),placeholder:"担当者の名前を入力..."})]})}),o.jsxs(Tt,{children:[o.jsx(de,{onClick:()=>i(!1),children:"キャンセル"}),o.jsx(de,{variant:"contained",onClick:g,disabled:!(a!=null&&a.title),sx:{backgroundColor:"#007bff","&:hover":{backgroundColor:"#0056b3"}},children:"保存"})]})]})]})})};class Gc extends Ua{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(e){return e.allDay?["allDay"]:["timed"]}getKeysForEventDef(e){return e.allDay?Ya(e)?["timed","allDay"]:["allDay"]:["timed"]}}const Kc=dn({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function Po(n){let e=["fc-timegrid-slot","fc-timegrid-slot-label",n.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return N(Ka.Consumer,null,r=>{if(!n.isLabeled)return N("td",{className:e.join(" "),"data-time":n.isoTimeStr});let{dateEnv:t,options:s,viewApi:i}=r,a=s.slotLabelFormat==null?Kc:Array.isArray(s.slotLabelFormat)?dn(s.slotLabelFormat[0]):dn(s.slotLabelFormat),l={level:0,time:n.time,date:t.toDate(n.date),view:i,text:t.format(n.date,a)};return N(Ar,{elTag:"td",elClasses:e,elAttrs:{"data-time":n.isoTimeStr},renderProps:l,generatorName:"slotLabelContent",customGenerator:s.slotLabelContent,defaultGenerator:Xc,classNameGenerator:s.slotLabelClassNames,didMount:s.slotLabelDidMount,willUnmount:s.slotLabelWillUnmount},c=>N("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},N(c,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function Xc(n){return n.text}class Jc extends It{render(){return this.props.slatMetas.map(e=>N("tr",{key:e.key},N(Po,Object.assign({},e))))}}const Zc=dn({week:"short"}),ed=5;class td extends Or{constructor(){super(...arguments),this.allDaySplitter=new Gc,this.headerElRef=Lt(),this.rootElRef=Lt(),this.scrollerElRef=Lt(),this.state={slatCoords:null},this.handleScrollTopRequest=e=>{let r=this.scrollerElRef.current;r&&(r.scrollTop=e)},this.renderHeadAxis=(e,r="")=>{let{options:t}=this.context,{dateProfile:s}=this.props,i=s.renderRange,l=_a(i.start,i.end)===1?Ha(this.context,i.start,"week"):{};return t.weekNumbers&&e==="day"?N(za,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:i.start,defaultFormat:Zc},c=>N("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:r}},N(c,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:l}))):N("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},N("div",{className:"fc-timegrid-axis-frame",style:{height:r}}))},this.renderTableRowAxis=e=>{let{options:r,viewApi:t}=this.context,s={text:r.allDayText,view:t};return N(Ar,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:s,generatorName:"allDayContent",customGenerator:r.allDayContent,defaultGenerator:nd,classNameGenerator:r.allDayClassNames,didMount:r.allDayDidMount,willUnmount:r.allDayWillUnmount},i=>N("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",e==null?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:e}},N(i,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=e=>{this.setState({slatCoords:e})}}renderSimpleLayout(e,r,t){let{context:s,props:i}=this,a=[],l=fs(s.options);return e&&a.push({type:"header",key:"header",isSticky:l,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),r&&(a.push({type:"body",key:"all-day",chunk:{content:r}}),a.push({type:"body",key:"all-day-divider",outerContent:N("tr",{role:"presentation",className:"fc-scrollgrid-section"},N("td",{className:"fc-timegrid-divider "+s.theme.getClass("tableCellShaded")}))})),a.push({type:"body",key:"body",liquid:!0,expandRows:!!s.options.expandRows,chunk:{scrollerElRef:this.scrollerElRef,content:t}}),N(ps,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:s.viewSpec},N(Ba,{liquid:!i.isHeightAuto&&!i.forPrint,collapsibleWidth:i.forPrint,cols:[{width:"shrink"}],sections:a}))}renderHScrollLayout(e,r,t,s,i,a,l){let c=this.context.pluginHooks.scrollGridImpl;if(!c)throw new Error("No ScrollGrid implementation");let{context:d,props:u}=this,g=!u.forPrint&&fs(d.options),x=!u.forPrint&&$a(d.options),f=[];e&&f.push({type:"header",key:"header",isSticky:g,syncRowHeights:!0,chunks:[{key:"axis",rowContent:p=>N("tr",{role:"presentation"},this.renderHeadAxis("day",p.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),r&&(f.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:p=>N("tr",{role:"presentation"},this.renderTableRowAxis(p.rowSyncHeights[0]))},{key:"cols",content:r}]}),f.push({key:"all-day-divider",type:"body",outerContent:N("tr",{role:"presentation",className:"fc-scrollgrid-section"},N("td",{colSpan:2,className:"fc-timegrid-divider "+d.theme.getClass("tableCellShaded")}))}));let v=d.options.nowIndicator;return f.push({type:"body",key:"body",liquid:!0,expandRows:!!d.options.expandRows,chunks:[{key:"axis",content:p=>N("div",{className:"fc-timegrid-axis-chunk"},N("table",{"aria-hidden":!0,style:{height:p.expandRows?p.clientHeight:""}},p.tableColGroupNode,N("tbody",null,N(Jc,{slatMetas:a}))),N("div",{className:"fc-timegrid-now-indicator-container"},N(no,{unit:v?"minute":"day"},m=>{let w=v&&l&&l.safeComputeTop(m);return typeof w=="number"?N(Fr,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:w},isAxis:!0,date:m}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:t}]}),x&&f.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:ms},{key:"cols",content:ms}]}),N(ps,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:d.viewSpec},N(c,{liquid:!u.isHeightAuto&&!u.forPrint,forPrint:u.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:s,minWidth:i}]}],sections:f}))}getAllDayMaxEventProps(){let{dayMaxEvents:e,dayMaxEventRows:r}=this.context.options;return(e===!0||r===!0)&&(e=void 0,r=ed),{dayMaxEvents:e,dayMaxEventRows:r}}}function nd(n){return n.text}class rd{constructor(e,r,t){this.positions=e,this.dateProfile=r,this.slotDuration=t}safeComputeTop(e){let{dateProfile:r}=this;if(ll(r.currentRange,e)){let t=vr(e),s=e.valueOf()-t.valueOf();if(s>=Vt(r.slotMinTime)&&s<Vt(r.slotMaxTime))return this.computeTimeTop(Bt(s))}return null}computeDateTop(e,r){return r||(r=vr(e)),this.computeTimeTop(Bt(e.valueOf()-r.valueOf()))}computeTimeTop(e){let{positions:r,dateProfile:t}=this,s=r.els.length,i=(e.milliseconds-Vt(t.slotMinTime))/Vt(this.slotDuration),a,l;return i=Math.max(0,i),i=Math.min(s,i),a=Math.floor(i),a=Math.min(a,s-1),l=i-a,r.tops[a]+r.getHeight(a)*l}}class sd extends It{render(){let{props:e,context:r}=this,{options:t}=r,{slatElRefs:s}=e;return N("tbody",null,e.slatMetas.map((i,a)=>{let l={time:i.time,date:r.dateEnv.toDate(i.date),view:r.viewApi};return N("tr",{key:i.key,ref:s.createRef(i.key)},e.axis&&N(Po,Object.assign({},i)),N(Ar,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!i.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":i.isoTimeStr},renderProps:l,generatorName:"slotLaneContent",customGenerator:t.slotLaneContent,classNameGenerator:t.slotLaneClassNames,didMount:t.slotLaneDidMount,willUnmount:t.slotLaneWillUnmount}))}))}}class od extends It{constructor(){super(...arguments),this.rootElRef=Lt(),this.slatElRefs=new ro}render(){let{props:e,context:r}=this;return N("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},N("table",{"aria-hidden":!0,className:r.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,N(sd,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:e,props:r}=this;r.onCoords&&r.clientWidth!==null&&this.rootElRef.current.offsetHeight&&r.onCoords(new rd(new so(this.rootElRef.current,id(this.slatElRefs.currentMap,r.slatMetas),!1,!0),this.props.dateProfile,e.options.slotDuration))}}function id(n,e){return e.map(r=>n[r.key])}function en(n,e){let r=[],t;for(t=0;t<e;t+=1)r.push([]);if(n)for(t=0;t<n.length;t+=1)r[n[t].col].push(n[t]);return r}function Ds(n,e){let r=[];if(n){for(let t=0;t<e;t+=1)r[t]={affectedInstances:n.affectedInstances,isEvent:n.isEvent,segs:[]};for(let t of n.segs)r[t.col].segs.push(t)}else for(let t=0;t<e;t+=1)r[t]=null;return r}class ad extends It{render(){let{props:e}=this;return N(dl,{elClasses:["fc-timegrid-more-link"],elStyle:{top:e.top,bottom:e.bottom},allDayDate:null,moreCnt:e.hiddenSegs.length,allSegs:e.hiddenSegs,hiddenSegs:e.hiddenSegs,extraDateSpan:e.extraDateSpan,dateProfile:e.dateProfile,todayRange:e.todayRange,popoverContent:()=>ko(e.hiddenSegs,e),defaultGenerator:ld,forceTimed:!0},r=>N(r,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}}function ld(n){return n.shortText}function cd(n,e,r){let t=new ul;e!=null&&(t.strictOrder=e),r!=null&&(t.maxStackCnt=r);let s=t.addSegs(n),i=hl(s),a=dd(t);return a=pd(a,1),{segRects:md(a),hiddenGroups:i}}function dd(n){const{entriesByLevel:e}=n,r=zr((t,s)=>t+":"+s,(t,s)=>{let i=fd(n,t,s),a=Cs(i,r),l=e[t][s];return[Object.assign(Object.assign({},l),{nextLevelNodes:a[0]}),l.thickness+a[1]]});return Cs(e.length?{level:0,lateralStart:0,lateralEnd:e[0].length}:null,r)[0]}function Cs(n,e){if(!n)return[[],0];let{level:r,lateralStart:t,lateralEnd:s}=n,i=t,a=[];for(;i<s;)a.push(e(r,i)),i+=1;return a.sort(ud),[a.map(hd),a[0][1]]}function ud(n,e){return e[1]-n[1]}function hd(n){return n[0]}function fd(n,e,r){let{levelCoords:t,entriesByLevel:s}=n,i=s[e][r],a=t[e]+i.thickness,l=t.length,c=e;for(;c<l&&t[c]<a;c+=1);for(;c<l;c+=1){let d=s[c],u,g=pl(d,i.span.start,ml),x=g[0]+g[1],f=x;for(;(u=d[f])&&u.span.start<i.span.end;)f+=1;if(x<f)return{level:c,lateralStart:x,lateralEnd:f}}return null}function pd(n,e){const r=zr((t,s,i)=>oo(t),(t,s,i)=>{let{nextLevelNodes:a,thickness:l}=t,c=l+i,d=l/c,u,g=[];if(!a.length)u=e;else for(let f of a)if(u===void 0){let v=r(f,s,c);u=v[0],g.push(v[1])}else{let v=r(f,u,0);g.push(v[1])}let x=(u-s)*d;return[u-x,Object.assign(Object.assign({},t),{thickness:x,nextLevelNodes:g})]});return n.map(t=>r(t,0,0)[1])}function md(n){let e=[];const r=zr((s,i,a)=>oo(s),(s,i,a)=>{let l=Object.assign(Object.assign({},s),{levelCoord:i,stackDepth:a,stackForward:0});return e.push(l),l.stackForward=t(s.nextLevelNodes,i+s.thickness,a+1)+1});function t(s,i,a){let l=0;for(let c of s)l=Math.max(r(c,i,a),l);return l}return t(n,0,0),e}function zr(n,e){const r={};return(...t)=>{let s=n(...t);return s in r?r[s]:r[s]=e(...t)}}function js(n,e,r=null,t=0){let s=[];if(r)for(let i=0;i<n.length;i+=1){let a=n[i],l=r.computeDateTop(a.start,e),c=Math.max(l+(t||0),r.computeDateTop(a.end,e));s.push({start:Math.round(l),end:Math.round(c)})}return s}function gd(n,e,r,t){let s=[],i=[];for(let d=0;d<n.length;d+=1){let u=e[d];u?s.push({index:d,thickness:1,span:u}):i.push(n[d])}let{segRects:a,hiddenGroups:l}=cd(s,r,t),c=[];for(let d of a)c.push({seg:n[d.index],rect:d});for(let d of i)c.push({seg:d,rect:null});return{segPlacements:c,hiddenGroups:l}}const xd=dn({hour:"numeric",minute:"2-digit",meridiem:!1});class Mo extends It{render(){return N(cl,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:xd}))}}class yd extends It{constructor(){super(...arguments),this.sortEventSegs=Ue(el)}render(){let{props:e,context:r}=this,{options:t}=r,s=t.selectMirror,i=e.eventDrag&&e.eventDrag.segs||e.eventResize&&e.eventResize.segs||s&&e.dateSelectionSegs||[],a=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{},l=this.sortEventSegs(e.fgEventSegs,t.eventOrder);return N(nl,{elTag:"td",elRef:e.elRef,elClasses:["fc-timegrid-col",...e.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},e.extraDataAttrs),date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraRenderProps:e.extraRenderProps},c=>N("div",{className:"fc-timegrid-col-frame"},N("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(e.businessHourSegs,"non-business"),this.renderFillSegs(e.bgEventSegs,"bg-event"),this.renderFillSegs(e.dateSelectionSegs,"highlight")),N("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(l,a,!1,!1,!1)),N("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(i,{},!!e.eventDrag,!!e.eventResize,!!s,"mirror")),N("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(e.nowIndicatorSegs)),tl(t)&&N(c,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(e,r,t,s,i,a){let{props:l}=this;return l.forPrint?ko(e,l):this.renderPositionedFgSegs(e,r,t,s,i,a)}renderPositionedFgSegs(e,r,t,s,i,a){let{eventMaxStack:l,eventShortHeight:c,eventOrderStrict:d,eventMinHeight:u}=this.context.options,{date:g,slatCoords:x,eventSelection:f,todayRange:v,nowDate:p}=this.props,m=t||s||i,w=js(e,g,x,u),{segPlacements:h,hiddenGroups:y}=gd(e,w,d,l);return N(Dn,null,this.renderHiddenGroups(y,e),h.map(S=>{let{seg:D,rect:E}=S,I=D.eventRange.instance.instanceId,A=m||!!(!r[I]&&E),T=hr(E&&E.span),F=!m&&E?this.computeSegHStyle(E):{left:0,right:0},L=!!E&&E.stackForward>0,H=!!E&&E.span.end-E.span.start<c;return N("div",{className:"fc-timegrid-event-harness"+(L?" fc-timegrid-event-harness-inset":""),key:a||I,style:Object.assign(Object.assign({visibility:A?"":"hidden"},T),F)},N(Mo,Object.assign({seg:D,isDragging:t,isResizing:s,isDateSelecting:i,isSelected:I===f,isShort:H},yr(D,v,p))))}))}renderHiddenGroups(e,r){let{extraDateSpan:t,dateProfile:s,todayRange:i,nowDate:a,eventSelection:l,eventDrag:c,eventResize:d}=this.props;return N(Dn,null,e.map(u=>{let g=hr(u.span),x=vd(u.entries,r);return N(ad,{key:rl(sl(x)),hiddenSegs:x,top:g.top,bottom:g.bottom,extraDateSpan:t,dateProfile:s,todayRange:i,nowDate:a,eventSelection:l,eventDrag:c,eventResize:d})}))}renderFillSegs(e,r){let{props:t,context:s}=this,a=js(e,t.date,t.slatCoords,s.options.eventMinHeight).map((l,c)=>{let d=e[c];return N("div",{key:al(d.eventRange),className:"fc-timegrid-bg-harness",style:hr(l)},r==="bg-event"?N(il,Object.assign({seg:d},yr(d,t.todayRange,t.nowDate))):ol(r))});return N(Dn,null,a)}renderNowIndicator(e){let{slatCoords:r,date:t}=this.props;return r?e.map((s,i)=>N(Fr,{key:i,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:r.computeDateTop(s.start,t)},isAxis:!1,date:t})):null}computeSegHStyle(e){let{isRtl:r,options:t}=this.context,s=t.slotEventOverlap,i=e.levelCoord,a=e.levelCoord+e.thickness,l,c;s&&(a=Math.min(1,i+(a-i)*2)),r?(l=1-a,c=i):(l=i,c=1-a);let d={zIndex:e.stackDepth+1,left:l*100+"%",right:c*100+"%"};return s&&!e.stackForward&&(d[r?"marginLeft":"marginRight"]=10*2),d}}function ko(n,{todayRange:e,nowDate:r,eventSelection:t,eventDrag:s,eventResize:i}){let a=(s?s.affectedInstances:null)||(i?i.affectedInstances:null)||{};return N(Dn,null,n.map(l=>{let c=l.eventRange.instance.instanceId;return N("div",{key:c,style:{visibility:a[c]?"hidden":""}},N(Mo,Object.assign({seg:l,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:c===t,isShort:!1},yr(l,e,r))))}))}function hr(n){return n?{top:n.start,bottom:-n.end}:{top:"",bottom:""}}function vd(n,e){return n.map(r=>e[r.index])}class bd extends It{constructor(){super(...arguments),this.splitFgEventSegs=Ue(en),this.splitBgEventSegs=Ue(en),this.splitBusinessHourSegs=Ue(en),this.splitNowIndicatorSegs=Ue(en),this.splitDateSelectionSegs=Ue(en),this.splitEventDrag=Ue(Ds),this.splitEventResize=Ue(Ds),this.rootElRef=Lt(),this.cellElRefs=new ro}render(){let{props:e,context:r}=this,t=r.options.nowIndicator&&e.slatCoords&&e.slatCoords.safeComputeTop(e.nowDate),s=e.cells.length,i=this.splitFgEventSegs(e.fgEventSegs,s),a=this.splitBgEventSegs(e.bgEventSegs,s),l=this.splitBusinessHourSegs(e.businessHourSegs,s),c=this.splitNowIndicatorSegs(e.nowIndicatorSegs,s),d=this.splitDateSelectionSegs(e.dateSelectionSegs,s),u=this.splitEventDrag(e.eventDrag,s),g=this.splitEventResize(e.eventResize,s);return N("div",{className:"fc-timegrid-cols",ref:this.rootElRef},N("table",{role:"presentation",style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,N("tbody",{role:"presentation"},N("tr",{role:"row"},e.axis&&N("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},N("div",{className:"fc-timegrid-col-frame"},N("div",{className:"fc-timegrid-now-indicator-container"},typeof t=="number"&&N(Fr,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:t},isAxis:!0,date:e.nowDate})))),e.cells.map((x,f)=>N(yd,{key:x.key,elRef:this.cellElRefs.createRef(x.key),dateProfile:e.dateProfile,date:x.date,nowDate:e.nowDate,todayRange:e.todayRange,extraRenderProps:x.extraRenderProps,extraDataAttrs:x.extraDataAttrs,extraClassNames:x.extraClassNames,extraDateSpan:x.extraDateSpan,fgEventSegs:i[f],bgEventSegs:a[f],businessHourSegs:l[f],nowIndicatorSegs:c[f],dateSelectionSegs:d[f],eventDrag:u[f],eventResize:g[f],slatCoords:e.slatCoords,eventSelection:e.eventSelection,forPrint:e.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:e}=this;e.onColCoords&&e.clientWidth!==null&&e.onColCoords(new so(this.rootElRef.current,wd(this.cellElRefs.currentMap,e.cells),!0,!1))}}function wd(n,e){return e.map(r=>n[r.key])}class Sd extends Or{constructor(){super(...arguments),this.processSlotOptions=Ue(Dd),this.state={slatCoords:null},this.handleRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=e=>{let{onScrollTopRequest:r}=this.props,{slatCoords:t}=this.state;if(r&&t){if(e.time){let s=t.computeTimeTop(e.time);s=Math.ceil(s),s&&(s+=1),r(s)}return!0}return!1},this.handleColCoords=e=>{this.colCoords=e},this.handleSlatCoords=e=>{this.setState({slatCoords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)}}render(){let{props:e,state:r}=this;return N("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},N(od,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),N(bd,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:r.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(e,r){let{dateEnv:t,options:s}=this.context,{colCoords:i}=this,{dateProfile:a}=this.props,{slatCoords:l}=this.state,{snapDuration:c,snapsPerSlot:d}=this.processSlotOptions(this.props.slotDuration,s.snapDuration),u=i.leftToIndex(e),g=l.positions.topToIndex(r);if(u!=null&&g!=null){let x=this.props.cells[u],f=l.positions.tops[g],v=l.positions.getHeight(g),p=(r-f)/v,m=Math.floor(p*d),w=g*d+m,h=this.props.cells[u].date,y=xr(a.slotMinTime,Za(c,w)),S=t.add(h,y),D=t.add(S,c);return{dateProfile:a,dateSpan:Object.assign({range:{start:S,end:D},allDay:!1},x.extraDateSpan),dayEl:i.els[u],rect:{left:i.lefts[u],right:i.rights[u],top:f,bottom:f+v},layer:0}}return null}}function Dd(n,e){let r=e||n,t=Vr(n,r);return t===null&&(r=n,t=1),{snapDuration:r,snapsPerSlot:t}}class Cd extends Xa{sliceRange(e,r){let t=[];for(let s=0;s<r.length;s+=1){let i=Ja(e,r[s]);i&&t.push({start:i.start,end:i.end,isStart:i.start.valueOf()===e.start.valueOf(),isEnd:i.end.valueOf()===e.end.valueOf(),col:s})}return t}}class jd extends Or{constructor(){super(...arguments),this.buildDayRanges=Ue(Pd),this.slicer=new Cd,this.timeColsRef=Lt()}render(){let{props:e,context:r}=this,{dateProfile:t,dayTableModel:s}=e,{nowIndicator:i,nextDayThreshold:a}=r.options,l=this.buildDayRanges(s,t,r.dateEnv);return N(no,{unit:i?"minute":"day"},(c,d)=>N(Sd,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(e,t,null,r,l),{forPrint:e.forPrint,axis:e.axis,dateProfile:t,slatMetas:e.slatMetas,slotDuration:e.slotDuration,cells:s.cells[0],tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,expandRows:e.expandRows,nowDate:c,nowIndicatorSegs:i&&this.slicer.sliceNowDate(c,t,a,r,l),todayRange:d,onScrollTopRequest:e.onScrollTopRequest,onSlatCoords:e.onSlatCoords})))}}function Pd(n,e,r){let t=[];for(let s of n.headerDates)t.push({start:r.add(s,e.slotMinTime),end:r.add(s,e.slotMaxTime)});return t}const Ps=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function Md(n,e,r,t,s){let i=new Date(0),a=n,l=Bt(0),c=r||kd(t),d=[];for(;Vt(a)<Vt(e);){let u=s.add(i,a),g=Vr(l,c)!==null;d.push({date:u,time:a,key:u.toISOString(),isoTimeStr:Ga(u),isLabeled:g}),a=xr(a,t),l=xr(l,t)}return d}function kd(n){let e,r,t;for(e=Ps.length-1;e>=0;e-=1)if(r=Bt(Ps[e]),t=Vr(r,n),t!==null&&t>1)return r;return n}class Ed extends td{constructor(){super(...arguments),this.buildTimeColsModel=Ue(Td),this.buildSlatMetas=Ue(Md)}render(){let{options:e,dateEnv:r,dateProfileGenerator:t}=this.context,{props:s}=this,{dateProfile:i}=s,a=this.buildTimeColsModel(i,t),l=this.allDaySplitter.splitProps(s),c=this.buildSlatMetas(i.slotMinTime,i.slotMaxTime,e.slotLabelInterval,e.slotDuration,r),{dayMinWidth:d}=e,u=!d,g=d,x=e.dayHeaders&&N(La,{dates:a.headerDates,dateProfile:i,datesRepDistinctDays:!0,renderIntro:u?this.renderHeadAxis:null}),f=e.allDaySlot!==!1&&(p=>N(Na,Object.assign({},l.allDay,{dateProfile:i,dayTableModel:a,nextDayThreshold:e.nextDayThreshold,tableMinWidth:p.tableMinWidth,colGroupNode:p.tableColGroupNode,renderRowIntro:u?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:p.clientWidth,clientHeight:p.clientHeight,forPrint:s.forPrint},this.getAllDayMaxEventProps()))),v=p=>N(jd,Object.assign({},l.timed,{dayTableModel:a,dateProfile:i,axis:u,slotDuration:e.slotDuration,slatMetas:c,forPrint:s.forPrint,tableColGroupNode:p.tableColGroupNode,tableMinWidth:p.tableMinWidth,clientWidth:p.clientWidth,clientHeight:p.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:p.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return g?this.renderHScrollLayout(x,f,v,a.colCnt,d,c,this.state.slatCoords):this.renderSimpleLayout(x,f,v)}}function Td(n,e){let r=new qa(n.renderRange,e);return new Qa(r,!1)}var Id='.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-arrow,.fc .fc-timegrid-now-indicator-line{pointer-events:none}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}';fl(Id);const Rd={allDaySlot:Boolean};var Od=io({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:Rd,views:{timeGrid:{component:Ed,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});_r.touchMouseIgnoreWait=500;let Dr=0,Rn=0,Cr=!1;class Eo{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=r=>{if(!this.shouldIgnoreMouse()&&Ad(r)&&this.tryStart(r)){let t=this.createEventFromMouse(r,!0);this.emitter.trigger("pointerdown",t),this.initScrollWatch(t),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=r=>{let t=this.createEventFromMouse(r);this.recordCoords(t),this.emitter.trigger("pointermove",t)},this.handleMouseUp=r=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(r)),this.cleanup()},this.handleTouchStart=r=>{if(this.tryStart(r)){this.isTouchDragging=!0;let t=this.createEventFromTouch(r,!0);this.emitter.trigger("pointerdown",t),this.initScrollWatch(t);let s=r.target;this.shouldIgnoreMove||s.addEventListener("touchmove",this.handleTouchMove),s.addEventListener("touchend",this.handleTouchEnd),s.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=r=>{let t=this.createEventFromTouch(r);this.recordCoords(t),this.emitter.trigger("pointermove",t)},this.handleTouchEnd=r=>{if(this.isDragging){let t=r.target;t.removeEventListener("touchmove",this.handleTouchMove),t.removeEventListener("touchend",this.handleTouchEnd),t.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(r)),this.cleanup(),this.isTouchDragging=!1,Fd()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=r=>{if(!this.shouldIgnoreMove){let t=window.scrollX-this.prevScrollX+this.prevPageX,s=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:r,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:t,pageY:s,deltaX:t-this.origPageX,deltaY:s-this.origPageY})}},this.containerEl=e,this.emitter=new uo,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),Vd()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),Wd()}tryStart(e){let r=this.querySubjectEl(e),t=e.target;return r&&(!this.handleSelector||Mt(t,this.handleSelector))?(this.subjectEl=r,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){Cr=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?Mt(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return Dr||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(Cr=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,r){let t=0,s=0;return r?(this.origPageX=e.pageX,this.origPageY=e.pageY):(t=e.pageX-this.origPageX,s=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:t,deltaY:s}}createEventFromTouch(e,r){let t=e.touches,s,i,a=0,l=0;return t&&t.length?(s=t[0].pageX,i=t[0].pageY):(s=e.pageX,i=e.pageY),r?(this.origPageX=s,this.origPageY=i):(a=s-this.origPageX,l=i-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:s,pageY:i,deltaX:a,deltaY:l}}}function Ad(n){return n.button===0&&!n.ctrlKey}function Fd(){Dr+=1,setTimeout(()=>{Dr-=1},_r.touchMouseIgnoreWait)}function Vd(){Rn+=1,Rn===1&&window.addEventListener("touchmove",To,{passive:!1})}function Wd(){Rn-=1,Rn||window.removeEventListener("touchmove",To,{passive:!1})}function To(n){Cr&&n.preventDefault()}class Ld{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,r,t){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=r-window.scrollX,this.origScreenY=t-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,r){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=r-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,r){let t=()=>{this.cleanup(),r()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(t,this.revertDuration):setTimeout(t,0)}doRevertAnimation(e,r){let t=this.mirrorEl,s=this.sourceEl.getBoundingClientRect();t.style.transition="top "+r+"ms,left "+r+"ms",cr(t,{left:s.left,top:s.top}),jl(t,()=>{t.style.transition="",e()})}cleanup(){this.mirrorEl&&(Pl(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&cr(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,r=this.mirrorEl;return r||(r=this.mirrorEl=this.sourceEl.cloneNode(!0),r.style.userSelect="none",r.style.webkitUserSelect="none",r.style.pointerEvents="none",r.classList.add("fc-event-dragging"),cr(r,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(r)),r}}class Io extends Wl{constructor(e,r){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=r,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class Ro extends Io{constructor(e,r){super(new Fl(e),r)}getEventTarget(){return this.scrollController.el}computeClientRect(){return Vl(this.scrollController.el)}}class Nd extends Io{constructor(e){super(new Al,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const Ms=typeof performance=="function"?performance.now:Date.now;class _d{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let r=Ms();this.handleSide(e,(r-this.msSinceRequest)/1e3),this.requestAnimation(r)}else this.isAnimating=!1}}}start(e,r,t){this.isEnabled&&(this.scrollCaches=this.buildCaches(t),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,r))}handleMove(e,r){if(this.isEnabled){let t=e-window.scrollX,s=r-window.scrollY,i=this.pointerScreenY===null?0:s-this.pointerScreenY,a=this.pointerScreenX===null?0:t-this.pointerScreenX;i<0?this.everMovedUp=!0:i>0&&(this.everMovedDown=!0),a<0?this.everMovedLeft=!0:a>0&&(this.everMovedRight=!0),this.pointerScreenX=t,this.pointerScreenY=s,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(Ms()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,r){let{scrollCache:t}=e,{edgeThreshold:s}=this,i=s-e.distance,a=i*i/(s*s)*this.maxVelocity*r,l=1;switch(e.name){case"left":l=-1;case"right":t.setScrollLeft(t.getScrollLeft()+a*l);break;case"top":l=-1;case"bottom":t.setScrollTop(t.getScrollTop()+a*l);break}}computeBestEdge(e,r){let{edgeThreshold:t}=this,s=null,i=this.scrollCaches||[];for(let a of i){let l=a.clientRect,c=e-l.left,d=l.right-e,u=r-l.top,g=l.bottom-r;c>=0&&d>=0&&u>=0&&g>=0&&(u<=t&&this.everMovedUp&&a.canScrollUp()&&(!s||s.distance>u)&&(s={scrollCache:a,name:"top",distance:u}),g<=t&&this.everMovedDown&&a.canScrollDown()&&(!s||s.distance>g)&&(s={scrollCache:a,name:"bottom",distance:g}),c<=t&&this.everMovedLeft&&a.canScrollLeft()&&(!s||s.distance>c)&&(s={scrollCache:a,name:"left",distance:c}),d<=t&&this.everMovedRight&&a.canScrollRight()&&(!s||s.distance>d)&&(s={scrollCache:a,name:"right",distance:d}))}return s}buildCaches(e){return this.queryScrollEls(e).map(r=>r===window?new Nd(!1):new Ro(r,!1))}queryScrollEls(e){let r=[];for(let t of this.scrollQuery)typeof t=="object"?r.push(t):r.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(t)));return r}}class mn extends gl{constructor(e,r){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=s=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,xl(document.body),yl(document.body),s.isTouch||s.origEvent.preventDefault(),this.emitter.trigger("pointerdown",s),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(s.subjectEl,s.pageX,s.pageY),this.startDelay(s),this.minDistance||this.handleDistanceSurpassed(s)))},this.onPointerMove=s=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",s),!this.isDistanceSurpassed){let i=this.minDistance,a,{deltaX:l,deltaY:c}=s;a=l*l+c*c,a>=i*i&&this.handleDistanceSurpassed(s)}this.isDragging&&(s.origEvent.type!=="scroll"&&(this.mirror.handleMove(s.pageX,s.pageY),this.autoScroller.handleMove(s.pageX,s.pageY)),this.emitter.trigger("dragmove",s))}},this.onPointerUp=s=>{this.isInteracting&&(this.isInteracting=!1,vl(document.body),bl(document.body),this.emitter.trigger("pointerup",s),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(s)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let t=this.pointer=new Eo(e);t.emitter.on("pointerdown",this.onPointerDown),t.emitter.on("pointermove",this.onPointerMove),t.emitter.on("pointerup",this.onPointerUp),r&&(t.selector=r),this.mirror=new Ld,this.autoScroller=new _d}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class Hd{constructor(e){this.el=e,this.origRect=ho(e),this.scrollCaches=Ll(e).map(r=>new Ro(r,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let r of this.scrollCaches)e+=r.origScrollLeft-r.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let r of this.scrollCaches)e+=r.origScrollTop-r.getScrollTop();return e}isWithinClipping(e,r){let t={left:e,top:r};for(let s of this.scrollCaches)if(!zd(s.getEventTarget())&&!Nl(t,s.clientRect))return!1;return!0}}function zd(n){let e=n.tagName;return e==="HTML"||e==="BODY"}class zn{constructor(e,r){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=t=>{let{dragging:s}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(t),this.initialHit||!this.requireInitial?(s.setIgnoreMove(!1),this.emitter.trigger("pointerdown",t)):s.setIgnoreMove(!0)},this.handleDragStart=t=>{this.emitter.trigger("dragstart",t),this.handleMove(t,!0)},this.handleDragMove=t=>{this.emitter.trigger("dragmove",t),this.handleMove(t)},this.handlePointerUp=t=>{this.releaseHits(),this.emitter.trigger("pointerup",t)},this.handleDragEnd=t=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,t),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",t)},this.droppableStore=r,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new uo}processFirstCoord(e){let r={left:e.pageX,top:e.pageY},t=r,s=e.subjectEl,i;s instanceof HTMLElement&&(i=ho(s),t=kl(t,i));let a=this.initialHit=this.queryHitForOffset(t.left,t.top);if(a){if(this.useSubjectCenter&&i){let l=El(i,a.rect);l&&(t=Tl(l))}this.coordAdjust=Il(t,r)}else this.coordAdjust={left:0,top:0}}handleMove(e,r){let t=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(r||!Bn(this.movingHit,t))&&(this.movingHit=t,this.emitter.trigger("hitupdate",t,!1,e))}prepareHits(){this.offsetTrackers=Rl(this.droppableStore,e=>(e.component.prepareHits(),new Hd(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let r in e)e[r].destroy();this.offsetTrackers={}}queryHitForOffset(e,r){let{droppableStore:t,offsetTrackers:s}=this,i=null;for(let a in t){let l=t[a].component,c=s[a];if(c&&c.isWithinClipping(e,r)){let d=c.computeLeft(),u=c.computeTop(),g=e-d,x=r-u,{origRect:f}=c,v=f.right-f.left,p=f.bottom-f.top;if(g>=0&&g<v&&x>=0&&x<p){let m=l.queryHit(g,x,v,p);m&&Ol(m.dateProfile.activeRange,m.dateSpan.range)&&(this.disablePointCheck||c.el.contains(c.el.getRootNode().elementFromPoint(g+d-window.scrollX,x+u-window.scrollY)))&&(!i||m.layer>i.layer)&&(m.componentId=a,m.context=l.context,m.rect.left+=d,m.rect.right+=d,m.rect.top+=u,m.rect.bottom+=u,i=m)}}}return i}}function Bn(n,e){return!n&&!e?!0:!!n!=!!e?!1:Ml(n.dateSpan,e.dateSpan)}function Oo(n,e){let r={};for(let t of e.pluginHooks.datePointTransforms)Object.assign(r,t(n,e));return Object.assign(r,Bd(n,e.dateEnv)),r}function Bd(n,e){return{date:e.toDate(n.range.start),dateStr:e.formatIso(n.range.start,{omitTime:n.allDay}),allDay:n.allDay}}class $d extends Nn{constructor(e){super(e),this.handlePointerDown=t=>{let{dragging:s}=this,i=t.origEvent.target;s.setIgnoreMove(!this.component.isValidDateDownEl(i))},this.handleDragEnd=t=>{let{component:s}=this,{pointer:i}=this.dragging;if(!i.wasTouchScroll){let{initialHit:a,finalHit:l}=this.hitDragging;if(a&&l&&Bn(a,l)){let{context:c}=s,d=Object.assign(Object.assign({},Oo(a.dateSpan,c)),{dayEl:a.dayEl,jsEvent:t.origEvent,view:c.viewApi||c.calendarApi.view});c.emitter.trigger("dateClick",d)}}},this.dragging=new mn(e.el),this.dragging.autoScroller.isEnabled=!1;let r=this.hitDragging=new zn(this.dragging,Wr(e));r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class Ud extends Nn{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=a=>{let{component:l,dragging:c}=this,{options:d}=l.context,u=d.selectable&&l.isValidDateDownEl(a.origEvent.target);c.setIgnoreMove(!u),c.delay=a.isTouch?Yd(l):null},this.handleDragStart=a=>{this.component.context.calendarApi.unselect(a)},this.handleHitUpdate=(a,l)=>{let{context:c}=this.component,d=null,u=!1;if(a){let g=this.hitDragging.initialHit;a.componentId===g.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(g,a)||(d=qd(g,a,c.pluginHooks.dateSelectionTransformers)),(!d||!Sl(d,a.dateProfile,c))&&(u=!0,d=null)}d?c.dispatch({type:"SELECT_DATES",selection:d}):l||c.dispatch({type:"UNSELECT_DATES"}),u?Nr():Lr(),l||(this.dragSelection=d)},this.handlePointerUp=a=>{this.dragSelection&&(Dl(this.dragSelection,a,this.component.context),this.dragSelection=null)};let{component:r}=e,{options:t}=r.context,s=this.dragging=new mn(e.el);s.touchScrollAllowed=!1,s.minDistance=t.selectMinDistance||0,s.autoScroller.isEnabled=t.dragScroll;let i=this.hitDragging=new zn(this.dragging,Wr(e));i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function Yd(n){let{options:e}=n.context,r=e.selectLongPressDelay;return r==null&&(r=e.longPressDelay),r}function qd(n,e,r){let t=n.dateSpan,s=e.dateSpan,i=[t.range.start,t.range.end,s.range.start,s.range.end];i.sort(_l);let a={};for(let l of r){let c=l(n,e);if(c===!1)return null;c&&Object.assign(a,c)}return a.range={start:i[0],end:i[3]},a.allDay=t.allDay,a}class gn extends Nn{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=a=>{let l=a.origEvent.target,{component:c,dragging:d}=this,{mirror:u}=d,{options:g}=c.context,x=c.context;this.subjectEl=a.subjectEl;let f=this.subjectSeg=br(a.subjectEl),p=(this.eventRange=f.eventRange).instance.instanceId;this.relevantEvents=ao(x.getCurrentData().eventStore,p),d.minDistance=a.isTouch?0:g.eventDragMinDistance,d.delay=a.isTouch&&p!==c.props.eventSelection?Gd(c):null,g.fixedMirrorParent?u.parentNode=g.fixedMirrorParent:u.parentNode=Mt(l,".fc"),u.revertDuration=g.dragRevertDuration;let m=c.isValidSegDownEl(l)&&!Mt(l,".fc-event-resizer");d.setIgnoreMove(!m),this.isDragging=m&&a.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=a=>{let l=this.component.context,c=this.eventRange,d=c.instance.instanceId;a.isTouch?d!==this.component.props.eventSelection&&l.dispatch({type:"SELECT_EVENT",eventInstanceId:d}):l.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(l.calendarApi.unselect(a),l.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new Dt(l,c.def,c.instance),jsEvent:a.origEvent,view:l.viewApi}))},this.handleHitUpdate=(a,l)=>{if(!this.isDragging)return;let c=this.relevantEvents,d=this.hitDragging.initialHit,u=this.component.context,g=null,x=null,f=null,v=!1,p={affectedEvents:c,mutatedEvents:Cn(),isEvent:!0};if(a){g=a.context;let m=g.options;u===g||m.editable&&m.droppable?(x=Qd(d,a,this.eventRange.instance.range.start,g.getCurrentData().pluginHooks.eventDragMutationMassagers),x&&(f=lo(c,g.getCurrentData().eventUiBases,x,g),p.mutatedEvents=f,co(p,a.dateProfile,g)||(v=!0,x=null,f=null,p.mutatedEvents=Cn()))):g=null}this.displayDrag(g,p),v?Nr():Lr(),l||(u===g&&Bn(d,a)&&(x=null),this.dragging.setMirrorNeedsRevert(!x),this.dragging.setMirrorIsVisible(!a||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=g,this.validMutation=x,this.mutatedRelevantEvents=f)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=a=>{if(this.isDragging){let l=this.component.context,c=l.viewApi,{receivingContext:d,validMutation:u}=this,g=this.eventRange.def,x=this.eventRange.instance,f=new Dt(l,g,x),v=this.relevantEvents,p=this.mutatedRelevantEvents,{finalHit:m}=this.hitDragging;if(this.clearDrag(),l.emitter.trigger("eventDragStop",{el:this.subjectEl,event:f,jsEvent:a.origEvent,view:c}),u){if(d===l){let w=new Dt(l,p.defs[g.defId],x?p.instances[x.instanceId]:null);l.dispatch({type:"MERGE_EVENTS",eventStore:p});let h={oldEvent:f,event:w,relatedEvents:jn(p,l,x),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:v})}},y={};for(let S of l.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(y,S(u,l));l.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},h),y),{el:a.subjectEl,delta:u.datesDelta,jsEvent:a.origEvent,view:c})),l.emitter.trigger("eventChange",h)}else if(d){let w={event:f,relatedEvents:jn(v,l,x),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:v})}};l.emitter.trigger("eventLeave",Object.assign(Object.assign({},w),{draggedEl:a.subjectEl,view:c})),l.dispatch({type:"REMOVE_EVENTS",eventStore:v}),l.emitter.trigger("eventRemove",w);let h=p.defs[g.defId],y=p.instances[x.instanceId],S=new Dt(d,h,y);d.dispatch({type:"MERGE_EVENTS",eventStore:p});let D={event:S,relatedEvents:jn(p,d,y),revert(){d.dispatch({type:"REMOVE_EVENTS",eventStore:p})}};d.emitter.trigger("eventAdd",D),a.isTouch&&d.dispatch({type:"SELECT_EVENT",eventInstanceId:x.instanceId}),d.emitter.trigger("drop",Object.assign(Object.assign({},Oo(m.dateSpan,d)),{draggedEl:a.subjectEl,jsEvent:a.origEvent,view:m.context.viewApi})),d.emitter.trigger("eventReceive",Object.assign(Object.assign({},D),{draggedEl:a.subjectEl,view:m.context.viewApi}))}}else l.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:r}=this,{options:t}=r.context,s=this.dragging=new mn(e.el);s.pointer.selector=gn.SELECTOR,s.touchScrollAllowed=!1,s.autoScroller.isEnabled=t.dragScroll;let i=this.hitDragging=new zn(this.dragging,Cl);i.useSubjectCenter=e.useEventCenter,i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("pointerup",this.handlePointerUp),i.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,r){let t=this.component.context,s=this.receivingContext;s&&s!==e&&(s===t?s.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:r.affectedEvents,mutatedEvents:Cn(),isEvent:!0}}):s.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:r})}clearDrag(){let e=this.component.context,{receivingContext:r}=this;r&&r.dispatch({type:"UNSET_EVENT_DRAG"}),e!==r&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}gn.SELECTOR=".fc-event-draggable, .fc-event-resizable";function Qd(n,e,r,t){let s=n.dateSpan,i=e.dateSpan,a=s.range.start,l=i.range.start,c={};s.allDay!==i.allDay&&(c.allDay=i.allDay,c.hasEnd=e.context.options.allDayMaintainDuration,i.allDay?a=vr(r):a=r);let d=fo(a,l,n.context.dateEnv,n.componentId===e.componentId?n.largeUnit:null);d.milliseconds&&(c.allDay=!1);let u={datesDelta:d,standardProps:c};for(let g of t)g(u,n,e);return u}function Gd(n){let{options:e}=n.context,r=e.eventLongPressDelay;return r==null&&(r=e.longPressDelay),r}class Kd extends Nn{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=i=>{let{component:a}=this,l=this.querySegEl(i),c=br(l),d=this.eventRange=c.eventRange;this.dragging.minDistance=a.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(i.origEvent.target)||i.isTouch&&this.component.props.eventSelection!==d.instance.instanceId)},this.handleDragStart=i=>{let{context:a}=this.component,l=this.eventRange;this.relevantEvents=ao(a.getCurrentData().eventStore,this.eventRange.instance.instanceId);let c=this.querySegEl(i);this.draggingSegEl=c,this.draggingSeg=br(c),a.calendarApi.unselect(),a.emitter.trigger("eventResizeStart",{el:c,event:new Dt(a,l.def,l.instance),jsEvent:i.origEvent,view:a.viewApi})},this.handleHitUpdate=(i,a,l)=>{let{context:c}=this.component,d=this.relevantEvents,u=this.hitDragging.initialHit,g=this.eventRange.instance,x=null,f=null,v=!1,p={affectedEvents:d,mutatedEvents:Cn(),isEvent:!0};i&&(i.componentId===u.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(u,i)||(x=Xd(u,i,l.subjectEl.classList.contains("fc-event-resizer-start"),g.range))),x&&(f=lo(d,c.getCurrentData().eventUiBases,x,c),p.mutatedEvents=f,co(p,i.dateProfile,c)||(v=!0,x=null,f=null,p.mutatedEvents=null)),f?c.dispatch({type:"SET_EVENT_RESIZE",state:p}):c.dispatch({type:"UNSET_EVENT_RESIZE"}),v?Nr():Lr(),a||(x&&Bn(u,i)&&(x=null),this.validMutation=x,this.mutatedRelevantEvents=f)},this.handleDragEnd=i=>{let{context:a}=this.component,l=this.eventRange.def,c=this.eventRange.instance,d=new Dt(a,l,c),u=this.relevantEvents,g=this.mutatedRelevantEvents;if(a.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:d,jsEvent:i.origEvent,view:a.viewApi}),this.validMutation){let x=new Dt(a,g.defs[l.defId],c?g.instances[c.instanceId]:null);a.dispatch({type:"MERGE_EVENTS",eventStore:g});let f={oldEvent:d,event:x,relatedEvents:jn(g,a,c),revert(){a.dispatch({type:"MERGE_EVENTS",eventStore:u})}};a.emitter.trigger("eventResize",Object.assign(Object.assign({},f),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||Bt(0),endDelta:this.validMutation.endDelta||Bt(0),jsEvent:i.origEvent,view:a.viewApi})),a.emitter.trigger("eventChange",f)}else a.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:r}=e,t=this.dragging=new mn(e.el);t.pointer.selector=".fc-event-resizer",t.touchScrollAllowed=!1,t.autoScroller.isEnabled=r.context.options.dragScroll;let s=this.hitDragging=new zn(this.dragging,Wr(e));s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return Mt(e.subjectEl,".fc-event")}}function Xd(n,e,r,t){let s=n.context.dateEnv,i=n.dateSpan.range.start,a=e.dateSpan.range.start,l=fo(i,a,s,n.largeUnit);if(r){if(s.add(t.start,l)<t.end)return{startDelta:l}}else if(s.add(t.end,l)>t.start)return{endDelta:l};return null}class Jd{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=t=>{t.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=t=>{let s=this.context.options.unselectCancel,i=wl(t.origEvent);this.matchesCancel=!!Mt(i,s),this.matchesEvent=!!Mt(i,gn.SELECTOR)},this.onDocumentPointerUp=t=>{let{context:s}=this,{documentPointer:i}=this,a=s.getCurrentData();if(!i.wasTouchScroll){if(a.dateSelection&&!this.isRecentPointerDateSelect){let l=s.options.unselectAuto;l&&(!l||!this.matchesCancel)&&s.calendarApi.unselect(t)}a.eventSelection&&!this.matchesEvent&&s.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let r=this.documentPointer=new Eo(document);r.shouldIgnoreMove=!0,r.shouldWatchScroll=!1,r.emitter.on("pointerdown",this.onDocumentPointerDown),r.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const Zd={fixedMirrorParent:Je},eu={dateClick:Je,eventDragStart:Je,eventDragStop:Je,eventDrop:Je,eventResizeStart:Je,eventResizeStop:Je,eventResize:Je,drop:Je,eventReceive:Je,eventLeave:Je};_r.dataAttrPrefix="";var tu=io({name:"@fullcalendar/interaction",componentInteractions:[$d,Ud,gn,Kd],calendarInteractions:[Jd],elementDraggingImpl:mn,optionRefiners:Zd,listenerRefiners:eu});const nu=()=>{const[n,e]=b.useState([]),[r,t]=b.useState([]),[s,i]=b.useState(null),[a,l]=b.useState(!1),[c,d]=b.useState(null);b.useEffect(()=>{u()},[]),b.useEffect(()=>{g()},[n]);const u=()=>{const m=localStorage.getItem("tasks");m&&e(JSON.parse(m))},g=()=>{const m=n.map(w=>{const h={high:{bg:"#ef4444",border:"#dc2626",text:"#ffffff"},medium:{bg:"#f59e0b",border:"#d97706",text:"#ffffff"},low:{bg:"#10b981",border:"#059669",text:"#ffffff"}},y={todo:{bg:"#6b7280",border:"#4b5563",text:"#ffffff"},inProgress:{bg:"#3b82f6",border:"#2563eb",text:"#ffffff"},done:{bg:"#10b981",border:"#059669",text:"#ffffff"}};h[w.priority];const S=y[w.status];return{id:w.id,title:w.title,start:w.dueDate,backgroundColor:S.bg,borderColor:S.border,textColor:S.text,extendedProps:{task:w}}});t(m)},x=m=>{const w={id:Date.now().toString(),title:"",description:"",status:"todo",priority:"medium",dueDate:m.dateStr,assignee:"",createdAt:new Date().toISOString()};d(w),l(!0)},f=m=>{i(m.event),d(m.event.extendedProps.task),l(!0)},v=()=>{if(!c)return;const m=c.id?n.map(w=>w.id===c.id?c:w):[...n,c];localStorage.setItem("tasks",JSON.stringify(m)),e(m),l(!1),d(null)},p=()=>{if(!c)return;const m=n.filter(w=>w.id!==c.id);localStorage.setItem("tasks",JSON.stringify(m)),e(m),l(!1),d(null)};return o.jsx(M,{sx:{p:3},children:o.jsxs(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[o.jsxs(M,{sx:{mb:3,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[o.jsx(O,{variant:"h4",sx:{fontWeight:700},children:"カレンダー"}),o.jsx(de,{variant:"contained",startIcon:o.jsx(ct,{}),onClick:()=>{const m={id:Date.now().toString(),title:"",description:"",status:"todo",priority:"medium",dueDate:je(new Date,"yyyy-MM-dd"),assignee:"",createdAt:new Date().toISOString()};d(m),l(!0)},children:"新しいタスク"})]}),o.jsx(jt,{children:o.jsxs(ot,{sx:{p:0},children:[o.jsxs(M,{sx:{p:2,borderBottom:1,borderColor:"divider"},children:[o.jsx(O,{variant:"h6",sx:{fontWeight:600,mb:1},children:"タスクカレンダー"}),o.jsxs(M,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:[o.jsx(He,{icon:o.jsx(es,{}),label:"未着手",size:"small",sx:{bgcolor:"#6b7280",color:"white"}}),o.jsx(He,{icon:o.jsx(Wn,{}),label:"進行中",size:"small",sx:{bgcolor:"#3b82f6",color:"white"}}),o.jsx(He,{icon:o.jsx(es,{}),label:"完了",size:"small",sx:{bgcolor:"#10b981",color:"white"}})]})]}),o.jsx(M,{sx:{height:600},children:o.jsx(Hl,{plugins:[zl,Od,tu],initialView:"dayGridMonth",headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},locale:"ja",editable:!0,selectable:!0,selectMirror:!0,dayMaxEvents:!0,weekends:!0,events:r,dateClick:x,eventClick:f,height:"100%",eventDisplay:"block",eventTimeFormat:{hour:"2-digit",minute:"2-digit",meridiem:!1}})})]})}),o.jsxs(kt,{open:a,onClose:()=>l(!1),maxWidth:"sm",fullWidth:!0,children:[o.jsx(Ut,{children:o.jsxs(M,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[o.jsx(O,{variant:"h6",sx:{fontWeight:600},children:c!=null&&c.id?"タスクを編集":"新しいタスク"}),(c==null?void 0:c.id)&&o.jsx(Ee,{title:"削除",children:o.jsx(be,{color:"error",onClick:p,sx:{color:"error.main"},children:o.jsx(at,{})})})]})}),o.jsx(Et,{children:o.jsxs(M,{sx:{mt:2},children:[o.jsx(le,{fullWidth:!0,label:"タイトル",value:(c==null?void 0:c.title)||"",onChange:m=>d(w=>w?{...w,title:m.target.value}:null),sx:{mb:2}}),o.jsx(le,{fullWidth:!0,label:"説明",multiline:!0,rows:3,value:(c==null?void 0:c.description)||"",onChange:m=>d(w=>w?{...w,description:m.target.value}:null),sx:{mb:2}}),o.jsxs(M,{sx:{display:"flex",gap:2,mb:2},children:[o.jsxs(Ye,{fullWidth:!0,children:[o.jsx(qe,{children:"ステータス"}),o.jsxs(Qe,{value:(c==null?void 0:c.status)||"todo",onChange:m=>d(w=>w?{...w,status:m.target.value}:null),label:"ステータス",children:[o.jsx(ne,{value:"todo",children:"未着手"}),o.jsx(ne,{value:"inProgress",children:"進行中"}),o.jsx(ne,{value:"done",children:"完了"})]})]}),o.jsxs(Ye,{fullWidth:!0,children:[o.jsx(qe,{children:"優先度"}),o.jsxs(Qe,{value:(c==null?void 0:c.priority)||"medium",onChange:m=>d(w=>w?{...w,priority:m.target.value}:null),label:"優先度",children:[o.jsx(ne,{value:"low",children:"低"}),o.jsx(ne,{value:"medium",children:"中"}),o.jsx(ne,{value:"high",children:"高"})]})]})]}),o.jsx(le,{fullWidth:!0,label:"期限",type:"date",value:(c==null?void 0:c.dueDate)||"",onChange:m=>d(w=>w?{...w,dueDate:m.target.value}:null),InputLabelProps:{shrink:!0},sx:{mb:2}}),o.jsx(le,{fullWidth:!0,label:"担当者",value:(c==null?void 0:c.assignee)||"",onChange:m=>d(w=>w?{...w,assignee:m.target.value}:null)})]})}),o.jsxs(Tt,{children:[o.jsx(de,{onClick:()=>l(!1),children:"キャンセル"}),o.jsx(de,{variant:"contained",onClick:v,disabled:!(c!=null&&c.title),children:"保存"})]})]})]})})},ru=()=>{const[n,e]=b.useState([]),[r,t]=b.useState(null),[s,i]=b.useState(!1),[a,l]=b.useState(null),[c,d]=b.useState("week");b.useEffect(()=>{u()},[]);const u=()=>{const y=localStorage.getItem("tasks");if(y){const D=JSON.parse(y).map((E,I)=>({...E,startDate:E.startDate||je(mt(new Date,I*2),"yyyy-MM-dd"),endDate:E.endDate||je(mt(new Date,I*2+1),"yyyy-MM-dd")}));e(D)}},g=()=>{const y=new Date,S=c==="week"?kn(y):kn(new Date(y.getFullYear(),y.getMonth(),1)),D=c==="week"?mt(y,7):new Date(y.getFullYear(),y.getMonth()+1,0);return{startDate:S,endDate:D}},x=()=>{const{startDate:y,endDate:S}=g(),D=[];let E=y;for(;Ft(E,S)||E.getTime()===S.getTime();)D.push(E),E=mt(E,1);return D},f=y=>{const{startDate:S}=g(),D=new Date(y.startDate||y.dueDate),E=gr(D,S),I=gr(new Date(y.endDate||y.dueDate),new Date(y.startDate||y.dueDate))+1;return{left:`${E/x().length*100}%`,width:`${I/x().length*100}%`}},v=y=>{switch(y){case"high":return"#ef4444";case"medium":return"#f59e0b";case"low":return"#10b981";default:return"#6b7280"}},p=y=>{switch(y){case"todo":return"#6b7280";case"inProgress":return"#3b82f6";case"done":return"#10b981";default:return"#6b7280"}},m=()=>{if(!a)return;const y=a.id?n.map(S=>S.id===a.id?a:S):[...n,a];localStorage.setItem("tasks",JSON.stringify(y)),e(y),i(!1),l(null)},w=()=>{if(!a)return;const y=n.filter(S=>S.id!==a.id);localStorage.setItem("tasks",JSON.stringify(y)),e(y),i(!1),l(null)},h=x();return o.jsx(M,{sx:{p:3},children:o.jsxs(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[o.jsxs(M,{sx:{mb:3,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[o.jsx(O,{variant:"h4",sx:{fontWeight:700},children:"タイムライン"}),o.jsxs(M,{sx:{display:"flex",gap:2},children:[o.jsx(de,{variant:c==="week"?"contained":"outlined",onClick:()=>d("week"),children:"週表示"}),o.jsx(de,{variant:c==="month"?"contained":"outlined",onClick:()=>d("month"),children:"月表示"}),o.jsx(de,{variant:"contained",startIcon:o.jsx(ct,{}),onClick:()=>{const y={id:Date.now().toString(),title:"",description:"",status:"todo",priority:"medium",dueDate:je(new Date,"yyyy-MM-dd"),assignee:"",createdAt:new Date().toISOString(),startDate:je(new Date,"yyyy-MM-dd"),endDate:je(mt(new Date,1),"yyyy-MM-dd")};l(y),i(!0)},children:"新しいタスク"})]})]}),o.jsx(jt,{children:o.jsxs(ot,{sx:{p:0},children:[o.jsxs(M,{sx:{p:2,borderBottom:1,borderColor:"divider"},children:[o.jsx(O,{variant:"h6",sx:{fontWeight:600,mb:1},children:"プロジェクトタイムライン"}),o.jsxs(M,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:[o.jsx(He,{icon:o.jsx(Us,{}),label:"未着手",size:"small",sx:{bgcolor:"#6b7280",color:"white"}}),o.jsx(He,{icon:o.jsx(Wn,{}),label:"進行中",size:"small",sx:{bgcolor:"#3b82f6",color:"white"}}),o.jsx(He,{icon:o.jsx(ln,{}),label:"完了",size:"small",sx:{bgcolor:"#10b981",color:"white"}})]})]}),o.jsxs(M,{sx:{p:2},children:[o.jsxs(M,{sx:{display:"flex",mb:2},children:[o.jsx(M,{sx:{width:200,flexShrink:0}}),h.map((y,S)=>o.jsxs(M,{sx:{flex:1,textAlign:"center",borderRight:S<h.length-1?1:0,borderColor:"divider",py:1},children:[o.jsx(O,{variant:"caption",color:"text.secondary",children:je(y,"M/d",{locale:$t})}),o.jsx(O,{variant:"caption",display:"block",children:je(y,"EEE",{locale:$t})})]},S))]}),o.jsx(M,{sx:{position:"relative"},children:n.map((y,S)=>{const D=f(y);return o.jsx(Pe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:S*.1},style:{position:"absolute",left:D.left,width:D.width,top:`${S*60}px`,height:"40px"},children:o.jsx(jt,{sx:{height:"100%",backgroundColor:p(y.status),color:"white",cursor:"pointer","&:hover":{transform:"scale(1.02)",boxShadow:2}},onClick:()=>{t(y),l(y),i(!0)},children:o.jsx(ot,{sx:{p:1,height:"100%"},children:o.jsxs(M,{sx:{display:"flex",alignItems:"center",height:"100%"},children:[o.jsx(it,{sx:{width:24,height:24,bgcolor:v(y.priority),mr:1},children:o.jsx(pr,{sx:{fontSize:12}})}),o.jsx(O,{variant:"body2",sx:{fontWeight:500,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:y.title})]})})})},y.id)})}),o.jsx(M,{sx:{height:`${n.length*60}px`,mt:2}})]})]})}),o.jsx(jt,{sx:{mt:3},children:o.jsxs(ot,{children:[o.jsx(O,{variant:"h6",sx:{fontWeight:600,mb:2},children:"タスク一覧"}),o.jsx(st,{children:n.map((y,S)=>o.jsxs(lt.Fragment,{children:[o.jsxs(De,{sx:{px:0},secondaryAction:o.jsxs(M,{sx:{display:"flex",gap:1},children:[o.jsx(Ee,{title:"編集",children:o.jsx(be,{size:"small",onClick:()=>{l(y),i(!0)},children:o.jsx(hn,{})})}),o.jsx(Ee,{title:"削除",children:o.jsx(be,{size:"small",color:"error",onClick:()=>{const D=n.filter(E=>E.id!==y.id);localStorage.setItem("tasks",JSON.stringify(D)),e(D)},children:o.jsx(at,{})})})]}),children:[o.jsx(Ys,{children:o.jsx(it,{sx:{bgcolor:p(y.status)},children:o.jsx(an,{})})}),o.jsx(we,{primary:o.jsxs(M,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(O,{variant:"body1",sx:{fontWeight:500},children:y.title}),o.jsx(He,{label:y.priority,size:"small",sx:{backgroundColor:v(y.priority),color:"white",fontSize:"0.75rem"}})]}),secondary:o.jsxs(M,{sx:{mt:.5},children:[o.jsx(O,{variant:"body2",color:"text.secondary",children:y.description}),o.jsxs(M,{sx:{display:"flex",alignItems:"center",gap:2,mt:.5},children:[o.jsxs(M,{sx:{display:"flex",alignItems:"center",gap:.5},children:[o.jsx(Vn,{sx:{fontSize:16}}),o.jsxs(O,{variant:"caption",color:"text.secondary",children:[je(new Date(y.startDate||y.dueDate),"M/d")," - ",je(new Date(y.endDate||y.dueDate),"M/d")]})]}),y.assignee&&o.jsxs(M,{sx:{display:"flex",alignItems:"center",gap:.5},children:[o.jsx(on,{sx:{fontSize:16}}),o.jsx(O,{variant:"caption",color:"text.secondary",children:y.assignee})]})]})]})})]}),S<n.length-1&&o.jsx(rt,{})]},y.id))})]})}),o.jsxs(kt,{open:s,onClose:()=>i(!1),maxWidth:"sm",fullWidth:!0,children:[o.jsx(Ut,{children:o.jsxs(M,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[o.jsx(O,{variant:"h6",sx:{fontWeight:600},children:a!=null&&a.id?"タスクを編集":"新しいタスク"}),(a==null?void 0:a.id)&&o.jsx(Ee,{title:"削除",children:o.jsx(be,{color:"error",onClick:w,sx:{color:"error.main"},children:o.jsx(at,{})})})]})}),o.jsx(Et,{children:o.jsxs(M,{sx:{mt:2},children:[o.jsx(le,{fullWidth:!0,label:"タイトル",value:(a==null?void 0:a.title)||"",onChange:y=>l(S=>S?{...S,title:y.target.value}:null),sx:{mb:2}}),o.jsx(le,{fullWidth:!0,label:"説明",multiline:!0,rows:3,value:(a==null?void 0:a.description)||"",onChange:y=>l(S=>S?{...S,description:y.target.value}:null),sx:{mb:2}}),o.jsxs(M,{sx:{display:"flex",gap:2,mb:2},children:[o.jsxs(Ye,{fullWidth:!0,children:[o.jsx(qe,{children:"ステータス"}),o.jsxs(Qe,{value:(a==null?void 0:a.status)||"todo",onChange:y=>l(S=>S?{...S,status:y.target.value}:null),label:"ステータス",children:[o.jsx(ne,{value:"todo",children:"未着手"}),o.jsx(ne,{value:"inProgress",children:"進行中"}),o.jsx(ne,{value:"done",children:"完了"})]})]}),o.jsxs(Ye,{fullWidth:!0,children:[o.jsx(qe,{children:"優先度"}),o.jsxs(Qe,{value:(a==null?void 0:a.priority)||"medium",onChange:y=>l(S=>S?{...S,priority:y.target.value}:null),label:"優先度",children:[o.jsx(ne,{value:"low",children:"低"}),o.jsx(ne,{value:"medium",children:"中"}),o.jsx(ne,{value:"high",children:"高"})]})]})]}),o.jsxs(M,{sx:{display:"flex",gap:2,mb:2},children:[o.jsx(le,{fullWidth:!0,label:"開始日",type:"date",value:(a==null?void 0:a.startDate)||"",onChange:y=>l(S=>S?{...S,startDate:y.target.value}:null),InputLabelProps:{shrink:!0}}),o.jsx(le,{fullWidth:!0,label:"終了日",type:"date",value:(a==null?void 0:a.endDate)||"",onChange:y=>l(S=>S?{...S,endDate:y.target.value}:null),InputLabelProps:{shrink:!0}})]}),o.jsx(le,{fullWidth:!0,label:"担当者",value:(a==null?void 0:a.assignee)||"",onChange:y=>l(S=>S?{...S,assignee:y.target.value}:null)})]})}),o.jsxs(Tt,{children:[o.jsx(de,{onClick:()=>i(!1),children:"キャンセル"}),o.jsx(de,{variant:"contained",onClick:m,disabled:!(a!=null&&a.title),children:"保存"})]})]})]})})},su=()=>{const[n,e]=b.useState([]),[r,t]=b.useState([]),[s,i]=b.useState([]),[a,l]=b.useState(!1),[c,d]=b.useState(null),[u,g]=b.useState(""),[x,f]=b.useState("all"),[v,p]=b.useState("all"),[m,w]=b.useState("asc"),[h,y]=b.useState("createdAt"),[S,D]=b.useState(0),[E,I]=b.useState(10);b.useEffect(()=>{A()},[]),b.useEffect(()=>{T()},[n,u,x,v,m,h]);const A=()=>{const R=localStorage.getItem("tasks");R&&e(JSON.parse(R))},T=()=>{let R=n.filter(W=>{const V=W.title.toLowerCase().includes(u.toLowerCase())||W.description.toLowerCase().includes(u.toLowerCase())||W.assignee.toLowerCase().includes(u.toLowerCase()),Y=x==="all"||W.status===x,te=v==="all"||W.priority===v;return V&&Y&&te});R.sort((W,V)=>{let Y=W[h],te=V[h];return(h==="dueDate"||h==="createdAt")&&(Y=new Date(Y).getTime(),te=new Date(te).getTime()),m==="desc"?te>Y?1:-1:Y>te?1:-1}),t(R)},F=R=>{w(h===R&&m==="asc"?"desc":"asc"),y(R)},L=R=>{if(R.target.checked){const W=r.map(V=>V.id);i(W);return}i([])},H=R=>{const W=s.indexOf(R);let V=[];W===-1?V=V.concat(s,R):W===0?V=V.concat(s.slice(1)):W===s.length-1?V=V.concat(s.slice(0,-1)):W>0&&(V=V.concat(s.slice(0,W),s.slice(W+1))),i(V)},U=R=>s.indexOf(R)!==-1,k=()=>{if(!c)return;const R=c.id?n.map(W=>W.id===c.id?c:W):[...n,c];localStorage.setItem("tasks",JSON.stringify(R)),e(R),l(!1),d(null)},P=()=>{if(!c)return;const R=n.filter(W=>W.id!==c.id);localStorage.setItem("tasks",JSON.stringify(R)),e(R),l(!1),d(null)},q=()=>{const R=n.filter(W=>!s.includes(W.id));localStorage.setItem("tasks",JSON.stringify(R)),e(R),i([])},K=R=>{switch(R){case"high":return"#ef4444";case"medium":return"#f59e0b";case"low":return"#10b981";default:return"#6b7280"}},B=R=>{switch(R){case"todo":return"#6b7280";case"inProgress":return"#3b82f6";case"done":return"#10b981";default:return"#6b7280"}},Q=R=>{switch(R){case"todo":return o.jsx(an,{});case"inProgress":return o.jsx(Wn,{});case"done":return o.jsx(ln,{});default:return o.jsx(an,{})}},X=R=>{switch(R){case"high":return o.jsx(Er,{});case"medium":return o.jsx(pr,{});case"low":return o.jsx(ln,{});default:return o.jsx(pr,{})}};return o.jsx(M,{sx:{p:3},children:o.jsxs(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[o.jsxs(M,{sx:{mb:3,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[o.jsx(O,{variant:"h4",sx:{fontWeight:700},children:"リストビュー"}),o.jsxs(M,{sx:{display:"flex",gap:2},children:[s.length>0&&o.jsxs(de,{variant:"outlined",color:"error",startIcon:o.jsx(at,{}),onClick:q,children:["選択削除 (",s.length,")"]}),o.jsx(de,{variant:"contained",startIcon:o.jsx(ct,{}),onClick:()=>{const R={id:Date.now().toString(),title:"",description:"",status:"todo",priority:"medium",dueDate:je(new Date,"yyyy-MM-dd"),assignee:"",createdAt:new Date().toISOString()};d(R),l(!0)},children:"新しいタスク"})]})]}),o.jsx(jt,{sx:{mb:3},children:o.jsx(ot,{children:o.jsxs(M,{sx:{display:"flex",gap:2,alignItems:"center",flexWrap:"wrap"},children:[o.jsx(le,{placeholder:"タスクを検索...",value:u,onChange:R=>g(R.target.value),InputProps:{startAdornment:o.jsx(Tr,{position:"start",children:o.jsx(Mr,{})})},sx:{minWidth:250}}),o.jsxs(Ye,{sx:{minWidth:120},children:[o.jsx(qe,{children:"ステータス"}),o.jsxs(Qe,{value:x,onChange:R=>f(R.target.value),label:"ステータス",children:[o.jsx(ne,{value:"all",children:"すべて"}),o.jsx(ne,{value:"todo",children:"未着手"}),o.jsx(ne,{value:"inProgress",children:"進行中"}),o.jsx(ne,{value:"done",children:"完了"})]})]}),o.jsxs(Ye,{sx:{minWidth:120},children:[o.jsx(qe,{children:"優先度"}),o.jsxs(Qe,{value:v,onChange:R=>p(R.target.value),label:"優先度",children:[o.jsx(ne,{value:"all",children:"すべて"}),o.jsx(ne,{value:"low",children:"低"}),o.jsx(ne,{value:"medium",children:"中"}),o.jsx(ne,{value:"high",children:"高"})]})]})]})})}),o.jsx(jt,{children:o.jsxs(ot,{sx:{p:0},children:[o.jsx(Ei,{component:Fe,sx:{boxShadow:"none"},children:o.jsxs(Ti,{children:[o.jsx(Ii,{children:o.jsxs(ts,{children:[o.jsx(Ae,{padding:"checkbox",children:o.jsx(ns,{indeterminate:s.length>0&&s.length<r.length,checked:r.length>0&&s.length===r.length,onChange:L})}),o.jsx(Ae,{children:o.jsx(Ot,{active:h==="title",direction:h==="title"?m:"asc",onClick:()=>F("title"),children:"タイトル"})}),o.jsx(Ae,{children:o.jsx(Ot,{active:h==="status",direction:h==="status"?m:"asc",onClick:()=>F("status"),children:"ステータス"})}),o.jsx(Ae,{children:o.jsx(Ot,{active:h==="priority",direction:h==="priority"?m:"asc",onClick:()=>F("priority"),children:"優先度"})}),o.jsx(Ae,{children:o.jsx(Ot,{active:h==="dueDate",direction:h==="dueDate"?m:"asc",onClick:()=>F("dueDate"),children:"期限"})}),o.jsx(Ae,{children:o.jsx(Ot,{active:h==="assignee",direction:h==="assignee"?m:"asc",onClick:()=>F("assignee"),children:"担当者"})}),o.jsx(Ae,{children:o.jsx(Ot,{active:h==="createdAt",direction:h==="createdAt"?m:"asc",onClick:()=>F("createdAt"),children:"作成日"})}),o.jsx(Ae,{align:"right",children:"アクション"})]})}),o.jsx(Ri,{children:r.slice(S*E,S*E+E).map(R=>{const W=U(R.id);return o.jsxs(ts,{hover:!0,selected:W,onClick:()=>H(R.id),sx:{cursor:"pointer"},children:[o.jsx(Ae,{padding:"checkbox",children:o.jsx(ns,{checked:W})}),o.jsx(Ae,{children:o.jsxs(M,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(it,{sx:{bgcolor:B(R.status),width:32,height:32},children:Q(R.status)}),o.jsxs(M,{children:[o.jsx(O,{variant:"body2",sx:{fontWeight:500},children:R.title}),o.jsx(O,{variant:"caption",color:"text.secondary",children:R.description})]})]})}),o.jsx(Ae,{children:o.jsx(He,{label:R.status==="todo"?"未着手":R.status==="inProgress"?"進行中":"完了",size:"small",sx:{backgroundColor:B(R.status),color:"white"}})}),o.jsx(Ae,{children:o.jsxs(M,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(it,{sx:{width:24,height:24,bgcolor:K(R.priority)},children:X(R.priority)}),o.jsx(O,{variant:"body2",children:R.priority==="high"?"高":R.priority==="medium"?"中":"低"})]})}),o.jsx(Ae,{children:o.jsxs(M,{sx:{display:"flex",alignItems:"center",gap:.5},children:[o.jsx(Vn,{sx:{fontSize:16,color:"text.secondary"}}),o.jsx(O,{variant:"body2",children:je(new Date(R.dueDate),"M/d",{locale:$t})})]})}),o.jsx(Ae,{children:R.assignee?o.jsxs(M,{sx:{display:"flex",alignItems:"center",gap:.5},children:[o.jsx(on,{sx:{fontSize:16,color:"text.secondary"}}),o.jsx(O,{variant:"body2",children:R.assignee})]}):o.jsx(O,{variant:"body2",color:"text.secondary",children:"未割り当て"})}),o.jsx(Ae,{children:o.jsx(O,{variant:"body2",children:je(new Date(R.createdAt),"M/d",{locale:$t})})}),o.jsx(Ae,{align:"right",children:o.jsxs(M,{sx:{display:"flex",gap:1},children:[o.jsx(Ee,{title:"編集",children:o.jsx(be,{size:"small",onClick:V=>{V.stopPropagation(),d(R),l(!0)},children:o.jsx(hn,{})})}),o.jsx(Ee,{title:"削除",children:o.jsx(be,{size:"small",color:"error",onClick:V=>{V.stopPropagation();const Y=n.filter(te=>te.id!==R.id);localStorage.setItem("tasks",JSON.stringify(Y)),e(Y)},children:o.jsx(at,{})})})]})})]},R.id)})})]})}),o.jsx(Oi,{rowsPerPageOptions:[5,10,25],component:"div",count:r.length,rowsPerPage:E,page:S,onPageChange:(R,W)=>D(W),onRowsPerPageChange:R=>{I(parseInt(R.target.value,10)),D(0)},labelRowsPerPage:"行数:",labelDisplayedRows:({from:R,to:W,count:V})=>`${R}-${W} / ${V}`})]})}),o.jsxs(kt,{open:a,onClose:()=>l(!1),maxWidth:"sm",fullWidth:!0,children:[o.jsx(Ut,{children:o.jsxs(M,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[o.jsx(O,{variant:"h6",sx:{fontWeight:600},children:c!=null&&c.id?"タスクを編集":"新しいタスク"}),(c==null?void 0:c.id)&&o.jsx(Ee,{title:"削除",children:o.jsx(be,{color:"error",onClick:P,sx:{color:"error.main"},children:o.jsx(at,{})})})]})}),o.jsx(Et,{children:o.jsxs(M,{sx:{mt:2},children:[o.jsx(le,{fullWidth:!0,label:"タイトル",value:(c==null?void 0:c.title)||"",onChange:R=>d(W=>W?{...W,title:R.target.value}:null),sx:{mb:2}}),o.jsx(le,{fullWidth:!0,label:"説明",multiline:!0,rows:3,value:(c==null?void 0:c.description)||"",onChange:R=>d(W=>W?{...W,description:R.target.value}:null),sx:{mb:2}}),o.jsxs(M,{sx:{display:"flex",gap:2,mb:2},children:[o.jsxs(Ye,{fullWidth:!0,children:[o.jsx(qe,{children:"ステータス"}),o.jsxs(Qe,{value:(c==null?void 0:c.status)||"todo",onChange:R=>d(W=>W?{...W,status:R.target.value}:null),label:"ステータス",children:[o.jsx(ne,{value:"todo",children:"未着手"}),o.jsx(ne,{value:"inProgress",children:"進行中"}),o.jsx(ne,{value:"done",children:"完了"})]})]}),o.jsxs(Ye,{fullWidth:!0,children:[o.jsx(qe,{children:"優先度"}),o.jsxs(Qe,{value:(c==null?void 0:c.priority)||"medium",onChange:R=>d(W=>W?{...W,priority:R.target.value}:null),label:"優先度",children:[o.jsx(ne,{value:"low",children:"低"}),o.jsx(ne,{value:"medium",children:"中"}),o.jsx(ne,{value:"high",children:"高"})]})]})]}),o.jsx(le,{fullWidth:!0,label:"期限",type:"date",value:(c==null?void 0:c.dueDate)||"",onChange:R=>d(W=>W?{...W,dueDate:R.target.value}:null),InputLabelProps:{shrink:!0},sx:{mb:2}}),o.jsx(le,{fullWidth:!0,label:"担当者",value:(c==null?void 0:c.assignee)||"",onChange:R=>d(W=>W?{...W,assignee:R.target.value}:null)})]})}),o.jsxs(Tt,{children:[o.jsx(de,{onClick:()=>l(!1),children:"キャンセル"}),o.jsx(de,{variant:"contained",onClick:k,disabled:!(c!=null&&c.title),children:"保存"})]})]})]})})};function ou(n){return typeof n=="string"}function iu(n,e,r){return n===void 0||ou(n)?e:{...e,ownerState:{...e.ownerState,...r}}}function au(n,e=[]){if(n===void 0)return{};const r={};return Object.keys(n).filter(t=>t.match(/^on[A-Z]/)&&typeof n[t]=="function"&&!e.includes(t)).forEach(t=>{r[t]=n[t]}),r}function Br(n,e,r){return typeof n=="function"?n(e,r):n}function lu(...n){const e=b.useRef(void 0),r=b.useCallback(t=>{const s=n.map(i=>{if(i==null)return null;if(typeof i=="function"){const a=i,l=a(t);return typeof l=="function"?l:()=>{a(null)}}return i.current=t,()=>{i.current=null}});return()=>{s.forEach(i=>i==null?void 0:i())}},n);return b.useMemo(()=>n.every(t=>t==null)?null:t=>{e.current&&(e.current(),e.current=void 0),t!=null&&(e.current=r(t))},n)}function ks(n){if(n===void 0)return{};const e={};return Object.keys(n).filter(r=>!(r.match(/^on[A-Z]/)&&typeof n[r]=="function")).forEach(r=>{e[r]=n[r]}),e}function cu(n){const{getSlotProps:e,additionalProps:r,externalSlotProps:t,externalForwardedProps:s,className:i}=n;if(!e){const f=Ie(r==null?void 0:r.className,i,s==null?void 0:s.className,t==null?void 0:t.className),v={...r==null?void 0:r.style,...s==null?void 0:s.style,...t==null?void 0:t.style},p={...r,...s,...t};return f.length>0&&(p.className=f),Object.keys(v).length>0&&(p.style=v),{props:p,internalRef:void 0}}const a=au({...s,...t}),l=ks(t),c=ks(s),d=e(a),u=Ie(d==null?void 0:d.className,r==null?void 0:r.className,i,s==null?void 0:s.className,t==null?void 0:t.className),g={...d==null?void 0:d.style,...r==null?void 0:r.style,...s==null?void 0:s.style,...t==null?void 0:t.style},x={...d,...r,...c,...l};return u.length>0&&(x.className=u),Object.keys(g).length>0&&(x.style=g),{props:x,internalRef:d.ref}}function Ce(n){var g;const{elementType:e,externalSlotProps:r,ownerState:t,skipResolvingSlotProps:s=!1,...i}=n,a=s?{}:Br(r,t),{props:l,internalRef:c}=cu({...i,externalSlotProps:a}),d=lu(c,a==null?void 0:a.ref,(g=n.additionalProps)==null?void 0:g.ref);return iu(e,{...l,ref:d},t)}const tn=(n,e)=>n.length!==e.length?!1:e.every(r=>n.includes(r)),du=({openTo:n,defaultOpenTo:e,views:r,defaultViews:t})=>{const s=r??t;let i;if(n!=null)i=n;else if(s.includes(e))i=e;else if(s.length>0)i=s[0];else throw new Error("MUI: The `views` prop must contain at least one view");return{views:s,openTo:i}},On=(n,e,r)=>{let t=e;return t=n.setHours(t,n.getHours(r)),t=n.setMinutes(t,n.getMinutes(r)),t=n.setSeconds(t,n.getSeconds(r)),t},sn=({date:n,disableFuture:e,disablePast:r,maxDate:t,minDate:s,isDateDisabled:i,utils:a,timezone:l})=>{const c=On(a,a.dateWithTimezone(void 0,l),n);r&&a.isBefore(s,c)&&(s=c),e&&a.isAfter(t,c)&&(t=c);let d=n,u=n;for(a.isBefore(n,s)&&(d=s,u=null),a.isAfter(n,t)&&(u&&(u=t),d=null);d||u;){if(d&&a.isAfter(d,t)&&(d=null),u&&a.isBefore(u,s)&&(u=null),d){if(!i(d))return d;d=a.addDays(d,1)}if(u){if(!i(u))return u;u=a.addDays(u,-1)}}return null},uu=(n,e)=>e==null||!n.isValid(e)?null:e,Ge=(n,e,r)=>e==null||!n.isValid(e)?r:e,hu=(n,e,r)=>!n.isValid(e)&&e!=null&&!n.isValid(r)&&r!=null?!0:n.isEqual(e,r),$r=(n,e)=>{const t=[n.startOfYear(e)];for(;t.length<12;){const s=t[t.length-1];t.push(n.addMonths(s,1))}return t},Ao=(n,e,r)=>r==="date"?n.startOfDay(n.dateWithTimezone(void 0,e)):n.dateWithTimezone(void 0,e),fu=["year","month","day"],Es=n=>fu.includes(n),Ur=(n,{format:e,views:r},t)=>{if(e!=null)return e;const s=n.formats;return tn(r,["year"])?s.year:tn(r,["month"])?s.month:tn(r,["day"])?s.dayOfMonth:tn(r,["month","year"])?`${s.month} ${s.year}`:tn(r,["day","month"])?`${s.month} ${s.dayOfMonth}`:t?/en/.test(n.getCurrentLocaleCode())?s.normalDateWithWeekday:s.normalDate:s.keyboardDate},pu=(n,e)=>{const r=n.startOfWeek(e);return[0,1,2,3,4,5,6].map(t=>n.addDays(r,t))},mu=["hours","minutes","seconds"],gu=n=>mu.includes(n),Ts=(n,e)=>e.getHours(n)*3600+e.getMinutes(n)*60+e.getSeconds(n),xu=(n,e)=>(r,t)=>n?e.isAfter(r,t):Ts(r,e)>Ts(t,e),nt={year:1,month:2,day:3,hours:4,minutes:5,seconds:6,milliseconds:7},yu=n=>Math.max(...n.map(e=>{var r;return(r=nt[e.type])!=null?r:1})),nn=(n,e,r)=>{if(e===nt.year)return n.startOfYear(r);if(e===nt.month)return n.startOfMonth(r);if(e===nt.day)return n.startOfDay(r);let t=r;return e<nt.minutes&&(t=n.setMinutes(t,0)),e<nt.seconds&&(t=n.setSeconds(t,0)),e<nt.milliseconds&&(t=n.setMilliseconds(t,0)),t},vu=({props:n,utils:e,granularity:r,timezone:t,getTodayDate:s})=>{var i;let a=s?s():nn(e,r,Ao(e,t));n.minDate!=null&&e.isAfterDay(n.minDate,a)&&(a=nn(e,r,n.minDate)),n.maxDate!=null&&e.isBeforeDay(n.maxDate,a)&&(a=nn(e,r,n.maxDate));const l=xu((i=n.disableIgnoringDatePartForTimeValidation)!=null?i:!1,e);return n.minTime!=null&&l(n.minTime,a)&&(a=nn(e,r,n.disableIgnoringDatePartForTimeValidation?n.minTime:On(e,a,n.minTime))),n.maxTime!=null&&l(a,n.maxTime)&&(a=nn(e,r,n.disableIgnoringDatePartForTimeValidation?n.maxTime:On(e,a,n.maxTime))),a},Fo=(n,e)=>{const r=n.formatTokenMap[e];if(r==null)throw new Error([`MUI: The token "${e}" is not supported by the Date and Time Pickers.`,"Please try using another token or open an issue on https://github.com/mui/mui-x/issues/new/choose if you think it should be supported."].join(`
`));return typeof r=="string"?{type:r,contentType:r==="meridiem"?"letter":"digit",maxLength:void 0}:{type:r.sectionType,contentType:r.contentType,maxLength:r.maxLength}},bu=n=>{switch(n){case"ArrowUp":return 1;case"ArrowDown":return-1;case"PageUp":return 5;case"PageDown":return-5;default:return 0}},$n=(n,e,r)=>{const t=[],s=n.dateWithTimezone(void 0,e),i=n.startOfWeek(s),a=n.endOfWeek(s);let l=i;for(;n.isBefore(l,a);)t.push(l),l=n.addDays(l,1);return t.map(c=>n.formatByString(c,r))},Vo=(n,e,r,t)=>{switch(r){case"month":return $r(n,n.dateWithTimezone(void 0,e)).map(s=>n.formatByString(s,t));case"weekDay":return $n(n,e,t);case"meridiem":{const s=n.dateWithTimezone(void 0,e);return[n.startOfDay(s),n.endOfDay(s)].map(i=>n.formatByString(i,t))}default:return[]}},Wo=(n,e,r)=>{let t=e;for(t=Number(t).toString();t.length<r;)t=`0${t}`;return t},Lo=(n,e,r,t,s)=>{if(s.type==="day"&&s.contentType==="digit-with-letter"){const a=n.setDate(t.longestMonth,r);return n.formatByString(a,s.format)}const i=r.toString();return s.hasLeadingZerosInInput?Wo(n,i,s.maxLength):i},wu=(n,e,r,t,s,i,a)=>{const l=bu(t),c=t==="Home",d=t==="End",u=r.value===""||c||d,g=()=>{const f=s[r.type]({currentDate:i,format:r.format,contentType:r.contentType}),v=h=>Lo(n,e,h,f,r),p=r.type==="minutes"&&a!=null&&a.minutesStep?a.minutesStep:1;let w=parseInt(r.value,10)+l*p;if(u){if(r.type==="year"&&!d&&!c)return n.formatByString(n.dateWithTimezone(void 0,e),r.format);l>0||c?w=f.minimum:w=f.maximum}return w%p!==0&&((l<0||c)&&(w+=p-(p+w)%p),(l>0||d)&&(w-=w%p)),w>f.maximum?v(f.minimum+(w-f.maximum-1)%(f.maximum-f.minimum+1)):w<f.minimum?v(f.maximum-(f.minimum-w-1)%(f.maximum-f.minimum+1)):v(w)},x=()=>{const f=Vo(n,e,r.type,r.format);if(f.length===0)return r.value;if(u)return l>0||c?f[0]:f[f.length-1];const p=(f.indexOf(r.value)+f.length+l)%f.length;return f[p]};return r.contentType==="digit"||r.contentType==="digit-with-letter"?g():x()},Yr=(n,e)=>{let r=n.value||n.placeholder;const t=e==="non-input"?n.hasLeadingZerosInFormat:n.hasLeadingZerosInInput;return e==="non-input"&&n.hasLeadingZerosInInput&&!n.hasLeadingZerosInFormat&&(r=Number(r).toString()),["input-rtl","input-ltr"].includes(e)&&n.contentType==="digit"&&!t&&r.length===1&&(r=`${r}‎`),e==="input-rtl"&&(r=`⁨${r}⁩`),r},Wt=n=>n.replace(/[\u2066\u2067\u2068\u2069]/g,""),No=(n,e)=>{let r=0,t=e?1:0;const s=[];for(let i=0;i<n.length;i+=1){const a=n[i],l=Yr(a,e?"input-rtl":"input-ltr"),c=`${a.startSeparator}${l}${a.endSeparator}`,d=Wt(c).length,u=c.length,g=Wt(l),x=t+l.indexOf(g[0])+a.startSeparator.length,f=x+g.length;s.push(C({},a,{start:r,end:r+d,startInInput:x,endInInput:f})),r+=d,t+=u}return s},Su=(n,e,r,t,s)=>{switch(t.type){case"year":return r.fieldYearPlaceholder({digitAmount:n.formatByString(n.dateWithTimezone(void 0,e),s).length,format:s});case"month":return r.fieldMonthPlaceholder({contentType:t.contentType,format:s});case"day":return r.fieldDayPlaceholder({format:s});case"weekDay":return r.fieldWeekDayPlaceholder({contentType:t.contentType,format:s});case"hours":return r.fieldHoursPlaceholder({format:s});case"minutes":return r.fieldMinutesPlaceholder({format:s});case"seconds":return r.fieldSecondsPlaceholder({format:s});case"meridiem":return r.fieldMeridiemPlaceholder({format:s});default:return s}},Is=(n,e,r,t)=>n.formatByString(n.parse(e,r),t),_o=(n,e,r)=>n.formatByString(n.dateWithTimezone(void 0,e),r).length===4,Ho=(n,e,r,t,s)=>{if(r!=="digit")return!1;const i=n.dateWithTimezone(void 0,e);switch(t){case"year":return _o(n,e,s)?n.formatByString(n.setYear(i,1),s)==="0001":n.formatByString(n.setYear(i,2001),s)==="01";case"month":return n.formatByString(n.startOfYear(i),s).length>1;case"day":return n.formatByString(n.startOfMonth(i),s).length>1;case"weekDay":return n.formatByString(n.startOfWeek(i),s).length>1;case"hours":return n.formatByString(n.setHours(i,1),s).length>1;case"minutes":return n.formatByString(n.setMinutes(i,1),s).length>1;case"seconds":return n.formatByString(n.setSeconds(i,1),s).length>1;default:throw new Error("Invalid section type")}},Du=(n,e)=>{const r=[],{start:t,end:s}=n.escapedCharacters,i=new RegExp(`(\\${t}[^\\${s}]*\\${s})+`,"g");let a=null;for(;a=i.exec(e);)r.push({start:a.index,end:i.lastIndex-1});return r},Rs=(n,e,r,t,s,i,a,l)=>{let c="";const d=[],u=n.date(),g=y=>{if(y==="")return null;const S=Fo(n,y),D=Ho(n,e,S.contentType,S.type,y),E=a?D:S.contentType==="digit",I=s!=null&&n.isValid(s);let A=I?n.formatByString(s,y):"",T=null;if(E)if(D)T=A===""?n.formatByString(u,y).length:A.length;else{if(S.maxLength==null)throw new Error(`MUI: The token ${y} should have a 'maxDigitNumber' property on it's adapter`);T=S.maxLength,I&&(A=Wo(n,A,T))}return d.push(C({},S,{format:y,maxLength:T,value:A,placeholder:Su(n,e,r,S,y),hasLeadingZeros:D,hasLeadingZerosInFormat:D,hasLeadingZerosInInput:E,startSeparator:d.length===0?c:"",endSeparator:"",modified:!1})),null};let x=10,f=t,v=n.expandFormat(t);for(;v!==f;)if(f=v,v=n.expandFormat(f),x-=1,x<0)throw new Error("MUI: The format expansion seems to be  enter in an infinite loop. Please open an issue with the format passed to the picker component");const p=v,m=Du(n,p),w=new RegExp(`^(${Object.keys(n.formatTokenMap).sort((y,S)=>S.length-y.length).join("|")})`,"g");let h="";for(let y=0;y<p.length;y+=1){const S=m.find(T=>T.start<=y&&T.end>=y),D=p[y],E=S!=null,I=`${h}${p.slice(y)}`,A=w.test(I);!E&&D.match(/([A-Za-z]+)/)&&A?(h=I.slice(0,w.lastIndex),y+=w.lastIndex-1):E&&(S==null?void 0:S.start)===y||(S==null?void 0:S.end)===y||(g(h),h="",d.length===0?c+=D:d[d.length-1].endSeparator+=D)}return g(h),d.map(y=>{const S=D=>{let E=D;return l&&E!==null&&E.includes(" ")&&(E=`⁩${E}⁦`),i==="spacious"&&["/",".","-"].includes(E)&&(E=` ${E} `),E};return y.startSeparator=S(y.startSeparator),y.endSeparator=S(y.endSeparator),y})},Cu=(n,e)=>{const r=e.some(l=>l.type==="day"),t=[],s=[];for(let l=0;l<e.length;l+=1){const c=e[l];r&&c.type==="weekDay"||(t.push(c.format),s.push(Yr(c,"non-input")))}const i=t.join(" "),a=s.join(" ");return n.parse(a,i)},ju=(n,e)=>{const t=n.map(s=>{const i=Yr(s,e?"input-rtl":"input-ltr");return`${s.startSeparator}${i}${s.endSeparator}`}).join("");return e?`⁦${t}⁩`:t},Pu=(n,e)=>{const r=n.dateWithTimezone(void 0,e),t=n.endOfYear(r),s=n.endOfDay(r),{maxDaysInMonth:i,longestMonth:a}=$r(n,r).reduce((l,c)=>{const d=n.getDaysInMonth(c);return d>l.maxDaysInMonth?{maxDaysInMonth:d,longestMonth:c}:l},{maxDaysInMonth:0,longestMonth:null});return{year:({format:l})=>({minimum:0,maximum:_o(n,e,l)?9999:99}),month:()=>({minimum:1,maximum:n.getMonth(t)+1}),day:({currentDate:l})=>({minimum:1,maximum:l!=null&&n.isValid(l)?n.getDaysInMonth(l):i,longestMonth:a}),weekDay:({format:l,contentType:c})=>{if(c==="digit"){const d=$n(n,e,l).map(Number);return{minimum:Math.min(...d),maximum:Math.max(...d)}}return{minimum:1,maximum:7}},hours:({format:l})=>{const c=n.getHours(s);return n.formatByString(n.endOfDay(r),l)!==c.toString()?{minimum:1,maximum:Number(n.formatByString(n.startOfDay(r),l))}:{minimum:0,maximum:c}},minutes:()=>({minimum:0,maximum:n.getMinutes(s)}),seconds:()=>({minimum:0,maximum:n.getSeconds(s)}),meridiem:()=>({minimum:0,maximum:0})}},Mu=(n,e,r,t,s)=>{switch(r.type){case"year":return n.setYear(s,n.getYear(t));case"month":return n.setMonth(s,n.getMonth(t));case"weekDay":{const i=$n(n,e,r.format),a=n.formatByString(t,r.format),l=i.indexOf(a),d=i.indexOf(r.value)-l;return n.addDays(t,d)}case"day":return n.setDate(s,n.getDate(t));case"meridiem":{const i=n.getHours(t)<12,a=n.getHours(s);return i&&a>=12?n.addHours(s,-12):!i&&a<12?n.addHours(s,12):s}case"hours":return n.setHours(s,n.getHours(t));case"minutes":return n.setMinutes(s,n.getMinutes(t));case"seconds":return n.setSeconds(s,n.getSeconds(t));default:return s}},Os={year:1,month:2,day:3,weekDay:4,hours:5,minutes:6,seconds:7,meridiem:8},As=(n,e,r,t,s,i)=>[...t].sort((a,l)=>Os[a.type]-Os[l.type]).reduce((a,l)=>!i||l.modified?Mu(n,e,l,r,a):a,s),ku=()=>navigator.userAgent.toLowerCase().indexOf("android")>-1,Eu=(n,e)=>{const r={};if(!e)return n.forEach((c,d)=>{const u=d===0?null:d-1,g=d===n.length-1?null:d+1;r[d]={leftIndex:u,rightIndex:g}}),{neighbors:r,startIndex:0,endIndex:n.length-1};const t={},s={};let i=0,a=0,l=n.length-1;for(;l>=0;){a=n.findIndex((c,d)=>{var u;return d>=i&&((u=c.endSeparator)==null?void 0:u.includes(" "))&&c.endSeparator!==" / "}),a===-1&&(a=n.length-1);for(let c=a;c>=i;c-=1)s[c]=l,t[l]=c,l-=1;i=a+1}return n.forEach((c,d)=>{const u=s[d],g=u===0?null:t[u-1],x=u===n.length-1?null:t[u+1];r[d]={leftIndex:g,rightIndex:x}}),{neighbors:r,startIndex:t[0],endIndex:t[n.length-1]}},Tu=["value","referenceDate"],dt={emptyValue:null,getTodayValue:Ao,getInitialReferenceValue:n=>{let{value:e,referenceDate:r}=n,t=ue(n,Tu);return e!=null&&t.utils.isValid(e)?e:r??vu(t)},cleanValue:uu,areValuesEqual:hu,isSameError:(n,e)=>n===e,hasError:n=>n!=null,defaultErrorState:null,getTimezone:(n,e)=>e==null||!n.isValid(e)?null:n.getTimezone(e),setTimezone:(n,e,r)=>r==null?null:n.setTimezone(r,e)},Iu={updateReferenceValue:(n,e,r)=>e==null||!n.isValid(e)?r:e,getSectionsFromValue:(n,e,r,t,s)=>!n.isValid(e)&&!!r?r:No(s(e),t),getValueStrFromSections:ju,getActiveDateManager:(n,e)=>({date:e.value,referenceDate:e.referenceValue,getSections:r=>r,getNewValuesFromNewActiveDate:r=>({value:r,referenceValue:r==null||!n.isValid(r)?e.referenceValue:r})}),parseValueStr:(n,e,r)=>r(n.trim(),e)},Ru=["localeText"],jr=b.createContext(null),qr=function(e){var r;const{localeText:t}=e,s=ue(e,Ru),{utils:i,localeText:a}=(r=b.useContext(jr))!=null?r:{utils:void 0,localeText:void 0},l=Me({props:s,name:"MuiLocalizationProvider"}),{children:c,dateAdapter:d,dateFormats:u,dateLibInstance:g,adapterLocale:x,localeText:f}=l,v=b.useMemo(()=>C({},f,a,t),[f,a,t]),p=b.useMemo(()=>{if(!d)return i||null;const h=new d({locale:x,formats:u,instance:g});if(!h.isMUIAdapter)throw new Error(["MUI: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/getting-started/#installation"].join(`
`));return h},[d,x,u,g,i]),m=b.useMemo(()=>p?{minDate:p.date("1900-01-01T00:00:00.000"),maxDate:p.date("2099-12-31T00:00:00.000")}:null,[p]),w=b.useMemo(()=>({utils:p,defaultDates:m,localeText:v}),[m,p,v]);return o.jsx(jr.Provider,{value:w,children:c})},Ou=n=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:C({},n)}}}}),zo={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"open previous view",openNextView:"open next view",calendarViewSwitchingButtonAriaLabel:n=>n==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",clockLabelText:(n,e,r)=>`Select ${n}. ${e===null?"No time selected":`Selected time is ${r.format(e,"fullTime")}`}`,hoursClockNumberText:n=>`${n} hours`,minutesClockNumberText:n=>`${n} minutes`,secondsClockNumberText:n=>`${n} seconds`,selectViewText:n=>`Select ${n}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:n=>`Week ${n}`,calendarWeekNumberText:n=>`${n}`,openDatePickerDialogue:(n,e)=>n!==null&&e.isValid(n)?`Choose date, selected date is ${e.format(n,"fullDate")}`:"Choose date",openTimePickerDialogue:(n,e)=>n!==null&&e.isValid(n)?`Choose time, selected time is ${e.format(n,"fullTime")}`:"Choose time",fieldClearLabel:"Clear value",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:n=>"Y".repeat(n.digitAmount),fieldMonthPlaceholder:n=>n.contentType==="letter"?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:n=>n.contentType==="letter"?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa"},Au=zo;Ou(zo);const Rt=()=>{const n=b.useContext(jr);if(n===null)throw new Error(["MUI: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join(`
`));if(n.utils===null)throw new Error(["MUI: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join(`
`));const e=b.useMemo(()=>C({},Au,n.localeText),[n.localeText]);return b.useMemo(()=>C({},n,{localeText:e}),[n,e])},me=()=>Rt().utils,xn=()=>Rt().defaultDates,vt=()=>Rt().localeText,Un=n=>{const e=me(),r=b.useRef();return r.current===void 0&&(r.current=e.dateWithTimezone(void 0,n)),r.current};function Fu(n){return Le("MuiPickersToolbar",n)}Ne("MuiPickersToolbar",["root","content"]);const Vu=n=>{const{classes:e,isLandscape:r}=n;return Ve({root:["root"],content:["content"],penIconButton:["penIconButton",r&&"penIconButtonLandscape"]},Fu,e)},Wu=se("div",{name:"MuiPickersToolbar",slot:"Root",overridesResolver:(n,e)=>e.root})(({theme:n,ownerState:e})=>C({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:n.spacing(2,3)},e.isLandscape&&{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"})),Lu=se("div",{name:"MuiPickersToolbar",slot:"Content",overridesResolver:(n,e)=>e.content})(({ownerState:n})=>{var e;return{display:"flex",flexWrap:"wrap",width:"100%",justifyContent:n.isLandscape?"flex-start":"space-between",flexDirection:n.isLandscape?(e=n.landscapeDirection)!=null?e:"column":"row",flex:1,alignItems:n.isLandscape?"flex-start":"center"}}),Nu=b.forwardRef(function(e,r){const t=Me({props:e,name:"MuiPickersToolbar"}),{children:s,className:i,toolbarTitle:a,hidden:l,titleId:c}=t,d=t,u=Vu(d);return l?null:o.jsxs(Wu,{ref:r,className:Ie(u.root,i),ownerState:d,children:[o.jsx(O,{color:"text.secondary",variant:"overline",id:c,children:a}),o.jsx(Lu,{className:u.content,ownerState:d,children:s})]})});function _u(n){return Le("MuiDatePickerToolbar",n)}Ne("MuiDatePickerToolbar",["root","title"]);const Hu=["value","isLandscape","onChange","toolbarFormat","toolbarPlaceholder","views","className"],zu=n=>{const{classes:e}=n;return Ve({root:["root"],title:["title"]},_u,e)},Bu=se(Nu,{name:"MuiDatePickerToolbar",slot:"Root",overridesResolver:(n,e)=>e.root})({}),$u=se(O,{name:"MuiDatePickerToolbar",slot:"Title",overridesResolver:(n,e)=>e.title})(({ownerState:n})=>C({},n.isLandscape&&{margin:"auto 16px auto auto"})),Uu=b.forwardRef(function(e,r){const t=Me({props:e,name:"MuiDatePickerToolbar"}),{value:s,isLandscape:i,toolbarFormat:a,toolbarPlaceholder:l="––",views:c,className:d}=t,u=ue(t,Hu),g=me(),x=vt(),f=zu(t),v=b.useMemo(()=>{if(!s)return l;const m=Ur(g,{format:a,views:c},!0);return g.formatByString(s,m)},[s,a,l,g,c]),p=t;return o.jsx(Bu,C({ref:r,toolbarTitle:x.datePickerToolbarTitle,isLandscape:i,className:Ie(f.root,d)},u,{children:o.jsx($u,{variant:"h4",align:i?"left":"center",ownerState:p,className:f.title,children:v})}))}),Bo=n=>{if(n!==void 0)return Object.keys(n).reduce((e,r)=>C({},e,{[`${r.slice(0,1).toLowerCase()}${r.slice(1)}`]:n[r]}),{})};function $o(n,e){var r,t,s,i;const a=me(),l=xn(),c=Me({props:n,name:e}),d=b.useMemo(()=>{var g;return((g=c.localeText)==null?void 0:g.toolbarTitle)==null?c.localeText:C({},c.localeText,{datePickerToolbarTitle:c.localeText.toolbarTitle})},[c.localeText]),u=(r=c.slots)!=null?r:Bo(c.components);return C({},c,{localeText:d},du({views:c.views,openTo:c.openTo,defaultViews:["year","day"],defaultOpenTo:"day"}),{disableFuture:(t=c.disableFuture)!=null?t:!1,disablePast:(s=c.disablePast)!=null?s:!1,minDate:Ge(a,c.minDate,l.minDate),maxDate:Ge(a,c.maxDate,l.maxDate),slots:C({toolbar:Uu},u),slotProps:(i=c.slotProps)!=null?i:c.componentsProps})}const Yu=xt(o.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),qu=xt(o.jsx("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"ArrowLeft"),Qu=xt(o.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"ArrowRight"),Gu=xt(o.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Calendar");xt(o.jsxs(b.Fragment,{children:[o.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),o.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Clock");xt(o.jsx("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),"DateRange");xt(o.jsxs(b.Fragment,{children:[o.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),o.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Time");const Ku=xt(o.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");function Xu(n){return Le("MuiPickersArrowSwitcher",n)}Ne("MuiPickersArrowSwitcher",["root","spacer","button"]);const Ju=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel"],Zu=["ownerState"],eh=["ownerState"],th=se("div",{name:"MuiPickersArrowSwitcher",slot:"Root",overridesResolver:(n,e)=>e.root})({display:"flex"}),nh=se("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer",overridesResolver:(n,e)=>e.spacer})(({theme:n})=>({width:n.spacing(3)})),Fs=se(be,{name:"MuiPickersArrowSwitcher",slot:"Button",overridesResolver:(n,e)=>e.button})(({ownerState:n})=>C({},n.hidden&&{visibility:"hidden"})),rh=n=>{const{classes:e}=n;return Ve({root:["root"],spacer:["spacer"],button:["button"]},Xu,e)},sh=b.forwardRef(function(e,r){var t,s,i,a;const c=Yt().direction==="rtl",d=Me({props:e,name:"MuiPickersArrowSwitcher"}),{children:u,className:g,slots:x,slotProps:f,isNextDisabled:v,isNextHidden:p,onGoToNext:m,nextLabel:w,isPreviousDisabled:h,isPreviousHidden:y,onGoToPrevious:S,previousLabel:D}=d,E=ue(d,Ju),I=d,A=rh(I),T={isDisabled:v,isHidden:p,goTo:m,label:w},F={isDisabled:h,isHidden:y,goTo:S,label:D},L=(t=x==null?void 0:x.previousIconButton)!=null?t:Fs,H=Ce({elementType:L,externalSlotProps:f==null?void 0:f.previousIconButton,additionalProps:{size:"medium",title:F.label,"aria-label":F.label,disabled:F.isDisabled,edge:"end",onClick:F.goTo},ownerState:C({},I,{hidden:F.isHidden}),className:A.button}),U=(s=x==null?void 0:x.nextIconButton)!=null?s:Fs,k=Ce({elementType:U,externalSlotProps:f==null?void 0:f.nextIconButton,additionalProps:{size:"medium",title:T.label,"aria-label":T.label,disabled:T.isDisabled,edge:"start",onClick:T.goTo},ownerState:C({},I,{hidden:T.isHidden}),className:A.button}),P=(i=x==null?void 0:x.leftArrowIcon)!=null?i:qu,q=Ce({elementType:P,externalSlotProps:f==null?void 0:f.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),K=ue(q,Zu),B=(a=x==null?void 0:x.rightArrowIcon)!=null?a:Qu,Q=Ce({elementType:B,externalSlotProps:f==null?void 0:f.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),X=ue(Q,eh);return o.jsxs(th,C({ref:r,className:Ie(A.root,g),ownerState:I},E,{children:[o.jsx(L,C({},H,{children:c?o.jsx(B,C({},X)):o.jsx(P,C({},K))})),u?o.jsx(O,{variant:"subtitle1",component:"span",children:u}):o.jsx(nh,{className:A.spacer,ownerState:I}),o.jsx(U,C({},k,{children:c?o.jsx(P,C({},K)):o.jsx(B,C({},X))}))]}))}),un=36,Yn=2,qn=320,oh=280,Qr=334,ih=se(kt)({[`& .${rs.container}`]:{outline:0},[`& .${rs.paper}`]:{outline:0,minWidth:qn}}),ah=se(Et)({"&:first-of-type":{padding:0}});function lh(n){var e,r;const{children:t,onDismiss:s,open:i,slots:a,slotProps:l}=n,c=(e=a==null?void 0:a.dialog)!=null?e:ih,d=(r=a==null?void 0:a.mobileTransition)!=null?r:Ln;return o.jsx(c,C({open:i,onClose:s},l==null?void 0:l.dialog,{TransitionComponent:d,TransitionProps:l==null?void 0:l.mobileTransition,PaperComponent:a==null?void 0:a.mobilePaper,PaperProps:l==null?void 0:l.mobilePaper,children:o.jsx(ah,{children:t})}))}function ch(n){return Le("MuiPickersPopper",n)}Ne("MuiPickersPopper",["root","paper"]);function dh(n,e){return Array.isArray(e)?e.every(r=>n.indexOf(r)!==-1):n.indexOf(e)!==-1}const uh=(n,e)=>r=>{(r.key==="Enter"||r.key===" ")&&(n(r),r.preventDefault(),r.stopPropagation())},An=(n=document)=>{const e=n.activeElement;return e?e.shadowRoot?An(e.shadowRoot):e:null},hh="@media (pointer: fine)",fh="@media (prefers-reduced-motion: reduce)",Nt=typeof navigator<"u"&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),Vs=Nt&&Nt[1]?parseInt(Nt[1],10):null,Ws=Nt&&Nt[2]?parseInt(Nt[2],10):null,ph=Vs&&Vs<10||Ws&&Ws<13||!1,Uo=()=>qs(fh,{defaultMatches:!1})||ph,mh=["PaperComponent","popperPlacement","ownerState","children","paperSlotProps","paperClasses","onPaperClick","onPaperTouchStart"],gh=n=>{const{classes:e}=n;return Ve({root:["root"],paper:["paper"]},ch,e)},xh=se(Vi,{name:"MuiPickersPopper",slot:"Root",overridesResolver:(n,e)=>e.root})(({theme:n})=>({zIndex:n.zIndex.modal})),yh=se(Fe,{name:"MuiPickersPopper",slot:"Paper",overridesResolver:(n,e)=>e.paper})(({ownerState:n})=>C({outline:0,transformOrigin:"top center"},n.placement.includes("top")&&{transformOrigin:"bottom center"}));function vh(n,e){return e.documentElement.clientWidth<n.clientX||e.documentElement.clientHeight<n.clientY}function bh(n,e){const r=b.useRef(!1),t=b.useRef(!1),s=b.useRef(null),i=b.useRef(!1);b.useEffect(()=>{if(!n)return;function c(){i.current=!0}return document.addEventListener("mousedown",c,!0),document.addEventListener("touchstart",c,!0),()=>{document.removeEventListener("mousedown",c,!0),document.removeEventListener("touchstart",c,!0),i.current=!1}},[n]);const a=J(c=>{if(!i.current)return;const d=t.current;t.current=!1;const u=tr(s.current);if(!s.current||"clientX"in c&&vh(c,u))return;if(r.current){r.current=!1;return}let g;c.composedPath?g=c.composedPath().indexOf(s.current)>-1:g=!u.documentElement.contains(c.target)||s.current.contains(c.target),!g&&!d&&e(c)}),l=()=>{t.current=!0};return b.useEffect(()=>{if(n){const c=tr(s.current),d=()=>{r.current=!0};return c.addEventListener("touchstart",a),c.addEventListener("touchmove",d),()=>{c.removeEventListener("touchstart",a),c.removeEventListener("touchmove",d)}}},[n,a]),b.useEffect(()=>{if(n){const c=tr(s.current);return c.addEventListener("click",a),()=>{c.removeEventListener("click",a),t.current=!1}}},[n,a]),[s,l,l]}const wh=b.forwardRef((n,e)=>{const{PaperComponent:r,popperPlacement:t,ownerState:s,children:i,paperSlotProps:a,paperClasses:l,onPaperClick:c,onPaperTouchStart:d}=n,u=ue(n,mh),g=C({},s,{placement:t}),x=Ce({elementType:r,externalSlotProps:a,additionalProps:{tabIndex:-1,elevation:8,ref:e},className:l,ownerState:g});return o.jsx(r,C({},u,x,{onClick:f=>{var v;c(f),(v=x.onClick)==null||v.call(x,f)},onTouchStart:f=>{var v;d(f),(v=x.onTouchStart)==null||v.call(x,f)},ownerState:g,children:i}))});function Sh(n){var e,r,t,s;const i=Me({props:n,name:"MuiPickersPopper"}),{anchorEl:a,children:l,containerRef:c=null,shouldRestoreFocus:d,onBlur:u,onDismiss:g,open:x,role:f,placement:v,slots:p,slotProps:m,reduceAnimations:w}=i;b.useEffect(()=>{function Q(X){x&&(X.key==="Escape"||X.key==="Esc")&&g()}return document.addEventListener("keydown",Q),()=>{document.removeEventListener("keydown",Q)}},[g,x]);const h=b.useRef(null);b.useEffect(()=>{f==="tooltip"||d&&!d()||(x?h.current=An(document):h.current&&h.current instanceof HTMLElement&&setTimeout(()=>{h.current instanceof HTMLElement&&h.current.focus()}))},[x,f,d]);const[y,S,D]=bh(x,u??g),E=b.useRef(null),I=Pt(E,c),A=Pt(I,y),T=i,F=gh(T),L=Uo(),H=w??L,U=Q=>{Q.key==="Escape"&&(Q.stopPropagation(),g())},k=((e=p==null?void 0:p.desktopTransition)!=null?e:H)?Ln:Ai,P=(r=p==null?void 0:p.desktopTrapFocus)!=null?r:Fi,q=(t=p==null?void 0:p.desktopPaper)!=null?t:yh,K=(s=p==null?void 0:p.popper)!=null?s:xh,B=Ce({elementType:K,externalSlotProps:m==null?void 0:m.popper,additionalProps:{transition:!0,role:f,open:x,anchorEl:a,placement:v,onKeyDown:U},className:F.root,ownerState:i});return o.jsx(K,C({},B,{children:({TransitionProps:Q,placement:X})=>o.jsx(P,C({open:x,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:f==="tooltip",isEnabled:()=>!0},m==null?void 0:m.desktopTrapFocus,{children:o.jsx(k,C({},Q,m==null?void 0:m.desktopTransition,{children:o.jsx(wh,{PaperComponent:q,ownerState:T,popperPlacement:X,ref:A,onPaperClick:S,onPaperTouchStart:D,paperClasses:F.paper,paperSlotProps:m==null?void 0:m.desktopPaper,children:l})}))}))}))}const Gr=({timezone:n,value:e,defaultValue:r,onChange:t,valueManager:s})=>{var i,a;const l=me(),c=b.useRef(r),d=(i=e??c.current)!=null?i:s.emptyValue,u=b.useMemo(()=>s.getTimezone(l,d),[l,s,d]),g=J(p=>u==null?p:s.setTimezone(l,u,p)),x=(a=n??u)!=null?a:"default",f=b.useMemo(()=>s.setTimezone(l,x,d),[s,l,x,d]),v=J((p,...m)=>{const w=g(p);t==null||t(w,...m)});return{value:f,handleValueChange:v,timezone:x}},Kr=({name:n,timezone:e,value:r,defaultValue:t,onChange:s,valueManager:i})=>{const[a,l]=gt({name:n,state:"value",controlled:r,default:t??i.emptyValue}),c=J((d,...u)=>{l(d),s==null||s(d,...u)});return Gr({timezone:e,value:a,defaultValue:void 0,onChange:c,valueManager:i})};function Yo(n,e,r,t){const{value:s,onError:i}=n,a=Rt(),l=b.useRef(t),c=e({adapter:a,value:s,props:n});return b.useEffect(()=>{i&&!r(c,l.current)&&i(c,s),l.current=c},[r,i,l,c,s]),c}const Dh=n=>{const e=me(),r=vt(),t=Rt(),i=Yt().direction==="rtl",{valueManager:a,fieldValueManager:l,validator:c,internalProps:d,internalProps:{value:u,defaultValue:g,referenceDate:x,onChange:f,format:v,formatDensity:p="dense",selectedSections:m,onSelectedSectionsChange:w,shouldRespectLeadingZeros:h=!1,timezone:y}}=n,{timezone:S,value:D,handleValueChange:E}=Gr({timezone:y,value:u,defaultValue:g,onChange:f,valueManager:a}),I=b.useMemo(()=>Pu(e,S),[e,S]),A=b.useCallback((V,Y=null)=>l.getSectionsFromValue(e,V,Y,i,te=>Rs(e,S,r,v,te,p,h,i)),[l,v,r,i,h,e,p,S]),T=b.useMemo(()=>l.getValueStrFromSections(A(a.emptyValue),i),[l,A,a.emptyValue,i]),[F,L]=b.useState(()=>{const V=A(D),Y={sections:V,value:D,referenceValue:a.emptyValue,tempValueStrAndroid:null},te=yu(V),fe=a.getInitialReferenceValue({referenceDate:x,value:D,utils:e,props:d,granularity:te,timezone:S});return C({},Y,{referenceValue:fe})}),[H,U]=gt({controlled:m,default:null,name:"useField",state:"selectedSectionIndexes"}),k=V=>{U(V),w==null||w(V),L(Y=>C({},Y,{selectedSectionQuery:null}))},P=b.useMemo(()=>{if(H==null)return null;if(H==="all")return{startIndex:0,endIndex:F.sections.length-1,shouldSelectBoundarySelectors:!0};if(typeof H=="number")return{startIndex:H,endIndex:H};if(typeof H=="string"){const V=F.sections.findIndex(Y=>Y.type===H);return{startIndex:V,endIndex:V}}return H},[H,F.sections]),q=({value:V,referenceValue:Y,sections:te})=>{if(L(_=>C({},_,{sections:te,value:V,referenceValue:Y,tempValueStrAndroid:null})),a.areValuesEqual(e,F.value,V))return;const fe={validationError:c({adapter:t,value:V,props:C({},d,{value:V,timezone:S})})};E(V,fe)},K=(V,Y)=>{const te=[...F.sections];return te[V]=C({},te[V],{value:Y,modified:!0}),No(te,i)},B=()=>{q({value:a.emptyValue,referenceValue:F.referenceValue,sections:A(a.emptyValue)})},Q=()=>{if(P==null)return;const V=F.sections[P.startIndex],Y=l.getActiveDateManager(e,F,V),fe=Y.getSections(F.sections).filter(ge=>ge.value!=="").length===(V.value===""?0:1),_=K(P.startIndex,""),oe=fe?null:e.date(new Date("")),he=Y.getNewValuesFromNewActiveDate(oe);(oe!=null&&!e.isValid(oe))!=(Y.date!=null&&!e.isValid(Y.date))?q(C({},he,{sections:_})):L(ge=>C({},ge,he,{sections:_,tempValueStrAndroid:null}))},X=V=>{const Y=(_,oe)=>{const he=e.parse(_,v);if(he==null||!e.isValid(he))return null;const ge=Rs(e,S,r,v,he,p,h,i);return As(e,S,he,ge,oe,!1)},te=l.parseValueStr(V,F.referenceValue,Y),fe=l.updateReferenceValue(e,te,F.referenceValue);q({value:te,referenceValue:fe,sections:A(te,F.sections)})},R=({activeSection:V,newSectionValue:Y,shouldGoToNextSection:te})=>{te&&P&&P.startIndex<F.sections.length-1?k(P.startIndex+1):P&&P.startIndex!==P.endIndex&&k(P.startIndex);const fe=l.getActiveDateManager(e,F,V),_=K(P.startIndex,Y),oe=fe.getSections(_),he=Cu(e,oe);let ge,Z;if(he!=null&&e.isValid(he)){const re=As(e,S,he,oe,fe.referenceDate,!0);ge=fe.getNewValuesFromNewActiveDate(re),Z=!0}else ge=fe.getNewValuesFromNewActiveDate(he),Z=(he!=null&&!e.isValid(he))!=(fe.date!=null&&!e.isValid(fe.date));return Z?q(C({},ge,{sections:_})):L(re=>C({},re,ge,{sections:_,tempValueStrAndroid:null}))},W=V=>L(Y=>C({},Y,{tempValueStrAndroid:V}));return b.useEffect(()=>{const V=A(F.value);L(Y=>C({},Y,{sections:V}))},[v,e.locale]),b.useEffect(()=>{let V=!1;a.areValuesEqual(e,F.value,D)?V=a.getTimezone(e,F.value)!==a.getTimezone(e,D):V=!0,V&&L(Y=>C({},Y,{value:D,referenceValue:l.updateReferenceValue(e,D,Y.referenceValue),sections:A(D)}))},[D]),{state:F,selectedSectionIndexes:P,setSelectedSections:k,clearValue:B,clearActiveSection:Q,updateSectionValue:R,updateValueFromValueStr:X,setTempAndroidValueStr:W,sectionsValueBoundaries:I,placeholder:T,timezone:S}},Ch=5e3,At=n=>n.saveQuery!=null,jh=({sections:n,updateSectionValue:e,sectionsValueBoundaries:r,setTempAndroidValueStr:t,timezone:s})=>{const i=me(),[a,l]=b.useState(null),c=J(()=>l(null));b.useEffect(()=>{var f;a!=null&&((f=n[a.sectionIndex])==null?void 0:f.type)!==a.sectionType&&c()},[n,a,c]),b.useEffect(()=>{if(a!=null){const f=setTimeout(()=>c(),Ch);return()=>{window.clearTimeout(f)}}return()=>{}},[a,c]);const d=({keyPressed:f,sectionIndex:v},p,m)=>{const w=f.toLowerCase(),h=n[v];if(a!=null&&(!m||m(a.value))&&a.sectionIndex===v){const S=`${a.value}${w}`,D=p(S,h);if(!At(D))return l({sectionIndex:v,value:S,sectionType:h.type}),D}const y=p(w,h);return At(y)&&!y.saveQuery?(c(),null):(l({sectionIndex:v,value:w,sectionType:h.type}),At(y)?null:y)},u=f=>{const v=(w,h,y)=>{const S=h.filter(D=>D.toLowerCase().startsWith(y));return S.length===0?{saveQuery:!1}:{sectionValue:S[0],shouldGoToNextSection:S.length===1}},p=(w,h,y,S)=>{const D=E=>Vo(i,s,h.type,E);if(h.contentType==="letter")return v(h.format,D(h.format),w);if(y&&S!=null&&Fo(i,y).contentType==="letter"){const E=D(y),I=v(y,E,w);return At(I)?{saveQuery:!1}:C({},I,{sectionValue:S(I.sectionValue,E)})}return{saveQuery:!1}};return d(f,(w,h)=>{switch(h.type){case"month":{const y=S=>Is(i,S,i.formats.month,h.format);return p(w,h,i.formats.month,y)}case"weekDay":{const y=(S,D)=>D.indexOf(S).toString();return p(w,h,i.formats.weekday,y)}case"meridiem":return p(w,h);default:return{saveQuery:!1}}})},g=f=>{const v=(m,w)=>{const h=+`${m}`,y=r[w.type]({currentDate:null,format:w.format,contentType:w.contentType});if(h>y.maximum)return{saveQuery:!1};if(h<y.minimum)return{saveQuery:!0};const S=+`${m}0`>y.maximum||m.length===y.maximum.toString().length;return{sectionValue:Lo(i,s,h,y,w),shouldGoToNextSection:S}};return d(f,(m,w)=>{if(w.contentType==="digit"||w.contentType==="digit-with-letter")return v(m,w);if(w.type==="month"){Ho(i,s,"digit","month","MM");const h=v(m,{type:w.type,format:"MM",hasLeadingZerosInInput:!0,contentType:"digit",maxLength:2});if(At(h))return h;const y=Is(i,h.sectionValue,"MM",w.format);return C({},h,{sectionValue:y})}if(w.type==="weekDay"){const h=v(m,w);if(At(h))return h;const y=$n(i,s,w.format)[Number(h.sectionValue)-1];return C({},h,{sectionValue:y})}return{saveQuery:!1}},m=>!Number.isNaN(Number(m)))};return{applyCharacterEditing:J(f=>{const v=n[f.sectionIndex],m=f.keyPressed!==" "&&!Number.isNaN(Number(f.keyPressed))?g(f):u(f);m==null?t(null):e({activeSection:v,newSectionValue:m.sectionValue,shouldGoToNextSection:m.shouldGoToNextSection})}),resetCharacterQuery:c}},Ph=["onClick","onKeyDown","onFocus","onBlur","onMouseUp","onPaste","error","clearable","onClear","disabled"],Mh=n=>{const e=me(),{state:r,selectedSectionIndexes:t,setSelectedSections:s,clearValue:i,clearActiveSection:a,updateSectionValue:l,updateValueFromValueStr:c,setTempAndroidValueStr:d,sectionsValueBoundaries:u,placeholder:g,timezone:x}=Dh(n),{inputRef:f,internalProps:v,internalProps:{readOnly:p=!1,unstableFieldRef:m,minutesStep:w},forwardedProps:{onClick:h,onKeyDown:y,onFocus:S,onBlur:D,onMouseUp:E,onPaste:I,error:A,clearable:T,onClear:F,disabled:L},fieldValueManager:H,valueManager:U,validator:k}=n,P=ue(n.forwardedProps,Ph),{applyCharacterEditing:q,resetCharacterQuery:K}=jh({sections:r.sections,updateSectionValue:l,sectionsValueBoundaries:u,setTempAndroidValueStr:d,timezone:x}),B=b.useRef(null),Q=Pt(f,B),X=b.useRef(void 0),W=Yt().direction==="rtl",V=b.useMemo(()=>Eu(r.sections,W),[r.sections,W]),Y=()=>{var z;if(p){s(null);return}const G=(z=B.current.selectionStart)!=null?z:0;let ce;G<=r.sections[0].startInInput||G>=r.sections[r.sections.length-1].endInInput?ce=1:ce=r.sections.findIndex(Re=>Re.startInInput-Re.startSeparator.length>G);const ye=ce===-1?r.sections.length-1:ce-1;s(ye)},te=J((z,...G)=>{z.isDefaultPrevented()||(h==null||h(z,...G),Y())}),fe=J(z=>{E==null||E(z),z.preventDefault()}),_=J((...z)=>{S==null||S(...z);const G=B.current;window.clearTimeout(X.current),X.current=setTimeout(()=>{!G||G!==B.current||t!=null||p||(G.value.length&&Number(G.selectionEnd)-Number(G.selectionStart)===G.value.length?s("all"):Y())})}),oe=J((...z)=>{D==null||D(...z),s(null)}),he=J(z=>{if(I==null||I(z),p){z.preventDefault();return}const G=z.clipboardData.getData("text");if(t&&t.startIndex===t.endIndex){const ce=r.sections[t.startIndex],ye=/^[a-zA-Z]+$/.test(G),Re=/^[0-9]+$/.test(G),Oe=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(G);if(ce.contentType==="letter"&&ye||ce.contentType==="digit"&&Re||ce.contentType==="digit-with-letter"&&Oe){K(),l({activeSection:ce,newSectionValue:G,shouldGoToNextSection:!0}),z.preventDefault();return}if(ye||Re){z.preventDefault();return}}z.preventDefault(),K(),c(G)}),ge=J(z=>{if(p)return;const G=z.target.value;if(G===""){K(),i();return}const ce=z.nativeEvent.data,ye=ce&&ce.length>1,Re=ye?ce:G,Oe=Wt(Re);if(t==null||ye){c(ye?ce:Oe);return}let Ze;if(t.startIndex===0&&t.endIndex===r.sections.length-1&&Oe.length===1)Ze=Oe;else{const _e=Wt(H.getValueStrFromSections(r.sections,W));let qt=-1,Qt=-1;for(let Ke=0;Ke<_e.length;Ke+=1)qt===-1&&_e[Ke]!==Oe[Ke]&&(qt=Ke),Qt===-1&&_e[_e.length-Ke-1]!==Oe[Oe.length-Ke-1]&&(Qt=Ke);const ht=r.sections[t.startIndex];if(qt<ht.start||_e.length-Qt-1>ht.end)return;const Gt=Oe.length-_e.length+ht.end-Wt(ht.endSeparator||"").length;Ze=Oe.slice(ht.start+Wt(ht.startSeparator||"").length,Gt)}if(Ze.length===0){ku()?d(Re):(K(),a());return}q({keyPressed:Ze,sectionIndex:t.startIndex})}),Z=J(z=>{switch(y==null||y(z),!0){case(z.key==="a"&&(z.ctrlKey||z.metaKey)):{z.preventDefault(),s("all");break}case z.key==="ArrowRight":{if(z.preventDefault(),t==null)s(V.startIndex);else if(t.startIndex!==t.endIndex)s(t.endIndex);else{const G=V.neighbors[t.startIndex].rightIndex;G!==null&&s(G)}break}case z.key==="ArrowLeft":{if(z.preventDefault(),t==null)s(V.endIndex);else if(t.startIndex!==t.endIndex)s(t.startIndex);else{const G=V.neighbors[t.startIndex].leftIndex;G!==null&&s(G)}break}case z.key==="Delete":{if(z.preventDefault(),p)break;t==null||t.startIndex===0&&t.endIndex===r.sections.length-1?i():a(),K();break}case["ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(z.key):{if(z.preventDefault(),p||t==null)break;const G=r.sections[t.startIndex],ce=H.getActiveDateManager(e,r,G),ye=wu(e,x,G,z.key,u,ce.date,{minutesStep:w});l({activeSection:G,newSectionValue:ye,shouldGoToNextSection:!1});break}}});Ht(()=>{if(!B.current)return;if(t==null){B.current.scrollLeft&&(B.current.scrollLeft=0);return}const z=r.sections[t.startIndex],G=r.sections[t.endIndex];let ce=z.startInInput,ye=G.endInInput;if(t.shouldSelectBoundarySelectors&&(ce-=z.startSeparator.length,ye+=G.endSeparator.length),ce!==B.current.selectionStart||ye!==B.current.selectionEnd){const Re=B.current.scrollTop;B.current===An(document)&&B.current.setSelectionRange(ce,ye),B.current.scrollTop=Re}});const re=Yo(C({},v,{value:r.value,timezone:x}),k,U.isSameError,U.defaultErrorState),$=b.useMemo(()=>A!==void 0?A:U.hasError(re),[U,re,A]);b.useEffect(()=>{!$&&!t&&K()},[r.referenceValue,t,$]),b.useEffect(()=>(B.current&&B.current===document.activeElement&&s("all"),()=>window.clearTimeout(X.current)),[]),b.useEffect(()=>{r.tempValueStrAndroid!=null&&t!=null&&(K(),a())},[r.tempValueStrAndroid]);const ie=b.useMemo(()=>{var z;return(z=r.tempValueStrAndroid)!=null?z:H.getValueStrFromSections(r.sections,W)},[r.sections,H,r.tempValueStrAndroid,W]),ke=b.useMemo(()=>t==null||r.sections[t.startIndex].contentType==="letter"?"text":"numeric",[t,r.sections]),xe=B.current&&B.current===An(document),ut=U.areValuesEqual(e,r.value,U.emptyValue),ee=!xe&&ut;b.useImperativeHandle(m,()=>({getSections:()=>r.sections,getActiveSectionIndex:()=>{var z,G,ce;const ye=(z=B.current.selectionStart)!=null?z:0,Re=(G=B.current.selectionEnd)!=null?G:0,Oe=!!((ce=B.current)!=null&&ce.readOnly);if(ye===0&&Re===0||Oe)return null;const Ze=ye<=r.sections[0].startInInput?1:r.sections.findIndex(_e=>_e.startInInput-_e.startSeparator.length>ye);return Ze===-1?r.sections.length-1:Ze-1},setSelectedSections:z=>s(z)}));const ae=J((z,...G)=>{var ce;z.preventDefault(),F==null||F(z,...G),i(),B==null||(ce=B.current)==null||ce.focus(),s(0)});return C({placeholder:g,autoComplete:"off",disabled:!!L},P,{value:ee?"":ie,inputMode:ke,readOnly:p,onClick:te,onFocus:_,onBlur:oe,onPaste:he,onChange:ge,onKeyDown:Z,onMouseUp:fe,onClear:ae,error:$,ref:Q,clearable:!!(T&&!ut&&!p&&!L)})},kh=({open:n,onOpen:e,onClose:r})=>{const t=b.useRef(typeof n=="boolean").current,[s,i]=b.useState(!1);b.useEffect(()=>{if(t){if(typeof n!="boolean")throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");i(n)}},[t,n]);const a=b.useCallback(l=>{t||i(l),l&&e&&e(),!l&&r&&r()},[t,e,r]);return{isOpen:s,setIsOpen:a}},Eh=n=>{const{action:e,hasChanged:r,dateState:t,isControlled:s}=n,i=!s&&!t.hasBeenModifiedSinceMount;return e.name==="setValueFromField"?!0:e.name==="setValueFromAction"?i&&["accept","today","clear"].includes(e.pickerAction)?!0:r(t.lastPublishedValue):e.name==="setValueFromView"&&e.selectionState!=="shallow"||e.name==="setValueFromShortcut"?i?!0:r(t.lastPublishedValue):!1},Th=n=>{const{action:e,hasChanged:r,dateState:t,isControlled:s,closeOnSelect:i}=n,a=!s&&!t.hasBeenModifiedSinceMount;return e.name==="setValueFromAction"?a&&["accept","today","clear"].includes(e.pickerAction)?!0:r(t.lastCommittedValue):e.name==="setValueFromView"&&e.selectionState==="finish"&&i?a?!0:r(t.lastCommittedValue):e.name==="setValueFromShortcut"?e.changeImportance==="accept"&&r(t.lastCommittedValue):!1},Ih=n=>{const{action:e,closeOnSelect:r}=n;return e.name==="setValueFromAction"?!0:e.name==="setValueFromView"?e.selectionState==="finish"&&r:e.name==="setValueFromShortcut"?e.changeImportance==="accept":!1},Rh=({props:n,valueManager:e,valueType:r,wrapperVariant:t,validator:s})=>{const{onAccept:i,onChange:a,value:l,defaultValue:c,closeOnSelect:d=t==="desktop",selectedSections:u,onSelectedSectionsChange:g,timezone:x}=n,{current:f}=b.useRef(c),{current:v}=b.useRef(l!==void 0),p=me(),m=Rt(),[w,h]=gt({controlled:u,default:null,name:"usePickerValue",state:"selectedSections"}),{isOpen:y,setIsOpen:S}=kh(n),[D,E]=b.useState(()=>{let _;return l!==void 0?_=l:f!==void 0?_=f:_=e.emptyValue,{draft:_,lastPublishedValue:_,lastCommittedValue:_,lastControlledValue:l,hasBeenModifiedSinceMount:!1}}),{timezone:I,handleValueChange:A}=Gr({timezone:x,value:l,defaultValue:f,onChange:a,valueManager:e});Yo(C({},n,{value:D.draft,timezone:I}),s,e.isSameError,e.defaultErrorState);const T=J(_=>{const oe={action:_,dateState:D,hasChanged:re=>!e.areValuesEqual(p,_.value,re),isControlled:v,closeOnSelect:d},he=Eh(oe),ge=Th(oe),Z=Ih(oe);if(E(re=>C({},re,{draft:_.value,lastPublishedValue:he?_.value:re.lastPublishedValue,lastCommittedValue:ge?_.value:re.lastCommittedValue,hasBeenModifiedSinceMount:!0})),he){const $={validationError:_.name==="setValueFromField"?_.context.validationError:s({adapter:m,value:_.value,props:C({},n,{value:_.value,timezone:I})})};_.name==="setValueFromShortcut"&&_.shortcut!=null&&($.shortcut=_.shortcut),A(_.value,$)}ge&&i&&i(_.value),Z&&S(!1)});if(l!==void 0&&(D.lastControlledValue===void 0||!e.areValuesEqual(p,D.lastControlledValue,l))){const _=e.areValuesEqual(p,D.draft,l);E(oe=>C({},oe,{lastControlledValue:l},_?{}:{lastCommittedValue:l,lastPublishedValue:l,draft:l,hasBeenModifiedSinceMount:!0}))}const F=J(()=>{T({value:e.emptyValue,name:"setValueFromAction",pickerAction:"clear"})}),L=J(()=>{T({value:D.lastPublishedValue,name:"setValueFromAction",pickerAction:"accept"})}),H=J(()=>{T({value:D.lastPublishedValue,name:"setValueFromAction",pickerAction:"dismiss"})}),U=J(()=>{T({value:D.lastCommittedValue,name:"setValueFromAction",pickerAction:"cancel"})}),k=J(()=>{T({value:e.getTodayValue(p,I,r),name:"setValueFromAction",pickerAction:"today"})}),P=J(()=>S(!0)),q=J(()=>S(!1)),K=J((_,oe="partial")=>T({name:"setValueFromView",value:_,selectionState:oe})),B=J((_,oe,he)=>T({name:"setValueFromShortcut",value:_,changeImportance:oe??"accept",shortcut:he})),Q=J((_,oe)=>T({name:"setValueFromField",value:_,context:oe})),X=J(_=>{h(_),g==null||g(_)}),R={onClear:F,onAccept:L,onDismiss:H,onCancel:U,onSetToday:k,onOpen:P,onClose:q},W={value:D.draft,onChange:Q,selectedSections:w,onSelectedSectionsChange:X},V=b.useMemo(()=>e.cleanValue(p,D.draft),[p,e,D.draft]),Y={value:V,onChange:K,onClose:q,open:y,onSelectedSectionsChange:X},fe=C({},R,{value:V,onChange:K,onSelectShortcut:B,isValid:_=>{const oe=s({adapter:m,value:_,props:C({},n,{value:_,timezone:I})});return!e.hasError(oe)}});return{open:y,fieldProps:W,viewProps:Y,layoutProps:fe,actions:R}};function qo({onChange:n,onViewChange:e,openTo:r,view:t,views:s,autoFocus:i,focusedView:a,onFocusedViewChange:l}){var c,d;const u=b.useRef(r),g=b.useRef(s),x=b.useRef(s.includes(r)?r:s[0]),[f,v]=gt({name:"useViews",state:"view",controlled:t,default:x.current}),p=b.useRef(i?f:null),[m,w]=gt({name:"useViews",state:"focusedView",controlled:a,default:p.current});b.useEffect(()=>{(u.current&&u.current!==r||g.current&&g.current.some(T=>!s.includes(T)))&&(v(s.includes(r)?r:s[0]),g.current=s,u.current=r)},[r,v,f,s]);const h=s.indexOf(f),y=(c=s[h-1])!=null?c:null,S=(d=s[h+1])!=null?d:null,D=J((T,F)=>{w(F?T:L=>T===L?null:L),l==null||l(T,F)}),E=J(T=>{D(T,!0),T!==f&&(v(T),e&&e(T))}),I=J(()=>{S&&E(S)}),A=J((T,F,L)=>{const H=F==="finish",U=L?s.indexOf(L)<s.length-1:!!S;if(n(T,H&&U?"partial":F,L),L&&L!==f){const P=s[s.indexOf(L)+1];P&&E(P)}else H&&I()});return{view:f,setView:E,focusedView:m,setFocusedView:D,nextView:S,previousView:y,defaultView:s.includes(r)?r:s[0],goToNextView:I,setValueAndGoToNextView:A}}const Oh=["className","sx"],Ah=({props:n,propsFromPickerValue:e,additionalViewProps:r,inputRef:t,autoFocusView:s})=>{const{onChange:i,open:a,onSelectedSectionsChange:l,onClose:c}=e,{view:d,views:u,openTo:g,onViewChange:x,viewRenderers:f,timezone:v}=n,p=ue(n,Oh),{view:m,setView:w,defaultView:h,focusedView:y,setFocusedView:S,setValueAndGoToNextView:D}=qo({view:d,views:u,openTo:g,onChange:i,onViewChange:x,autoFocus:s}),{hasUIView:E,viewModeLookup:I}=b.useMemo(()=>u.reduce((k,P)=>{let q;return f[P]!=null?q="UI":q="field",k.viewModeLookup[P]=q,q==="UI"&&(k.hasUIView=!0),k},{hasUIView:!1,viewModeLookup:{}}),[f,u]),A=b.useMemo(()=>u.reduce((k,P)=>f[P]!=null&&gu(P)?k+1:k,0),[f,u]),T=I[m],F=J(()=>T==="UI"),[L,H]=b.useState(T==="UI"?m:null);return L!==m&&I[m]==="UI"&&H(m),Ht(()=>{T==="field"&&a&&(c(),setTimeout(()=>{t==null||t.current.focus(),l(m)}))},[m]),Ht(()=>{if(!a)return;let k=m;T==="field"&&L!=null&&(k=L),k!==h&&I[k]==="UI"&&I[h]==="UI"&&(k=h),k!==m&&w(k),S(k,!0)},[a]),{hasUIView:E,shouldRestoreFocus:F,layoutProps:{views:u,view:L,onViewChange:w},renderCurrentView:()=>{if(L==null)return null;const k=f[L];return k==null?null:k(C({},p,r,e,{views:u,timezone:v,onChange:D,view:L,onViewChange:w,focusedView:y,onFocusedViewChange:S,showViewSwitcher:A>1,timeViewsCount:A}))}}};function Ls(){return typeof window>"u"?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?Math.abs(window.screen.orientation.angle)===90?"landscape":"portrait":window.orientation&&Math.abs(Number(window.orientation))===90?"landscape":"portrait"}const Fh=(n,e)=>{const[r,t]=b.useState(Ls);return Ht(()=>{const i=()=>{t(Ls())};return window.addEventListener("orientationchange",i),()=>{window.removeEventListener("orientationchange",i)}},[]),dh(n,["hours","minutes","seconds"])?!1:(e||r)==="landscape"},Vh=({props:n,propsFromPickerValue:e,propsFromPickerViews:r,wrapperVariant:t})=>{const{orientation:s}=n,i=Fh(r.views,s);return{layoutProps:C({},r,e,{isLandscape:i,wrapperVariant:t,disabled:n.disabled,readOnly:n.readOnly})}},Qo=({props:n,valueManager:e,valueType:r,wrapperVariant:t,inputRef:s,additionalViewProps:i,validator:a,autoFocusView:l})=>{const c=Rh({props:n,valueManager:e,valueType:r,wrapperVariant:t,validator:a}),d=Ah({props:n,inputRef:s,additionalViewProps:i,autoFocusView:l,propsFromPickerValue:c.viewProps}),u=Vh({props:n,wrapperVariant:t,propsFromPickerValue:c.layoutProps,propsFromPickerViews:d.layoutProps});return{open:c.open,actions:c.actions,fieldProps:c.fieldProps,renderCurrentView:d.renderCurrentView,hasUIView:d.hasUIView,shouldRestoreFocus:d.shouldRestoreFocus,layoutProps:u.layoutProps}};function Go(n){return Le("MuiPickersLayout",n)}const fr=Ne("MuiPickersLayout",["root","landscape","contentWrapper","toolbar","actionBar","tabs","shortcuts"]),Wh=["onAccept","onClear","onCancel","onSetToday","actions"];function Lh(n){const{onAccept:e,onClear:r,onCancel:t,onSetToday:s,actions:i}=n,a=ue(n,Wh),l=vt();if(i==null||i.length===0)return null;const c=i==null?void 0:i.map(d=>{switch(d){case"clear":return o.jsx(de,{onClick:r,children:l.clearButtonLabel},d);case"cancel":return o.jsx(de,{onClick:t,children:l.cancelButtonLabel},d);case"accept":return o.jsx(de,{onClick:e,children:l.okButtonLabel},d);case"today":return o.jsx(de,{onClick:s,children:l.todayButtonLabel},d);default:return null}});return o.jsx(Tt,C({},a,{children:c}))}const Nh=["items","changeImportance","isLandscape","onChange","isValid"],_h=["getValue"];function Hh(n){const{items:e,changeImportance:r,onChange:t,isValid:s}=n,i=ue(n,Nh);if(e==null||e.length===0)return null;const a=e.map(l=>{let{getValue:c}=l,d=ue(l,_h);const u=c({isValid:s});return{label:d.label,onClick:()=>{t(u,r,d)},disabled:!s(u)}});return o.jsx(st,C({dense:!0,sx:[{maxHeight:Qr,maxWidth:200,overflow:"auto"},...Array.isArray(i.sx)?i.sx:[i.sx]]},i,{children:a.map(l=>o.jsx(De,{children:o.jsx(He,C({},l))},l.label))}))}function zh(n){return n.view!==null}const Bh=n=>{const{classes:e,isLandscape:r}=n;return Ve({root:["root",r&&"landscape"],contentWrapper:["contentWrapper"],toolbar:["toolbar"],actionBar:["actionBar"],tabs:["tabs"],landscape:["landscape"],shortcuts:["shortcuts"]},Go,e)},$h=n=>{var e,r;const{wrapperVariant:t,onAccept:s,onClear:i,onCancel:a,onSetToday:l,view:c,views:d,onViewChange:u,value:g,onChange:x,onSelectShortcut:f,isValid:v,isLandscape:p,disabled:m,readOnly:w,children:h,components:y,componentsProps:S,slots:D,slotProps:E}=n,I=D??Bo(y),A=E??S,T=Bh(n),F=(e=I==null?void 0:I.actionBar)!=null?e:Lh,L=Ce({elementType:F,externalSlotProps:A==null?void 0:A.actionBar,additionalProps:{onAccept:s,onClear:i,onCancel:a,onSetToday:l,actions:t==="desktop"?[]:["cancel","accept"],className:T.actionBar},ownerState:C({},n,{wrapperVariant:t})}),H=o.jsx(F,C({},L)),U=I==null?void 0:I.toolbar,k=Ce({elementType:U,externalSlotProps:A==null?void 0:A.toolbar,additionalProps:{isLandscape:p,onChange:x,value:g,view:c,onViewChange:u,views:d,disabled:m,readOnly:w,className:T.toolbar},ownerState:C({},n,{wrapperVariant:t})}),P=zh(k)&&U?o.jsx(U,C({},k)):null,q=h,K=I==null?void 0:I.tabs,B=c&&K?o.jsx(K,C({view:c,onViewChange:u,className:T.tabs},A==null?void 0:A.tabs)):null,Q=(r=I==null?void 0:I.shortcuts)!=null?r:Hh,X=Ce({elementType:Q,externalSlotProps:A==null?void 0:A.shortcuts,additionalProps:{isValid:v,isLandscape:p,onChange:f,className:T.shortcuts},ownerState:{isValid:v,isLandscape:p,onChange:f,className:T.shortcuts,wrapperVariant:t}}),R=c&&Q?o.jsx(Q,C({},X)):null;return{toolbar:P,content:q,tabs:B,actionBar:H,shortcuts:R}},Uh=n=>{const{isLandscape:e,classes:r}=n;return Ve({root:["root",e&&"landscape"],contentWrapper:["contentWrapper"]},Go,r)},Ko=se("div",{name:"MuiPickersLayout",slot:"Root",overridesResolver:(n,e)=>e.root})(({theme:n,ownerState:e})=>({display:"grid",gridAutoColumns:"max-content auto max-content",gridAutoRows:"max-content auto max-content",[`& .${fr.toolbar}`]:e.isLandscape?{gridColumn:n.direction==="rtl"?3:1,gridRow:"2 / 3"}:{gridColumn:"2 / 4",gridRow:1},[`.${fr.shortcuts}`]:e.isLandscape?{gridColumn:"2 / 4",gridRow:1}:{gridColumn:n.direction==="rtl"?3:1,gridRow:"2 / 3"},[`& .${fr.actionBar}`]:{gridColumn:"1 / 4",gridRow:3}}));Ko.propTypes={as:j.elementType,ownerState:j.shape({isLandscape:j.bool.isRequired}).isRequired,sx:j.oneOfType([j.arrayOf(j.oneOfType([j.func,j.object,j.bool])),j.func,j.object])};const Yh=se("div",{name:"MuiPickersLayout",slot:"ContentWrapper",overridesResolver:(n,e)=>e.contentWrapper})({gridColumn:2,gridRow:2,display:"flex",flexDirection:"column"}),Xo=function(e){const r=Me({props:e,name:"MuiPickersLayout"}),{toolbar:t,content:s,tabs:i,actionBar:a,shortcuts:l}=$h(r),{sx:c,className:d,isLandscape:u,ref:g,wrapperVariant:x}=r,f=r,v=Uh(f);return o.jsxs(Ko,{ref:g,sx:c,className:Ie(d,v.root),ownerState:f,children:[u?l:t,u?t:l,o.jsx(Yh,{className:v.contentWrapper,children:x==="desktop"?o.jsxs(b.Fragment,{children:[s,i]}):o.jsxs(b.Fragment,{children:[i,s]})}),a]})};function qh(n,{disableFuture:e,maxDate:r,timezone:t}){const s=me();return b.useMemo(()=>{const i=s.dateWithTimezone(void 0,t),a=s.startOfMonth(e&&s.isBefore(i,r)?i:r);return!s.isAfter(a,n)},[e,r,n,s,t])}function Qh(n,{disablePast:e,minDate:r,timezone:t}){const s=me();return b.useMemo(()=>{const i=s.dateWithTimezone(void 0,t),a=s.startOfMonth(e&&s.isAfter(i,r)?i:r);return!s.isBefore(a,n)},[e,r,n,s,t])}const Jo=["disablePast","disableFuture","minDate","maxDate","shouldDisableDate","shouldDisableMonth","shouldDisableYear"],Gh=["disablePast","disableFuture","minTime","maxTime","shouldDisableClock","shouldDisableTime","minutesStep","ampm","disableIgnoringDatePartForTimeValidation"],Kh=["minDateTime","maxDateTime"],Xh=[...Jo,...Gh,...Kh],Zo=n=>Xh.reduce((e,r)=>(n.hasOwnProperty(r)&&(e[r]=n[r]),e),{}),Jh=["value","defaultValue","referenceDate","format","formatDensity","onChange","timezone","readOnly","onError","shouldRespectLeadingZeros","selectedSections","onSelectedSectionsChange","unstableFieldRef"],Zh=(n,e)=>{const r=C({},n),t={},s=i=>{r.hasOwnProperty(i)&&(t[i]=r[i],delete r[i])};return Jh.forEach(s),Jo.forEach(s),{forwardedProps:r,internalProps:t}},Qn=({props:n,value:e,adapter:r})=>{if(e===null)return null;const{shouldDisableDate:t,shouldDisableMonth:s,shouldDisableYear:i,disablePast:a,disableFuture:l,timezone:c}=n,d=r.utils.dateWithTimezone(void 0,c),u=Ge(r.utils,n.minDate,r.defaultDates.minDate),g=Ge(r.utils,n.maxDate,r.defaultDates.maxDate);switch(!0){case!r.utils.isValid(e):return"invalidDate";case!!(t&&t(e)):return"shouldDisableDate";case!!(s&&s(e)):return"shouldDisableMonth";case!!(i&&i(e)):return"shouldDisableYear";case!!(l&&r.utils.isAfterDay(e,d)):return"disableFuture";case!!(a&&r.utils.isBeforeDay(e,d)):return"disablePast";case!!(u&&r.utils.isBeforeDay(e,u)):return"minDate";case!!(g&&r.utils.isAfterDay(e,g)):return"maxDate";default:return null}};function ef(n){return Le("MuiPickersDay",n)}const wt=Ne("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]),tf=["autoFocus","className","day","disabled","disableHighlightToday","disableMargin","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","outsideCurrentMonth","selected","showDaysOutsideCurrentMonth","children","today","isFirstVisibleCell","isLastVisibleCell"],nf=n=>{const{selected:e,disableMargin:r,disableHighlightToday:t,today:s,disabled:i,outsideCurrentMonth:a,showDaysOutsideCurrentMonth:l,classes:c}=n,d=a&&!l;return Ve({root:["root",e&&!d&&"selected",i&&"disabled",!r&&"dayWithMargin",!t&&s&&"today",a&&l&&"dayOutsideMonth",d&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},ef,c)},ei=({theme:n,ownerState:e})=>C({},n.typography.caption,{width:un,height:un,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:n.transitions.create("background-color",{duration:n.transitions.duration.short}),color:(n.vars||n).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / ${n.vars.palette.action.hoverOpacity})`:zt(n.palette.primary.main,n.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / ${n.vars.palette.action.focusOpacity})`:zt(n.palette.primary.main,n.palette.action.focusOpacity),[`&.${wt.selected}`]:{willChange:"background-color",backgroundColor:(n.vars||n).palette.primary.dark}},[`&.${wt.selected}`]:{color:(n.vars||n).palette.primary.contrastText,backgroundColor:(n.vars||n).palette.primary.main,fontWeight:n.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(n.vars||n).palette.primary.dark}},[`&.${wt.disabled}:not(.${wt.selected})`]:{color:(n.vars||n).palette.text.disabled},[`&.${wt.disabled}&.${wt.selected}`]:{opacity:.6}},!e.disableMargin&&{margin:`0 ${Yn}px`},e.outsideCurrentMonth&&e.showDaysOutsideCurrentMonth&&{color:(n.vars||n).palette.text.secondary},!e.disableHighlightToday&&e.today&&{[`&:not(.${wt.selected})`]:{border:`1px solid ${(n.vars||n).palette.text.secondary}`}}),ti=(n,e)=>{const{ownerState:r}=n;return[e.root,!r.disableMargin&&e.dayWithMargin,!r.disableHighlightToday&&r.today&&e.today,!r.outsideCurrentMonth&&r.showDaysOutsideCurrentMonth&&e.dayOutsideMonth,r.outsideCurrentMonth&&!r.showDaysOutsideCurrentMonth&&e.hiddenDaySpacingFiller]},rf=se(Wi,{name:"MuiPickersDay",slot:"Root",overridesResolver:ti})(ei),sf=se("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:ti})(({theme:n,ownerState:e})=>C({},ei({theme:n,ownerState:e}),{opacity:0,pointerEvents:"none"})),rn=()=>{},of=b.forwardRef(function(e,r){const t=Me({props:e,name:"MuiPickersDay"}),{autoFocus:s=!1,className:i,day:a,disabled:l=!1,disableHighlightToday:c=!1,disableMargin:d=!1,isAnimating:u,onClick:g,onDaySelect:x,onFocus:f=rn,onBlur:v=rn,onKeyDown:p=rn,onMouseDown:m=rn,onMouseEnter:w=rn,outsideCurrentMonth:h,selected:y=!1,showDaysOutsideCurrentMonth:S=!1,children:D,today:E=!1}=t,I=ue(t,tf),A=C({},t,{autoFocus:s,disabled:l,disableHighlightToday:c,disableMargin:d,selected:y,showDaysOutsideCurrentMonth:S,today:E}),T=nf(A),F=me(),L=b.useRef(null),H=Pt(L,r);Ht(()=>{s&&!l&&!u&&!h&&L.current.focus()},[s,l,u,h]);const U=P=>{m(P),h&&P.preventDefault()},k=P=>{l||x(a),h&&P.currentTarget.focus(),g&&g(P)};return h&&!S?o.jsx(sf,{className:Ie(T.root,T.hiddenDaySpacingFiller,i),ownerState:A,role:I.role}):o.jsx(rf,C({className:Ie(T.root,i),ref:H,centerRipple:!0,disabled:l,tabIndex:y?0:-1,onKeyDown:P=>p(P,a),onFocus:P=>f(P,a),onBlur:P=>v(P,a),onMouseEnter:P=>w(P,a),onClick:k,onMouseDown:U},I,{ownerState:A,children:D||F.format(a,"dayOfMonth")}))}),af=b.memo(of),lf=n=>Le("MuiPickersSlideTransition",n),Be=Ne("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),cf=["children","className","reduceAnimations","slideDirection","transKey","classes"],df=n=>{const{classes:e,slideDirection:r}=n,t={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:[`slideEnter-${r}`],exitActive:[`slideExitActiveLeft-${r}`]};return Ve(t,lf,e)},uf=se(Qs,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(n,e)=>[e.root,{[`.${Be["slideEnter-left"]}`]:e["slideEnter-left"]},{[`.${Be["slideEnter-right"]}`]:e["slideEnter-right"]},{[`.${Be.slideEnterActive}`]:e.slideEnterActive},{[`.${Be.slideExit}`]:e.slideExit},{[`.${Be["slideExitActiveLeft-left"]}`]:e["slideExitActiveLeft-left"]},{[`.${Be["slideExitActiveLeft-right"]}`]:e["slideExitActiveLeft-right"]}]})(({theme:n})=>{const e=n.transitions.create("transform",{duration:n.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${Be["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${Be["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${Be.slideEnterActive}`]:{transform:"translate(0%)",transition:e},[`& .${Be.slideExit}`]:{transform:"translate(0%)"},[`& .${Be["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:e,zIndex:0},[`& .${Be["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:e,zIndex:0}}});function hf(n){const e=Me({props:n,name:"MuiPickersSlideTransition"}),{children:r,className:t,reduceAnimations:s,transKey:i}=e,a=ue(e,cf),l=df(e),c=Yt();if(s)return o.jsx("div",{className:Ie(l.root,t),children:r});const d={exit:l.exit,enterActive:l.enterActive,enter:l.enter,exitActive:l.exitActive};return o.jsx(uf,{className:Ie(l.root,t),childFactory:u=>b.cloneElement(u,{classNames:d}),role:"presentation",children:o.jsx(Li,C({mountOnEnter:!0,unmountOnExit:!0,timeout:c.transitions.duration.complex,classNames:d},a,{children:r}),i)})}const ni=({shouldDisableDate:n,shouldDisableMonth:e,shouldDisableYear:r,minDate:t,maxDate:s,disableFuture:i,disablePast:a,timezone:l})=>{const c=Rt();return b.useCallback(d=>Qn({adapter:c,value:d,props:{shouldDisableDate:n,shouldDisableMonth:e,shouldDisableYear:r,minDate:t,maxDate:s,disableFuture:i,disablePast:a,timezone:l}})!==null,[c,n,e,r,t,s,i,a,l])},ff=n=>Le("MuiDayCalendar",n);Ne("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]);const pf=["parentProps","day","focusableDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"],mf=["ownerState"],gf=n=>{const{classes:e}=n;return Ve({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},ff,e)},ri=(un+Yn*2)*6,xf=se("div",{name:"MuiDayCalendar",slot:"Root",overridesResolver:(n,e)=>e.root})({}),yf=se("div",{name:"MuiDayCalendar",slot:"Header",overridesResolver:(n,e)=>e.header})({display:"flex",justifyContent:"center",alignItems:"center"}),vf=se(O,{name:"MuiDayCalendar",slot:"WeekDayLabel",overridesResolver:(n,e)=>e.weekDayLabel})(({theme:n})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(n.vars||n).palette.text.secondary})),bf=se(O,{name:"MuiDayCalendar",slot:"WeekNumberLabel",overridesResolver:(n,e)=>e.weekNumberLabel})(({theme:n})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:n.palette.text.disabled})),wf=se(O,{name:"MuiDayCalendar",slot:"WeekNumber",overridesResolver:(n,e)=>e.weekNumber})(({theme:n})=>C({},n.typography.caption,{width:un,height:un,padding:0,margin:`0 ${Yn}px`,color:n.palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})),Sf=se("div",{name:"MuiDayCalendar",slot:"LoadingContainer",overridesResolver:(n,e)=>e.loadingContainer})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:ri}),Df=se(hf,{name:"MuiDayCalendar",slot:"SlideTransition",overridesResolver:(n,e)=>e.slideTransition})({minHeight:ri}),Cf=se("div",{name:"MuiDayCalendar",slot:"MonthContainer",overridesResolver:(n,e)=>e.monthContainer})({overflow:"hidden"}),jf=se("div",{name:"MuiDayCalendar",slot:"WeekContainer",overridesResolver:(n,e)=>e.weekContainer})({margin:`${Yn}px 0`,display:"flex",justifyContent:"center"});function Pf(n){var e,r,t;let{parentProps:s,day:i,focusableDay:a,selectedDays:l,isDateDisabled:c,currentMonthNumber:d,isViewFocused:u}=n,g=ue(n,pf);const{disabled:x,disableHighlightToday:f,isMonthSwitchingAnimating:v,showDaysOutsideCurrentMonth:p,components:m,componentsProps:w,slots:h,slotProps:y,timezone:S}=s,D=me(),E=Un(S),I=a!==null&&D.isSameDay(i,a),A=l.some(K=>D.isSameDay(K,i)),T=D.isSameDay(i,E),F=(e=(r=h==null?void 0:h.day)!=null?r:m==null?void 0:m.Day)!=null?e:af,L=Ce({elementType:F,externalSlotProps:(t=y==null?void 0:y.day)!=null?t:w==null?void 0:w.day,additionalProps:C({disableHighlightToday:f,showDaysOutsideCurrentMonth:p,role:"gridcell",isAnimating:v,"data-timestamp":D.toJsDate(i).valueOf()},g),ownerState:C({},s,{day:i,selected:A})}),H=ue(L,mf),U=b.useMemo(()=>x||c(i),[x,c,i]),k=b.useMemo(()=>D.getMonth(i)!==d,[D,i,d]),P=b.useMemo(()=>{const K=D.startOfMonth(D.setMonth(i,d));return p?D.isSameDay(i,D.startOfWeek(K)):D.isSameDay(i,K)},[d,i,p,D]),q=b.useMemo(()=>{const K=D.endOfMonth(D.setMonth(i,d));return p?D.isSameDay(i,D.endOfWeek(K)):D.isSameDay(i,K)},[d,i,p,D]);return o.jsx(F,C({},H,{day:i,disabled:U,autoFocus:u&&I,today:T,outsideCurrentMonth:k,isFirstVisibleCell:P,isLastVisibleCell:q,selected:A,tabIndex:I?0:-1,"aria-selected":A,"aria-current":T?"date":void 0}))}function Mf(n){const e=Me({props:n,name:"MuiDayCalendar"}),{onFocusedDayChange:r,className:t,currentMonth:s,selectedDays:i,focusedDay:a,loading:l,onSelectedDaysChange:c,onMonthSwitchingAnimationEnd:d,readOnly:u,reduceAnimations:g,renderLoading:x=()=>o.jsx("span",{children:"..."}),slideDirection:f,TransitionProps:v,disablePast:p,disableFuture:m,minDate:w,maxDate:h,shouldDisableDate:y,shouldDisableMonth:S,shouldDisableYear:D,dayOfWeekFormatter:E,hasFocus:I,onFocusedViewChange:A,gridLabelId:T,displayWeekNumber:F,fixedWeekNumber:L,autoFocus:H,timezone:U}=e,k=Un(U),P=me(),q=gf(e),B=Yt().direction==="rtl",Q=E||((ee,ae)=>P.format(ae,"weekdayShort").charAt(0).toUpperCase()),X=ni({shouldDisableDate:y,shouldDisableMonth:S,shouldDisableYear:D,minDate:w,maxDate:h,disablePast:p,disableFuture:m,timezone:U}),R=vt(),[W,V]=gt({name:"DayCalendar",state:"hasFocus",controlled:I,default:H??!1}),[Y,te]=b.useState(()=>a||k),fe=J(ee=>{u||c(ee)}),_=ee=>{X(ee)||(r(ee),te(ee),A==null||A(!0),V(!0))},oe=J((ee,ae)=>{switch(ee.key){case"ArrowUp":_(P.addDays(ae,-7)),ee.preventDefault();break;case"ArrowDown":_(P.addDays(ae,7)),ee.preventDefault();break;case"ArrowLeft":{const z=P.addDays(ae,B?1:-1),G=P.addMonths(ae,B?1:-1),ce=sn({utils:P,date:z,minDate:B?z:P.startOfMonth(G),maxDate:B?P.endOfMonth(G):z,isDateDisabled:X,timezone:U});_(ce||z),ee.preventDefault();break}case"ArrowRight":{const z=P.addDays(ae,B?-1:1),G=P.addMonths(ae,B?-1:1),ce=sn({utils:P,date:z,minDate:B?P.startOfMonth(G):z,maxDate:B?z:P.endOfMonth(G),isDateDisabled:X,timezone:U});_(ce||z),ee.preventDefault();break}case"Home":_(P.startOfWeek(ae)),ee.preventDefault();break;case"End":_(P.endOfWeek(ae)),ee.preventDefault();break;case"PageUp":_(P.addMonths(ae,1)),ee.preventDefault();break;case"PageDown":_(P.addMonths(ae,-1)),ee.preventDefault();break}}),he=J((ee,ae)=>_(ae)),ge=J((ee,ae)=>{W&&P.isSameDay(Y,ae)&&(A==null||A(!1))}),Z=P.getMonth(s),re=b.useMemo(()=>i.filter(ee=>!!ee).map(ee=>P.startOfDay(ee)),[P,i]),$=Z,ie=b.useMemo(()=>b.createRef(),[$]),ke=P.startOfWeek(k),xe=b.useMemo(()=>{const ee=P.startOfMonth(s),ae=P.endOfMonth(s);return X(Y)||P.isAfterDay(Y,ae)||P.isBeforeDay(Y,ee)?sn({utils:P,date:Y,minDate:ee,maxDate:ae,disablePast:p,disableFuture:m,isDateDisabled:X,timezone:U}):Y},[s,m,p,Y,X,P,U]),ut=b.useMemo(()=>{const ee=P.setTimezone(s,U),ae=P.getWeekArray(ee);let z=P.addMonths(ee,1);for(;L&&ae.length<L;){const G=P.getWeekArray(z),ce=P.isSameDay(ae[ae.length-1][0],G[0][0]);G.slice(ce?1:0).forEach(ye=>{ae.length<L&&ae.push(ye)}),z=P.addMonths(z,1)}return ae},[s,L,P,U]);return o.jsxs(xf,{role:"grid","aria-labelledby":T,className:q.root,children:[o.jsxs(yf,{role:"row",className:q.header,children:[F&&o.jsx(bf,{variant:"caption",role:"columnheader","aria-label":R.calendarWeekNumberHeaderLabel,className:q.weekNumberLabel,children:R.calendarWeekNumberHeaderText}),pu(P,k).map((ee,ae)=>{var z;const G=P.format(ee,"weekdayShort");return o.jsx(vf,{variant:"caption",role:"columnheader","aria-label":P.format(P.addDays(ke,ae),"weekday"),className:q.weekDayLabel,children:(z=Q==null?void 0:Q(G,ee))!=null?z:G},G+ae.toString())})]}),l?o.jsx(Sf,{className:q.loadingContainer,children:x()}):o.jsx(Df,C({transKey:$,onExited:d,reduceAnimations:g,slideDirection:f,className:Ie(t,q.slideTransition)},v,{nodeRef:ie,children:o.jsx(Cf,{ref:ie,role:"rowgroup",className:q.monthContainer,children:ut.map((ee,ae)=>o.jsxs(jf,{role:"row",className:q.weekContainer,"aria-rowindex":ae+1,children:[F&&o.jsx(wf,{className:q.weekNumber,role:"rowheader","aria-label":R.calendarWeekNumberAriaLabelText(P.getWeekNumber(ee[0])),children:R.calendarWeekNumberText(P.getWeekNumber(ee[0]))}),ee.map((z,G)=>o.jsx(Pf,{parentProps:e,day:z,selectedDays:re,focusableDay:xe,onKeyDown:oe,onFocus:he,onBlur:ge,onDaySelect:fe,isDateDisabled:X,currentMonthNumber:Z,isViewFocused:W,"aria-colindex":G+1},z.toString()))]},`week-${ee[0]}`))})}))]})}const kf=(n,e,r)=>(t,s)=>{switch(s.type){case"changeMonth":return C({},t,{slideDirection:s.direction,currentMonth:s.newMonth,isMonthSwitchingAnimating:!n});case"finishMonthSwitchingAnimation":return C({},t,{isMonthSwitchingAnimating:!1});case"changeFocusedDay":{if(t.focusedDay!=null&&s.focusedDay!=null&&r.isSameDay(s.focusedDay,t.focusedDay))return t;const i=s.focusedDay!=null&&!e&&!r.isSameMonth(t.currentMonth,s.focusedDay);return C({},t,{focusedDay:s.focusedDay,isMonthSwitchingAnimating:i&&!n&&!s.withoutMonthSwitchingAnimation,currentMonth:i?r.startOfMonth(s.focusedDay):t.currentMonth,slideDirection:s.focusedDay!=null&&r.isAfterDay(s.focusedDay,t.currentMonth)?"left":"right"})}default:throw new Error("missing support")}},Ef=n=>{const{value:e,referenceDate:r,defaultCalendarMonth:t,disableFuture:s,disablePast:i,disableSwitchToMonthOnDayFocus:a=!1,maxDate:l,minDate:c,onMonthChange:d,reduceAnimations:u,shouldDisableDate:g,timezone:x}=n,f=me(),v=b.useRef(kf(!!u,a,f)).current,p=b.useMemo(()=>{let I=null;return r?I=r:t&&(I=f.startOfMonth(t)),dt.getInitialReferenceValue({value:e,utils:f,timezone:x,props:n,referenceDate:I,granularity:nt.day})},[]),[m,w]=b.useReducer(v,{isMonthSwitchingAnimating:!1,focusedDay:p,currentMonth:f.startOfMonth(p),slideDirection:"left"}),h=b.useCallback(I=>{w(C({type:"changeMonth"},I)),d&&d(I.newMonth)},[d]),y=b.useCallback(I=>{const A=I;f.isSameMonth(A,m.currentMonth)||h({newMonth:f.startOfMonth(A),direction:f.isAfterDay(A,m.currentMonth)?"left":"right"})},[m.currentMonth,h,f]),S=ni({shouldDisableDate:g,minDate:c,maxDate:l,disableFuture:s,disablePast:i,timezone:x}),D=b.useCallback(()=>{w({type:"finishMonthSwitchingAnimation"})},[]),E=J((I,A)=>{S(I)||w({type:"changeFocusedDay",focusedDay:I,withoutMonthSwitchingAnimation:A})});return{referenceDate:p,calendarState:m,changeMonth:y,changeFocusedDay:E,isDateDisabled:S,onMonthSwitchingAnimationEnd:D,handleChangeMonth:h}},Tf=["props","getOpenDialogAriaText"],If=["ownerState"],Rf=["ownerState"],Of=n=>{var e,r,t,s,i;let{props:a,getOpenDialogAriaText:l}=n,c=ue(n,Tf);const{slots:d,slotProps:u,className:g,sx:x,format:f,formatDensity:v,timezone:p,name:m,label:w,inputRef:h,readOnly:y,disabled:S,autoFocus:D,localeText:E,reduceAnimations:I}=a,A=me(),T=b.useRef(null),F=b.useRef(null),L=Ir(),H=(e=u==null||(r=u.toolbar)==null?void 0:r.hidden)!=null?e:!1,{open:U,actions:k,hasUIView:P,layoutProps:q,renderCurrentView:K,shouldRestoreFocus:B,fieldProps:Q}=Qo(C({},c,{props:a,inputRef:T,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"desktop"})),X=(t=d.inputAdornment)!=null?t:Tr,R=Ce({elementType:X,externalSlotProps:u==null?void 0:u.inputAdornment,additionalProps:{position:"end"},ownerState:a}),W=ue(R,If),V=(s=d.openPickerButton)!=null?s:be,Y=Ce({elementType:V,externalSlotProps:u==null?void 0:u.openPickerButton,additionalProps:{disabled:S||y,onClick:U?k.onClose:k.onOpen,"aria-label":l(Q.value,A),edge:W.position},ownerState:a}),te=ue(Y,Rf),fe=d.openPickerIcon,_=d.field,oe=Ce({elementType:_,externalSlotProps:u==null?void 0:u.field,additionalProps:C({},Q,H&&{id:L},{readOnly:y,disabled:S,className:g,sx:x,format:f,formatDensity:v,timezone:p,label:w,name:m,autoFocus:D&&!a.open,focused:U?!0:void 0}),ownerState:a});P&&(oe.InputProps=C({},oe.InputProps,{ref:F},!a.disableOpenPicker&&{[`${W.position}Adornment`]:o.jsx(X,C({},W,{children:o.jsx(V,C({},te,{children:o.jsx(fe,C({},u==null?void 0:u.openPickerIcon))}))}))}));const he=C({textField:d.textField,clearIcon:d.clearIcon,clearButton:d.clearButton},oe.slots),ge=(i=d.layout)!=null?i:Xo,Z=Pt(T,oe.inputRef,h);let re=L;H&&(w?re=`${L}-label`:re=void 0);const $=C({},u,{toolbar:C({},u==null?void 0:u.toolbar,{titleId:L}),popper:C({"aria-labelledby":re},u==null?void 0:u.popper)});return{renderPicker:()=>o.jsxs(qr,{localeText:E,children:[o.jsx(_,C({},oe,{slots:he,slotProps:$,inputRef:Z})),o.jsx(Sh,C({role:"dialog",placement:"bottom-start",anchorEl:F.current},k,{open:U,slots:d,slotProps:$,shouldRestoreFocus:B,reduceAnimations:I,children:o.jsx(ge,C({},q,$==null?void 0:$.layout,{slots:d,slotProps:$,children:K()}))}))]})}},Af=n=>{var e,r,t;const s=me(),i=xn();return C({},n,{disablePast:(e=n.disablePast)!=null?e:!1,disableFuture:(r=n.disableFuture)!=null?r:!1,format:(t=n.format)!=null?t:s.formats.keyboardDate,minDate:Ge(s,n.minDate,i.minDate),maxDate:Ge(s,n.maxDate,i.maxDate)})},Ff=({props:n,inputRef:e})=>{const r=Af(n),{forwardedProps:t,internalProps:s}=Zh(r);return Mh({inputRef:e,forwardedProps:t,internalProps:s,valueManager:dt,fieldValueManager:Iu,validator:Qn})},Vf=["ownerState"],Wf=({clearable:n,fieldProps:e,InputProps:r,onClear:t,slots:s,slotProps:i,components:a,componentsProps:l})=>{var c,d,u,g,x,f;const v=vt(),p=(c=(d=s==null?void 0:s.clearButton)!=null?d:a==null?void 0:a.ClearButton)!=null?c:be,m=Ce({elementType:p,externalSlotProps:(u=i==null?void 0:i.clearButton)!=null?u:l==null?void 0:l.clearButton,ownerState:{},className:"clearButton",additionalProps:{title:v.fieldClearLabel}}),w=ue(m,Vf),h=(g=(x=s==null?void 0:s.clearIcon)!=null?x:a==null?void 0:a.ClearIcon)!=null?g:Ku,y=Ce({elementType:h,externalSlotProps:(f=i==null?void 0:i.clearIcon)!=null?f:l==null?void 0:l.clearIcon,ownerState:{}}),S=C({},r,{endAdornment:o.jsxs(b.Fragment,{children:[n&&o.jsx(Tr,{position:"end",sx:{marginRight:r!=null&&r.endAdornment?-1:-1.5},children:o.jsx(p,C({},w,{onClick:t,children:o.jsx(h,C({fontSize:"small"},y))}))}),r==null?void 0:r.endAdornment]})}),D=C({},e,{sx:[{"& .clearButton":{opacity:1},"@media (pointer: fine)":{"& .clearButton":{opacity:0},"&:hover, &:focus-within":{".clearButton":{opacity:1}}}},...Array.isArray(e.sx)?e.sx:[e.sx]]});return{InputProps:S,fieldProps:D}},Lf=["components","componentsProps","slots","slotProps","InputProps","inputProps"],Nf=["inputRef"],_f=["ref","onPaste","onKeyDown","inputMode","readOnly","clearable","onClear"],si=b.forwardRef(function(e,r){var t,s,i;const a=Me({props:e,name:"MuiDateField"}),{components:l,componentsProps:c,slots:d,slotProps:u,InputProps:g,inputProps:x}=a,f=ue(a,Lf),v=a,p=(t=(s=d==null?void 0:d.textField)!=null?s:l==null?void 0:l.TextField)!=null?t:le,m=Ce({elementType:p,externalSlotProps:(i=u==null?void 0:u.textField)!=null?i:c==null?void 0:c.textField,externalForwardedProps:f,ownerState:v}),{inputRef:w}=m,h=ue(m,Nf);h.inputProps=C({},x,h.inputProps),h.InputProps=C({},g,h.InputProps);const y=Ff({props:h,inputRef:w}),{ref:S,onPaste:D,onKeyDown:E,inputMode:I,readOnly:A,clearable:T,onClear:F}=y,L=ue(y,_f),{InputProps:H,fieldProps:U}=Wf({onClear:F,clearable:T,fieldProps:L,InputProps:L.InputProps,slots:d,slotProps:u,components:l,componentsProps:c});return o.jsx(p,C({ref:r},U,{InputProps:C({},H,{readOnly:A}),inputProps:C({},L.inputProps,{inputMode:I,onPaste:D,onKeyDown:E,ref:S})}))}),Hf=n=>Le("MuiPickersFadeTransitionGroup",n);Ne("MuiPickersFadeTransitionGroup",["root"]);const zf=n=>{const{classes:e}=n;return Ve({root:["root"]},Hf,e)},Bf=se(Qs,{name:"MuiPickersFadeTransitionGroup",slot:"Root",overridesResolver:(n,e)=>e.root})({display:"block",position:"relative"});function oi(n){const e=Me({props:n,name:"MuiPickersFadeTransitionGroup"}),{children:r,className:t,reduceAnimations:s,transKey:i}=e,a=zf(e),l=Yt();return s?r:o.jsx(Bf,{className:Ie(a.root,t),children:o.jsx(Ln,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:l.transitions.duration.enteringScreen,enter:l.transitions.duration.enteringScreen,exit:0},children:r},i)})}function $f(n){return Le("MuiPickersMonth",n)}const bn=Ne("MuiPickersMonth",["root","monthButton","disabled","selected"]),Uf=["autoFocus","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","aria-label","monthsPerRow"],Yf=n=>{const{disabled:e,selected:r,classes:t}=n;return Ve({root:["root"],monthButton:["monthButton",e&&"disabled",r&&"selected"]},$f,t)},qf=se("div",{name:"MuiPickersMonth",slot:"Root",overridesResolver:(n,e)=>[e.root]})(({ownerState:n})=>({flexBasis:n.monthsPerRow===3?"33.3%":"25%",display:"flex",alignItems:"center",justifyContent:"center"})),Qf=se("button",{name:"MuiPickersMonth",slot:"MonthButton",overridesResolver:(n,e)=>[e.monthButton,{[`&.${bn.disabled}`]:e.disabled},{[`&.${bn.selected}`]:e.selected}]})(({theme:n})=>C({color:"unset",backgroundColor:"transparent",border:0,outline:0},n.typography.subtitle1,{margin:"8px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:n.vars?`rgba(${n.vars.palette.action.activeChannel} / ${n.vars.palette.action.hoverOpacity})`:zt(n.palette.action.active,n.palette.action.hoverOpacity)},"&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette.action.activeChannel} / ${n.vars.palette.action.hoverOpacity})`:zt(n.palette.action.active,n.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${bn.disabled}`]:{color:(n.vars||n).palette.text.secondary},[`&.${bn.selected}`]:{color:(n.vars||n).palette.primary.contrastText,backgroundColor:(n.vars||n).palette.primary.main,"&:focus, &:hover":{backgroundColor:(n.vars||n).palette.primary.dark}}})),Gf=b.memo(function(e){const r=Me({props:e,name:"MuiPickersMonth"}),{autoFocus:t,children:s,disabled:i,selected:a,value:l,tabIndex:c,onClick:d,onKeyDown:u,onFocus:g,onBlur:x,"aria-current":f,"aria-label":v}=r,p=ue(r,Uf),m=b.useRef(null),w=Yf(r);return Ht(()=>{if(t){var h;(h=m.current)==null||h.focus()}},[t]),o.jsx(qf,C({className:w.root,ownerState:r},p,{children:o.jsx(Qf,{ref:m,disabled:i,type:"button",role:"radio",tabIndex:i?-1:c,"aria-current":f,"aria-checked":a,"aria-label":v,onClick:h=>d(h,l),onKeyDown:h=>u(h,l),onFocus:h=>g(h,l),onBlur:h=>x(h,l),className:w.monthButton,ownerState:r,children:s})}))});function Kf(n){return Le("MuiMonthCalendar",n)}Ne("MuiMonthCalendar",["root"]);const Xf=["className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","autoFocus","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId"],Jf=n=>{const{classes:e}=n;return Ve({root:["root"]},Kf,e)};function Zf(n,e){const r=me(),t=xn(),s=Me({props:n,name:e});return C({disableFuture:!1,disablePast:!1},s,{minDate:Ge(r,s.minDate,t.minDate),maxDate:Ge(r,s.maxDate,t.maxDate)})}const ep=se("div",{name:"MuiMonthCalendar",slot:"Root",overridesResolver:(n,e)=>e.root})({display:"flex",flexWrap:"wrap",alignContent:"stretch",padding:"0 4px",width:qn,boxSizing:"border-box"}),tp=b.forwardRef(function(e,r){const t=Zf(e,"MuiMonthCalendar"),{className:s,value:i,defaultValue:a,referenceDate:l,disabled:c,disableFuture:d,disablePast:u,maxDate:g,minDate:x,onChange:f,shouldDisableMonth:v,readOnly:p,disableHighlightToday:m,autoFocus:w=!1,onMonthFocus:h,hasFocus:y,onFocusedViewChange:S,monthsPerRow:D=3,timezone:E,gridLabelId:I}=t,A=ue(t,Xf),{value:T,handleValueChange:F,timezone:L}=Kr({name:"MonthCalendar",timezone:E,value:i,defaultValue:a,onChange:f,valueManager:dt}),H=Un(L),U=Gs(),k=me(),P=b.useMemo(()=>dt.getInitialReferenceValue({value:T,utils:k,props:t,timezone:L,referenceDate:l,granularity:nt.month}),[]),q=t,K=Jf(q),B=b.useMemo(()=>k.getMonth(H),[k,H]),Q=b.useMemo(()=>T!=null?k.getMonth(T):m?null:k.getMonth(P),[T,k,m,P]),[X,R]=b.useState(()=>Q||B),[W,V]=gt({name:"MonthCalendar",state:"hasFocus",controlled:y,default:w??!1}),Y=J(Z=>{V(Z),S&&S(Z)}),te=b.useCallback(Z=>{const re=k.startOfMonth(u&&k.isAfter(H,x)?H:x),$=k.startOfMonth(d&&k.isBefore(H,g)?H:g),ie=k.startOfMonth(Z);return k.isBefore(ie,re)||k.isAfter(ie,$)?!0:v?v(ie):!1},[d,u,g,x,H,v,k]),fe=J((Z,re)=>{if(p)return;const $=k.setMonth(T??P,re);F($)}),_=J(Z=>{te(k.setMonth(T??P,Z))||(R(Z),Y(!0),h&&h(Z))});b.useEffect(()=>{R(Z=>Q!==null&&Z!==Q?Q:Z)},[Q]);const oe=J((Z,re)=>{switch(Z.key){case"ArrowUp":_((12+re-3)%12),Z.preventDefault();break;case"ArrowDown":_((12+re+3)%12),Z.preventDefault();break;case"ArrowLeft":_((12+re+(U.direction==="ltr"?-1:1))%12),Z.preventDefault();break;case"ArrowRight":_((12+re+(U.direction==="ltr"?1:-1))%12),Z.preventDefault();break}}),he=J((Z,re)=>{_(re)}),ge=J((Z,re)=>{X===re&&Y(!1)});return o.jsx(ep,C({ref:r,className:Ie(K.root,s),ownerState:q,role:"radiogroup","aria-labelledby":I},A,{children:$r(k,T??P).map(Z=>{const re=k.getMonth(Z),$=k.format(Z,"monthShort"),ie=k.format(Z,"month"),ke=re===Q,xe=c||te(Z);return o.jsx(Gf,{selected:ke,value:re,onClick:fe,onKeyDown:oe,autoFocus:W&&re===X,disabled:xe,tabIndex:re===X?0:-1,onFocus:he,onBlur:ge,"aria-current":B===re?"date":void 0,"aria-label":ie,monthsPerRow:D,children:$},$)})}))});function np(n){return Le("MuiPickersYear",n)}const wn=Ne("MuiPickersYear",["root","yearButton","selected","disabled"]),rp=["autoFocus","className","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","yearsPerRow"],sp=n=>{const{disabled:e,selected:r,classes:t}=n;return Ve({root:["root"],yearButton:["yearButton",e&&"disabled",r&&"selected"]},np,t)},op=se("div",{name:"MuiPickersYear",slot:"Root",overridesResolver:(n,e)=>[e.root]})(({ownerState:n})=>({flexBasis:n.yearsPerRow===3?"33.3%":"25%",display:"flex",alignItems:"center",justifyContent:"center"})),ip=se("button",{name:"MuiPickersYear",slot:"YearButton",overridesResolver:(n,e)=>[e.yearButton,{[`&.${wn.disabled}`]:e.disabled},{[`&.${wn.selected}`]:e.selected}]})(({theme:n})=>C({color:"unset",backgroundColor:"transparent",border:0,outline:0},n.typography.subtitle1,{margin:"6px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:n.vars?`rgba(${n.vars.palette.action.activeChannel} / ${n.vars.palette.action.focusOpacity})`:zt(n.palette.action.active,n.palette.action.focusOpacity)},"&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette.action.activeChannel} / ${n.vars.palette.action.hoverOpacity})`:zt(n.palette.action.active,n.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${wn.disabled}`]:{color:(n.vars||n).palette.text.secondary},[`&.${wn.selected}`]:{color:(n.vars||n).palette.primary.contrastText,backgroundColor:(n.vars||n).palette.primary.main,"&:focus, &:hover":{backgroundColor:(n.vars||n).palette.primary.dark}}})),ap=b.memo(function(e){const r=Me({props:e,name:"MuiPickersYear"}),{autoFocus:t,className:s,children:i,disabled:a,selected:l,value:c,tabIndex:d,onClick:u,onKeyDown:g,onFocus:x,onBlur:f,"aria-current":v}=r,p=ue(r,rp),m=b.useRef(null),w=sp(r);return b.useEffect(()=>{t&&m.current.focus()},[t]),o.jsx(op,C({className:Ie(w.root,s),ownerState:r},p,{children:o.jsx(ip,{ref:m,disabled:a,type:"button",role:"radio",tabIndex:a?-1:d,"aria-current":v,"aria-checked":l,onClick:h=>u(h,c),onKeyDown:h=>g(h,c),onFocus:h=>x(h,c),onBlur:h=>f(h,c),className:w.yearButton,ownerState:r,children:i})}))});function lp(n){return Le("MuiYearCalendar",n)}Ne("MuiYearCalendar",["root"]);const cp=["autoFocus","className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsPerRow","timezone","gridLabelId"],dp=n=>{const{classes:e}=n;return Ve({root:["root"]},lp,e)};function up(n,e){var r;const t=me(),s=xn(),i=Me({props:n,name:e});return C({disablePast:!1,disableFuture:!1},i,{yearsPerRow:(r=i.yearsPerRow)!=null?r:3,minDate:Ge(t,i.minDate,s.minDate),maxDate:Ge(t,i.maxDate,s.maxDate)})}const hp=se("div",{name:"MuiYearCalendar",slot:"Root",overridesResolver:(n,e)=>e.root})({display:"flex",flexDirection:"row",flexWrap:"wrap",overflowY:"auto",height:"100%",padding:"0 4px",width:qn,maxHeight:oh,boxSizing:"border-box",position:"relative"}),fp=b.forwardRef(function(e,r){const t=up(e,"MuiYearCalendar"),{autoFocus:s,className:i,value:a,defaultValue:l,referenceDate:c,disabled:d,disableFuture:u,disablePast:g,maxDate:x,minDate:f,onChange:v,readOnly:p,shouldDisableYear:m,disableHighlightToday:w,onYearFocus:h,hasFocus:y,onFocusedViewChange:S,yearsPerRow:D,timezone:E,gridLabelId:I}=t,A=ue(t,cp),{value:T,handleValueChange:F,timezone:L}=Kr({name:"YearCalendar",timezone:E,value:a,defaultValue:l,onChange:v,valueManager:dt}),H=Un(L),U=Gs(),k=me(),P=b.useMemo(()=>dt.getInitialReferenceValue({value:T,utils:k,props:t,timezone:L,referenceDate:c,granularity:nt.year}),[]),q=t,K=dp(q),B=b.useMemo(()=>k.getYear(H),[k,H]),Q=b.useMemo(()=>T!=null?k.getYear(T):w?null:k.getYear(P),[T,k,w,P]),[X,R]=b.useState(()=>Q||B),[W,V]=gt({name:"YearCalendar",state:"hasFocus",controlled:y,default:s??!1}),Y=J($=>{V($),S&&S($)}),te=b.useCallback($=>{if(g&&k.isBeforeYear($,H)||u&&k.isAfterYear($,H)||f&&k.isBeforeYear($,f)||x&&k.isAfterYear($,x))return!0;if(!m)return!1;const ie=k.startOfYear($);return m(ie)},[u,g,x,f,H,m,k]),fe=J(($,ie)=>{if(p)return;const ke=k.setYear(T??P,ie);F(ke)}),_=J($=>{te(k.setYear(T??P,$))||(R($),Y(!0),h==null||h($))});b.useEffect(()=>{R($=>Q!==null&&$!==Q?Q:$)},[Q]);const oe=J(($,ie)=>{switch($.key){case"ArrowUp":_(ie-D),$.preventDefault();break;case"ArrowDown":_(ie+D),$.preventDefault();break;case"ArrowLeft":_(ie+(U.direction==="ltr"?-1:1)),$.preventDefault();break;case"ArrowRight":_(ie+(U.direction==="ltr"?1:-1)),$.preventDefault();break}}),he=J(($,ie)=>{_(ie)}),ge=J(($,ie)=>{X===ie&&Y(!1)}),Z=b.useRef(null),re=Pt(r,Z);return b.useEffect(()=>{if(s||Z.current===null)return;const $=Z.current.querySelector('[tabindex="0"]');if(!$)return;const ie=$.offsetHeight,ke=$.offsetTop,xe=Z.current.clientHeight,ut=Z.current.scrollTop,ee=ke+ie;ie>xe||ke<ut||(Z.current.scrollTop=ee-xe/2-ie/2)},[s]),o.jsx(hp,C({ref:re,className:Ie(K.root,i),ownerState:q,role:"radiogroup","aria-labelledby":I},A,{children:k.getYearRange(f,x).map($=>{const ie=k.getYear($),ke=ie===Q,xe=d||te($);return o.jsx(ap,{selected:ke,value:ie,onClick:fe,onKeyDown:oe,autoFocus:W&&ie===X,disabled:xe,tabIndex:ie===X?0:-1,onFocus:he,onBlur:ge,"aria-current":B===ie?"date":void 0,yearsPerRow:D,children:k.format($,"year")},k.format($,"year"))})}))}),pp=n=>Le("MuiPickersCalendarHeader",n),mp=Ne("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]),gp=["slots","slotProps","components","componentsProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","timezone"],xp=["ownerState"],yp=n=>{const{classes:e}=n;return Ve({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},pp,e)},vp=se("div",{name:"MuiPickersCalendarHeader",slot:"Root",overridesResolver:(n,e)=>e.root})({display:"flex",alignItems:"center",marginTop:16,marginBottom:8,paddingLeft:24,paddingRight:12,maxHeight:30,minHeight:30}),bp=se("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer",overridesResolver:(n,e)=>e.labelContainer})(({theme:n})=>C({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},n.typography.body1,{fontWeight:n.typography.fontWeightMedium})),wp=se("div",{name:"MuiPickersCalendarHeader",slot:"Label",overridesResolver:(n,e)=>e.label})({marginRight:6}),Sp=se(be,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton",overridesResolver:(n,e)=>e.switchViewButton})(({ownerState:n})=>C({marginRight:"auto"},n.view==="year"&&{[`.${mp.switchViewIcon}`]:{transform:"rotate(180deg)"}})),Dp=se(Yu,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon",overridesResolver:(n,e)=>e.switchViewIcon})(({theme:n})=>({willChange:"transform",transition:n.transitions.create("transform"),transform:"rotate(0deg)"})),Cp=b.forwardRef(function(e,r){var t,s,i,a;const l=vt(),c=me(),d=Me({props:e,name:"MuiPickersCalendarHeader"}),{slots:u,slotProps:g,components:x,currentMonth:f,disabled:v,disableFuture:p,disablePast:m,maxDate:w,minDate:h,onMonthChange:y,onViewChange:S,view:D,reduceAnimations:E,views:I,labelId:A,className:T,timezone:F}=d,L=ue(d,gp),H=d,U=yp(d),k=(t=(s=u==null?void 0:u.switchViewButton)!=null?s:x==null?void 0:x.SwitchViewButton)!=null?t:Sp,P=Ce({elementType:k,externalSlotProps:g==null?void 0:g.switchViewButton,additionalProps:{size:"small","aria-label":l.calendarViewSwitchingButtonAriaLabel(D)},ownerState:H,className:U.switchViewButton}),q=(i=(a=u==null?void 0:u.switchViewIcon)!=null?a:x==null?void 0:x.SwitchViewIcon)!=null?i:Dp,K=Ce({elementType:q,externalSlotProps:g==null?void 0:g.switchViewIcon,ownerState:void 0,className:U.switchViewIcon}),B=ue(K,xp),Q=()=>y(c.addMonths(f,1),"left"),X=()=>y(c.addMonths(f,-1),"right"),R=qh(f,{disableFuture:p,maxDate:w,timezone:F}),W=Qh(f,{disablePast:m,minDate:h,timezone:F}),V=()=>{if(!(I.length===1||!S||v))if(I.length===2)S(I.find(Y=>Y!==D)||I[0]);else{const Y=I.indexOf(D)!==0?0:1;S(I[Y])}};return I.length===1&&I[0]==="year"?null:o.jsxs(vp,C({},L,{ownerState:H,className:Ie(T,U.root),ref:r,children:[o.jsxs(bp,{role:"presentation",onClick:V,ownerState:H,"aria-live":"polite",className:U.labelContainer,children:[o.jsx(oi,{reduceAnimations:E,transKey:c.format(f,"monthAndYear"),children:o.jsx(wp,{id:A,ownerState:H,className:U.label,children:c.format(f,"monthAndYear")})}),I.length>1&&!v&&o.jsx(k,C({},P,{children:o.jsx(q,C({},B))}))]}),o.jsx(Ln,{in:D==="day",children:o.jsx(sh,{slots:u,slotProps:g,onGoToPrevious:X,isPreviousDisabled:W,previousLabel:l.previousMonth,onGoToNext:Q,isNextDisabled:R,nextLabel:l.nextMonth})})]}))}),jp=se("div")({overflow:"hidden",width:qn,maxHeight:Qr,display:"flex",flexDirection:"column",margin:"0 auto"}),Pp=n=>Le("MuiDateCalendar",n);Ne("MuiDateCalendar",["root","viewTransitionContainer"]);const Mp=["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","defaultCalendarMonth","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","components","componentsProps","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsPerRow","monthsPerRow","timezone"],kp=n=>{const{classes:e}=n;return Ve({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},Pp,e)};function Ep(n,e){var r,t,s,i,a,l,c;const d=me(),u=xn(),g=Uo(),x=Me({props:n,name:e});return C({},x,{loading:(r=x.loading)!=null?r:!1,disablePast:(t=x.disablePast)!=null?t:!1,disableFuture:(s=x.disableFuture)!=null?s:!1,openTo:(i=x.openTo)!=null?i:"day",views:(a=x.views)!=null?a:["year","day"],reduceAnimations:(l=x.reduceAnimations)!=null?l:g,renderLoading:(c=x.renderLoading)!=null?c:()=>o.jsx("span",{children:"..."}),minDate:Ge(d,x.minDate,u.minDate),maxDate:Ge(d,x.maxDate,u.maxDate)})}const Tp=se(jp,{name:"MuiDateCalendar",slot:"Root",overridesResolver:(n,e)=>e.root})({display:"flex",flexDirection:"column",height:Qr}),Ip=se(oi,{name:"MuiDateCalendar",slot:"ViewTransitionContainer",overridesResolver:(n,e)=>e.viewTransitionContainer})({}),Rp=b.forwardRef(function(e,r){var t,s,i;const a=me(),l=Ir(),c=Ep(e,"MuiDateCalendar"),{autoFocus:d,onViewChange:u,value:g,defaultValue:x,referenceDate:f,disableFuture:v,disablePast:p,defaultCalendarMonth:m,onChange:w,onYearChange:h,onMonthChange:y,reduceAnimations:S,shouldDisableDate:D,shouldDisableMonth:E,shouldDisableYear:I,view:A,views:T,openTo:F,className:L,disabled:H,readOnly:U,minDate:k,maxDate:P,disableHighlightToday:q,focusedView:K,onFocusedViewChange:B,showDaysOutsideCurrentMonth:Q,fixedWeekNumber:X,dayOfWeekFormatter:R,components:W,componentsProps:V,slots:Y,slotProps:te,loading:fe,renderLoading:_,displayWeekNumber:oe,yearsPerRow:he,monthsPerRow:ge,timezone:Z}=c,re=ue(c,Mp),{value:$,handleValueChange:ie,timezone:ke}=Kr({name:"DateCalendar",timezone:Z,value:g,defaultValue:x,onChange:w,valueManager:dt}),{view:xe,setView:ut,focusedView:ee,setFocusedView:ae,goToNextView:z,setValueAndGoToNextView:G}=qo({view:A,views:T,openTo:F,onChange:ie,onViewChange:u,autoFocus:d,focusedView:K,onFocusedViewChange:B}),{referenceDate:ce,calendarState:ye,changeFocusedDay:Re,changeMonth:Oe,handleChangeMonth:Ze,isDateDisabled:_e,onMonthSwitchingAnimationEnd:qt}=Ef({value:$,defaultCalendarMonth:m,referenceDate:f,reduceAnimations:S,onMonthChange:y,minDate:k,maxDate:P,shouldDisableDate:D,disablePast:p,disableFuture:v,timezone:ke}),Qt=H&&$||k,ht=H&&$||P,Gn=`${l}-grid-label`,Gt=ee!==null,Ke=(t=(s=Y==null?void 0:Y.calendarHeader)!=null?s:W==null?void 0:W.CalendarHeader)!=null?t:Cp,li=Ce({elementType:Ke,externalSlotProps:(i=te==null?void 0:te.calendarHeader)!=null?i:V==null?void 0:V.calendarHeader,additionalProps:{views:T,view:xe,currentMonth:ye.currentMonth,onViewChange:ut,onMonthChange:(ve,et)=>Ze({newMonth:ve,direction:et}),minDate:Qt,maxDate:ht,disabled:H,disablePast:p,disableFuture:v,reduceAnimations:S,timezone:ke,labelId:Gn,slots:Y,slotProps:te},ownerState:c}),ci=J(ve=>{const et=a.startOfMonth(ve),Kt=a.endOfMonth(ve),ft=_e(ve)?sn({utils:a,date:ve,minDate:a.isBefore(k,et)?et:k,maxDate:a.isAfter(P,Kt)?Kt:P,disablePast:p,disableFuture:v,isDateDisabled:_e,timezone:ke}):ve;ft?(G(ft,"finish"),y==null||y(et)):(z(),Oe(et)),Re(ft,!0)}),di=J(ve=>{const et=a.startOfYear(ve),Kt=a.endOfYear(ve),ft=_e(ve)?sn({utils:a,date:ve,minDate:a.isBefore(k,et)?et:k,maxDate:a.isAfter(P,Kt)?Kt:P,disablePast:p,disableFuture:v,isDateDisabled:_e,timezone:ke}):ve;ft?(G(ft,"finish"),h==null||h(ft)):(z(),Oe(et)),Re(ft,!0)}),ui=J(ve=>ie(ve&&On(a,ve,$??ce),"finish",xe));b.useEffect(()=>{$!=null&&a.isValid($)&&Oe($)},[$]);const Kn=c,Xr=kp(Kn),Xn={disablePast:p,disableFuture:v,maxDate:P,minDate:k},Jn={disableHighlightToday:q,readOnly:U,disabled:H,timezone:ke,gridLabelId:Gn},Zn=b.useRef(xe);b.useEffect(()=>{Zn.current!==xe&&(ee===Zn.current&&ae(xe,!0),Zn.current=xe)},[ee,ae,xe]);const hi=b.useMemo(()=>[$],[$]);return o.jsxs(Tp,C({ref:r,className:Ie(Xr.root,L),ownerState:Kn},re,{children:[o.jsx(Ke,C({},li)),o.jsx(Ip,{reduceAnimations:S,className:Xr.viewTransitionContainer,transKey:xe,ownerState:Kn,children:o.jsxs("div",{children:[xe==="year"&&o.jsx(fp,C({},Xn,Jn,{value:$,onChange:di,shouldDisableYear:I,hasFocus:Gt,onFocusedViewChange:ve=>ae("year",ve),yearsPerRow:he,referenceDate:ce})),xe==="month"&&o.jsx(tp,C({},Xn,Jn,{hasFocus:Gt,className:L,value:$,onChange:ci,shouldDisableMonth:E,onFocusedViewChange:ve=>ae("month",ve),monthsPerRow:ge,referenceDate:ce})),xe==="day"&&o.jsx(Mf,C({},ye,Xn,Jn,{onMonthSwitchingAnimationEnd:qt,onFocusedDayChange:Re,reduceAnimations:S,selectedDays:hi,onSelectedDaysChange:ui,shouldDisableDate:D,shouldDisableMonth:E,shouldDisableYear:I,hasFocus:Gt,onFocusedViewChange:ve=>ae("day",ve),showDaysOutsideCurrentMonth:Q,fixedWeekNumber:X,dayOfWeekFormatter:R,displayWeekNumber:oe,components:W,componentsProps:V,slots:Y,slotProps:te,loading:fe,renderLoading:_}))]})})]}))}),_t=({view:n,onViewChange:e,views:r,focusedView:t,onFocusedViewChange:s,value:i,defaultValue:a,referenceDate:l,onChange:c,className:d,classes:u,disableFuture:g,disablePast:x,minDate:f,maxDate:v,shouldDisableDate:p,shouldDisableMonth:m,shouldDisableYear:w,reduceAnimations:h,onMonthChange:y,monthsPerRow:S,onYearChange:D,yearsPerRow:E,defaultCalendarMonth:I,components:A,componentsProps:T,slots:F,slotProps:L,loading:H,renderLoading:U,disableHighlightToday:k,readOnly:P,disabled:q,showDaysOutsideCurrentMonth:K,dayOfWeekFormatter:B,sx:Q,autoFocus:X,fixedWeekNumber:R,displayWeekNumber:W,timezone:V})=>o.jsx(Rp,{view:n,onViewChange:e,views:r.filter(Es),focusedView:t&&Es(t)?t:null,onFocusedViewChange:s,value:i,defaultValue:a,referenceDate:l,onChange:c,className:d,classes:u,disableFuture:g,disablePast:x,minDate:f,maxDate:v,shouldDisableDate:p,shouldDisableMonth:m,shouldDisableYear:w,reduceAnimations:h,onMonthChange:y,monthsPerRow:S,onYearChange:D,yearsPerRow:E,defaultCalendarMonth:I,components:A,componentsProps:T,slots:F,slotProps:L,loading:H,renderLoading:U,disableHighlightToday:k,readOnly:P,disabled:q,showDaysOutsideCurrentMonth:K,dayOfWeekFormatter:B,sx:Q,autoFocus:X,fixedWeekNumber:R,displayWeekNumber:W,timezone:V}),ii=b.forwardRef(function(e,r){var t,s,i,a;const l=vt(),c=me(),d=$o(e,"MuiDesktopDatePicker"),u=C({day:_t,month:_t,year:_t},d.viewRenderers),g=C({},d,{viewRenderers:u,format:Ur(c,d,!1),yearsPerRow:(t=d.yearsPerRow)!=null?t:4,slots:C({openPickerIcon:Gu,field:si},d.slots),slotProps:C({},d.slotProps,{field:f=>{var v;return C({},Br((v=d.slotProps)==null?void 0:v.field,f),Zo(d),{ref:r})},toolbar:C({hidden:!0},(s=d.slotProps)==null?void 0:s.toolbar)})}),{renderPicker:x}=Of({props:g,valueManager:dt,valueType:"date",getOpenDialogAriaText:(i=(a=g.localeText)==null?void 0:a.openDatePickerDialogue)!=null?i:l.openDatePickerDialogue,validator:Qn});return x()});ii.propTypes={autoFocus:j.bool,className:j.string,closeOnSelect:j.bool,components:j.object,componentsProps:j.object,dayOfWeekFormatter:j.func,defaultCalendarMonth:j.any,defaultValue:j.any,disabled:j.bool,disableFuture:j.bool,disableHighlightToday:j.bool,disableOpenPicker:j.bool,disablePast:j.bool,displayWeekNumber:j.bool,fixedWeekNumber:j.number,format:j.string,formatDensity:j.oneOf(["dense","spacious"]),inputRef:Ks,label:j.node,loading:j.bool,localeText:j.object,maxDate:j.any,minDate:j.any,monthsPerRow:j.oneOf([3,4]),name:j.string,onAccept:j.func,onChange:j.func,onClose:j.func,onError:j.func,onMonthChange:j.func,onOpen:j.func,onSelectedSectionsChange:j.func,onViewChange:j.func,onYearChange:j.func,open:j.bool,openTo:j.oneOf(["day","month","year"]),orientation:j.oneOf(["landscape","portrait"]),readOnly:j.bool,reduceAnimations:j.bool,referenceDate:j.any,renderLoading:j.func,selectedSections:j.oneOfType([j.oneOf(["all","day","hours","meridiem","minutes","month","seconds","weekDay","year"]),j.number,j.shape({endIndex:j.number.isRequired,startIndex:j.number.isRequired})]),shouldDisableDate:j.func,shouldDisableMonth:j.func,shouldDisableYear:j.func,showDaysOutsideCurrentMonth:j.bool,slotProps:j.object,slots:j.object,sx:j.oneOfType([j.arrayOf(j.oneOfType([j.func,j.object,j.bool])),j.func,j.object]),timezone:j.string,value:j.any,view:j.oneOf(["day","month","year"]),viewRenderers:j.shape({day:j.func,month:j.func,year:j.func}),views:j.arrayOf(j.oneOf(["day","month","year"]).isRequired),yearsPerRow:j.oneOf([3,4])};const Op=["props","getOpenDialogAriaText"],Ap=n=>{var e,r,t;let{props:s,getOpenDialogAriaText:i}=n,a=ue(n,Op);const{slots:l,slotProps:c,className:d,sx:u,format:g,formatDensity:x,timezone:f,name:v,label:p,inputRef:m,readOnly:w,disabled:h,localeText:y}=s,S=me(),D=b.useRef(null),E=Ir(),I=(e=c==null||(r=c.toolbar)==null?void 0:r.hidden)!=null?e:!1,{open:A,actions:T,layoutProps:F,renderCurrentView:L,fieldProps:H}=Qo(C({},a,{props:s,inputRef:D,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"mobile"})),U=l.field,k=Ce({elementType:U,externalSlotProps:c==null?void 0:c.field,additionalProps:C({},H,I&&{id:E},!(h||w)&&{onClick:T.onOpen,onKeyDown:uh(T.onOpen)},{readOnly:w??!0,disabled:h,className:d,sx:u,format:g,formatDensity:x,timezone:f,label:p,name:v}),ownerState:s});k.inputProps=C({},k.inputProps,{"aria-label":i(H.value,S)});const P=C({textField:l.textField},k.slots),q=(t=l.layout)!=null?t:Xo,K=Pt(D,k.inputRef,m);let B=E;I&&(p?B=`${E}-label`:B=void 0);const Q=C({},c,{toolbar:C({},c==null?void 0:c.toolbar,{titleId:E}),mobilePaper:C({"aria-labelledby":B},c==null?void 0:c.mobilePaper)});return{renderPicker:()=>o.jsxs(qr,{localeText:y,children:[o.jsx(U,C({},k,{slots:P,slotProps:Q,inputRef:K})),o.jsx(lh,C({},T,{open:A,slots:l,slotProps:Q,children:o.jsx(q,C({},F,Q==null?void 0:Q.layout,{slots:l,slotProps:Q,children:L()}))}))]})}},ai=b.forwardRef(function(e,r){var t,s,i;const a=vt(),l=me(),c=$o(e,"MuiMobileDatePicker"),d=C({day:_t,month:_t,year:_t},c.viewRenderers),u=C({},c,{viewRenderers:d,format:Ur(l,c,!1),slots:C({field:si},c.slots),slotProps:C({},c.slotProps,{field:x=>{var f;return C({},Br((f=c.slotProps)==null?void 0:f.field,x),Zo(c),{ref:r})},toolbar:C({hidden:!1},(t=c.slotProps)==null?void 0:t.toolbar)})}),{renderPicker:g}=Ap({props:u,valueManager:dt,valueType:"date",getOpenDialogAriaText:(s=(i=u.localeText)==null?void 0:i.openDatePickerDialogue)!=null?s:a.openDatePickerDialogue,validator:Qn});return g()});ai.propTypes={autoFocus:j.bool,className:j.string,closeOnSelect:j.bool,components:j.object,componentsProps:j.object,dayOfWeekFormatter:j.func,defaultCalendarMonth:j.any,defaultValue:j.any,disabled:j.bool,disableFuture:j.bool,disableHighlightToday:j.bool,disableOpenPicker:j.bool,disablePast:j.bool,displayWeekNumber:j.bool,fixedWeekNumber:j.number,format:j.string,formatDensity:j.oneOf(["dense","spacious"]),inputRef:Ks,label:j.node,loading:j.bool,localeText:j.object,maxDate:j.any,minDate:j.any,monthsPerRow:j.oneOf([3,4]),name:j.string,onAccept:j.func,onChange:j.func,onClose:j.func,onError:j.func,onMonthChange:j.func,onOpen:j.func,onSelectedSectionsChange:j.func,onViewChange:j.func,onYearChange:j.func,open:j.bool,openTo:j.oneOf(["day","month","year"]),orientation:j.oneOf(["landscape","portrait"]),readOnly:j.bool,reduceAnimations:j.bool,referenceDate:j.any,renderLoading:j.func,selectedSections:j.oneOfType([j.oneOf(["all","day","hours","meridiem","minutes","month","seconds","weekDay","year"]),j.number,j.shape({endIndex:j.number.isRequired,startIndex:j.number.isRequired})]),shouldDisableDate:j.func,shouldDisableMonth:j.func,shouldDisableYear:j.func,showDaysOutsideCurrentMonth:j.bool,slotProps:j.object,slots:j.object,sx:j.oneOfType([j.arrayOf(j.oneOfType([j.func,j.object,j.bool])),j.func,j.object]),timezone:j.string,value:j.any,view:j.oneOf(["day","month","year"]),viewRenderers:j.shape({day:j.func,month:j.func,year:j.func}),views:j.arrayOf(j.oneOf(["day","month","year"]).isRequired),yearsPerRow:j.oneOf([3,4])};const Fp=["desktopModeMediaQuery"],Vp=b.forwardRef(function(e,r){const t=Me({props:e,name:"MuiDatePicker"}),{desktopModeMediaQuery:s=hh}=t,i=ue(t,Fp);return qs(s,{defaultMatches:!0})?o.jsx(ii,C({ref:r},i)):o.jsx(ai,C({ref:r},i))});var Pr={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(c,d){switch(c){case"P":return d.date({width:"short"});case"PP":return d.date({width:"medium"});case"PPP":return d.date({width:"long"});case"PPPP":default:return d.date({width:"full"})}},t=function(c,d){switch(c){case"p":return d.time({width:"short"});case"pp":return d.time({width:"medium"});case"ppp":return d.time({width:"long"});case"pppp":default:return d.time({width:"full"})}},s=function(c,d){var u=c.match(/(P+)(p+)?/)||[],g=u[1],x=u[2];if(!x)return r(c,d);var f;switch(g){case"P":f=d.dateTime({width:"short"});break;case"PP":f=d.dateTime({width:"medium"});break;case"PPP":f=d.dateTime({width:"long"});break;case"PPPP":default:f=d.dateTime({width:"full"});break}return f.replace("{{date}}",r(g,d)).replace("{{time}}",t(x,d))},i={p:t,P:s},a=i;e.default=a,n.exports=e.default})(Pr,Pr.exports);var Wp=Pr.exports;const Lp=Ui(Wp),Np={y:{sectionType:"year",contentType:"digit",maxLength:4},yy:"year",yyy:{sectionType:"year",contentType:"digit",maxLength:4},yyyy:"year",M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMMM:{sectionType:"month",contentType:"letter"},MMM:{sectionType:"month",contentType:"letter"},L:{sectionType:"month",contentType:"digit",maxLength:2},LL:"month",LLL:{sectionType:"month",contentType:"letter"},LLLL:{sectionType:"month",contentType:"letter"},d:{sectionType:"day",contentType:"digit",maxLength:2},dd:"day",do:{sectionType:"day",contentType:"digit-with-letter"},E:{sectionType:"weekDay",contentType:"letter"},EE:{sectionType:"weekDay",contentType:"letter"},EEE:{sectionType:"weekDay",contentType:"letter"},EEEE:{sectionType:"weekDay",contentType:"letter"},EEEEE:{sectionType:"weekDay",contentType:"letter"},i:{sectionType:"weekDay",contentType:"digit",maxLength:1},ii:"weekDay",iii:{sectionType:"weekDay",contentType:"letter"},iiii:{sectionType:"weekDay",contentType:"letter"},e:{sectionType:"weekDay",contentType:"digit",maxLength:1},ee:"weekDay",eee:{sectionType:"weekDay",contentType:"letter"},eeee:{sectionType:"weekDay",contentType:"letter"},eeeee:{sectionType:"weekDay",contentType:"letter"},eeeeee:{sectionType:"weekDay",contentType:"letter"},c:{sectionType:"weekDay",contentType:"digit",maxLength:1},cc:"weekDay",ccc:{sectionType:"weekDay",contentType:"letter"},cccc:{sectionType:"weekDay",contentType:"letter"},ccccc:{sectionType:"weekDay",contentType:"letter"},cccccc:{sectionType:"weekDay",contentType:"letter"},a:"meridiem",aa:"meridiem",aaa:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},_p={year:"yyyy",month:"LLLL",monthShort:"MMM",dayOfMonth:"d",weekday:"EEEE",weekdayShort:"EEEEEE",hours24h:"HH",hours12h:"hh",meridiem:"aa",minutes:"mm",seconds:"ss",fullDate:"PP",fullDateWithWeekday:"PPPP",keyboardDate:"P",shortDate:"MMM d",normalDate:"d MMMM",normalDateWithWeekday:"EEE, MMM d",monthAndYear:"LLLL yyyy",monthAndDate:"MMMM d",fullTime:"p",fullTime12h:"hh:mm aa",fullTime24h:"HH:mm",fullDateTime:"PP p",fullDateTime12h:"PP hh:mm aa",fullDateTime24h:"PP HH:mm",keyboardDateTime:"P p",keyboardDateTime12h:"P hh:mm aa",keyboardDateTime24h:"P HH:mm"};class Hp{constructor(e){this.isMUIAdapter=!0,this.isTimezoneCompatible=!1,this.lib="date-fns",this.locale=void 0,this.formats=void 0,this.formatTokenMap=Np,this.escapedCharacters={start:"'",end:"'"},this.longFormatters=void 0,this.date=i=>typeof i>"u"?new Date:i===null?null:new Date(i),this.dateWithTimezone=i=>this.date(i),this.getTimezone=()=>"default",this.setTimezone=i=>i,this.toJsDate=i=>i,this.getCurrentLocaleCode=()=>{var i;return((i=this.locale)==null?void 0:i.code)||"en-US"},this.is12HourCycleInCurrentLocale=()=>this.locale?/a/.test(this.locale.formatLong.time({width:"short"})):!0,this.expandFormat=i=>{const a=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;return i.match(a).map(l=>{const c=l[0];if(c==="p"||c==="P"){const d=this.longFormatters[c];return d(l,this.locale.formatLong)}return l}).join("")},this.getFormatHelperText=i=>this.expandFormat(i).replace(/(aaa|aa|a)/g,"(a|p)m").toLocaleLowerCase(),this.isNull=i=>i===null,this.formatNumber=i=>i,this.getMeridiemText=i=>i==="am"?"AM":"PM";const{locale:r,formats:t,longFormatters:s}=e;this.locale=r,this.formats=C({},_p,t),this.longFormatters=s}}class zp extends Hp{constructor({locale:e,formats:r}={}){if(typeof mt!="function")throw new Error(["MUI: The `date-fns` package v3.x is not compatible with this adapter.","Please, install v2.x of the package or use the `AdapterDateFnsV3` instead."].join(`
`));super({locale:e??Gi,formats:r,longFormatters:Lp}),this.parseISO=t=>Ki(t),this.toISO=t=>Xi(t,{format:"extended"}),this.parse=(t,s)=>t===""?null:Ji(t,s,new Date,{locale:this.locale}),this.isValid=t=>Zi(this.date(t)),this.format=(t,s)=>this.formatByString(t,this.formats[s]),this.formatByString=(t,s)=>je(t,s,{locale:this.locale}),this.getDiff=(t,s,i)=>{switch(i){case"years":return aa(t,this.date(s));case"quarters":return ia(t,this.date(s));case"months":return oa(t,this.date(s));case"weeks":return sa(t,this.date(s));case"days":return gr(t,this.date(s));case"hours":return ra(t,this.date(s));case"minutes":return na(t,this.date(s));case"seconds":return ta(t,this.date(s));default:return ea(t,this.date(s))}},this.isEqual=(t,s)=>t===null&&s===null?!0:la(t,s),this.isSameYear=(t,s)=>ca(t,s),this.isSameMonth=(t,s)=>da(t,s),this.isSameDay=(t,s)=>ua(t,s),this.isSameHour=(t,s)=>ha(t,s),this.isAfter=(t,s)=>sr(t,s),this.isAfterYear=(t,s)=>sr(t,or(s)),this.isAfterDay=(t,s)=>sr(t,ls(s)),this.isBefore=(t,s)=>Ft(t,s),this.isBeforeYear=(t,s)=>Ft(t,vn(s)),this.isBeforeDay=(t,s)=>Ft(t,kn(s)),this.isWithinRange=(t,[s,i])=>fa(t,{start:s,end:i}),this.startOfYear=t=>vn(t),this.startOfMonth=t=>cs(t),this.startOfWeek=t=>ir(t,{locale:this.locale}),this.startOfDay=t=>kn(t),this.endOfYear=t=>or(t),this.endOfMonth=t=>ds(t),this.endOfWeek=t=>ar(t,{locale:this.locale}),this.endOfDay=t=>ls(t),this.addYears=(t,s)=>us(t,s),this.addMonths=(t,s)=>lr(t,s),this.addWeeks=(t,s)=>pa(t,s),this.addDays=(t,s)=>mt(t,s),this.addHours=(t,s)=>ma(t,s),this.addMinutes=(t,s)=>ga(t,s),this.addSeconds=(t,s)=>xa(t,s),this.getYear=t=>ya(t),this.getMonth=t=>va(t),this.getDate=t=>ba(t),this.getHours=t=>wa(t),this.getMinutes=t=>Sa(t),this.getSeconds=t=>Da(t),this.getMilliseconds=t=>Ca(t),this.setYear=(t,s)=>ja(t,s),this.setMonth=(t,s)=>Pa(t,s),this.setDate=(t,s)=>Ma(t,s),this.setHours=(t,s)=>ka(t,s),this.setMinutes=(t,s)=>Ea(t,s),this.setSeconds=(t,s)=>Ta(t,s),this.setMilliseconds=(t,s)=>Ia(t,s),this.getDaysInMonth=t=>Ra(t),this.getNextMonth=t=>lr(t,1),this.getPreviousMonth=t=>lr(t,-1),this.getMonthArray=t=>{const i=[vn(t)];for(;i.length<12;){const a=i[i.length-1];i.push(this.getNextMonth(a))}return i},this.mergeDateAndTime=(t,s)=>this.setSeconds(this.setMinutes(this.setHours(t,this.getHours(s)),this.getMinutes(s)),this.getSeconds(s)),this.getWeekdays=()=>{const t=new Date;return Oa({start:ir(t,{locale:this.locale}),end:ar(t,{locale:this.locale})}).map(s=>this.formatByString(s,"EEEEEE"))},this.getWeekArray=t=>{const s=ir(cs(t),{locale:this.locale}),i=ar(ds(t),{locale:this.locale});let a=0,l=s;const c=[];for(;Ft(l,i);){const d=Math.floor(a/7);c[d]=c[d]||[],c[d].push(l),l=mt(l,1),a+=1}return c},this.getWeekNumber=t=>Aa(t,{locale:this.locale}),this.getYearRange=(t,s)=>{const i=vn(t),a=or(s),l=[];let c=i;for(;Ft(c,a);)l.push(c),c=us(c,1);return l}}}const Ns=()=>{const{id:n}=qi(),{user:e}=yt(),r=fn(),[t,s]=b.useState(!1),[i,a]=b.useState(""),[l,c]=b.useState(new Date),[d,u]=b.useState({title:"",description:"",status:"todo",priority:"medium"}),g=!!n;b.useEffect(()=>{if(g&&e){const f=localStorage.getItem(`tasks_${e.id}`);if(f){const p=JSON.parse(f).find(m=>m.id===n);p&&(u({title:p.title,description:p.description,status:p.status,priority:p.priority}),c(new Date(p.dueDate)))}}},[n,e,g]);const x=async f=>{var v;if(f.preventDefault(),s(!0),a(""),!e){a("ユーザー情報が見つかりません"),s(!1);return}if(!l){a("期限日を設定してください"),s(!1);return}try{const p=localStorage.getItem(`tasks_${e.id}`),m=p?JSON.parse(p):[],w={id:g?n:Date.now().toString(),title:d.title,description:d.description,status:d.status,priority:d.priority,dueDate:l.toISOString().split("T")[0],createdAt:g?((v=m.find(y=>y.id===n))==null?void 0:v.createdAt)||new Date().toISOString():new Date().toISOString(),updatedAt:new Date().toISOString()};let h;g?h=m.map(y=>y.id===n?w:y):h=[...m,w],localStorage.setItem(`tasks_${e.id}`,JSON.stringify(h)),ze.success(g?"タスクを更新しました":"タスクを作成しました"),r("/")}catch{a("タスクの保存に失敗しました"),ze.error("タスクの保存に失敗しました")}finally{s(!1)}};return o.jsx(Xs,{maxWidth:"md",sx:{mt:2},children:o.jsxs(Fe,{elevation:3,sx:{p:3,borderRadius:2},children:[o.jsx(O,{variant:"h5",component:"h1",gutterBottom:!0,align:"center",children:g?"タスクを編集":"新しいタスクを作成"}),i&&o.jsx(cn,{severity:"error",sx:{mb:2},children:i}),o.jsxs(M,{component:"form",onSubmit:x,sx:{mt:2},children:[o.jsx(le,{fullWidth:!0,label:"タスク名",value:d.title,onChange:f=>u({...d,title:f.target.value}),margin:"normal",required:!0,disabled:t}),o.jsx(le,{fullWidth:!0,label:"説明",value:d.description,onChange:f=>u({...d,description:f.target.value}),margin:"normal",multiline:!0,rows:4,disabled:t}),o.jsxs(M,{sx:{display:"flex",gap:2,mt:2},children:[o.jsxs(Ye,{fullWidth:!0,children:[o.jsx(qe,{children:"ステータス"}),o.jsxs(Qe,{value:d.status,label:"ステータス",onChange:f=>u({...d,status:f.target.value}),disabled:t,children:[o.jsx(ne,{value:"todo",children:"未着手"}),o.jsx(ne,{value:"inProgress",children:"進行中"}),o.jsx(ne,{value:"done",children:"完了"})]})]}),o.jsxs(Ye,{fullWidth:!0,children:[o.jsx(qe,{children:"優先度"}),o.jsxs(Qe,{value:d.priority,label:"優先度",onChange:f=>u({...d,priority:f.target.value}),disabled:t,children:[o.jsx(ne,{value:"low",children:"低"}),o.jsx(ne,{value:"medium",children:"中"}),o.jsx(ne,{value:"high",children:"高"})]})]})]}),o.jsx(qr,{dateAdapter:zp,adapterLocale:$t,children:o.jsx(Vp,{label:"期限日",value:l,onChange:f=>c(f),sx:{mt:2,width:"100%"},disabled:t})}),o.jsxs(M,{sx:{display:"flex",gap:2,mt:3},children:[o.jsx(de,{type:"submit",variant:"contained",size:"large",fullWidth:!0,disabled:t,children:t?o.jsx(mr,{size:24}):g?"更新":"作成"}),o.jsx(de,{variant:"outlined",size:"large",fullWidth:!0,onClick:()=>r("/"),disabled:t,children:"キャンセル"})]})]})]})})},Bp=()=>{const{isDarkMode:n,toggleTheme:e}=pn(),{user:r}=yt(),[t,s]=b.useState(!1),[i,a]=b.useState(!1),[l,c]=b.useState({notifications:{email:!0,push:!0,sms:!1,taskReminders:!0,deadlineAlerts:!0,teamUpdates:!0},appearance:{theme:"auto",language:"ja",timezone:"Asia/Tokyo",dateFormat:"YYYY/MM/DD",timeFormat:"24h"},privacy:{profileVisible:!0,showEmail:!1,showPhone:!1,allowAnalytics:!0},data:{autoBackup:!0,backupFrequency:"daily",retentionPeriod:"30days"}}),d=()=>{localStorage.setItem("userSettings",JSON.stringify(l)),s(!1),ze.success("設定を保存しました")},u=()=>{const v=localStorage.getItem("userSettings");v&&c(JSON.parse(v)),s(!1)},g=()=>{localStorage.clear(),ze.success("すべてのデータを削除しました"),a(!1),window.location.reload()},f=(()=>{const v=JSON.parse(localStorage.getItem("tasks")||"[]"),p=localStorage.getItem("userProfile"),m=localStorage.getItem("userSettings"),w=new Blob([JSON.stringify(v)]).size,h=p?new Blob([p]).size:0,y=m?new Blob([m]).size:0;return{tasks:w,profile:h,settings:y,total:w+h+y}})();return o.jsxs(M,{sx:{p:3,maxWidth:1200,mx:"auto"},children:[o.jsx(O,{variant:"h4",gutterBottom:!0,sx:{fontWeight:700,mb:4},children:"設定"}),o.jsxs(pe,{container:!0,spacing:3,children:[o.jsx(pe,{item:!0,xs:12,md:6,children:o.jsxs(Fe,{sx:{p:3,mb:3},children:[o.jsxs(M,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:3},children:[o.jsx(O,{variant:"h6",sx:{fontWeight:600},children:"通知設定"}),o.jsx(Bs,{color:"primary"})]}),o.jsxs(st,{children:[o.jsxs(De,{children:[o.jsx(Se,{children:o.jsx(Xt,{color:"primary"})}),o.jsx(we,{primary:"メール通知",secondary:"重要な更新をメールで受け取る"}),o.jsx(tt,{children:o.jsx($e,{checked:l.notifications.email,onChange:v=>c({...l,notifications:{...l.notifications,email:v.target.checked}}),disabled:!t})})]}),o.jsxs(De,{children:[o.jsx(Se,{children:o.jsx(ln,{color:"primary"})}),o.jsx(we,{primary:"プッシュ通知",secondary:"ブラウザでプッシュ通知を受け取る"}),o.jsx(tt,{children:o.jsx($e,{checked:l.notifications.push,onChange:v=>c({...l,notifications:{...l.notifications,push:v.target.checked}}),disabled:!t})})]}),o.jsxs(De,{children:[o.jsx(Se,{children:o.jsx(Er,{color:"primary"})}),o.jsx(we,{primary:"タスクリマインダー",secondary:"期限が近づいたタスクの通知"}),o.jsx(tt,{children:o.jsx($e,{checked:l.notifications.taskReminders,onChange:v=>c({...l,notifications:{...l.notifications,taskReminders:v.target.checked}}),disabled:!t})})]}),o.jsxs(De,{children:[o.jsx(Se,{children:o.jsx(Ni,{color:"primary"})}),o.jsx(we,{primary:"期限アラート",secondary:"期限切れタスクの警告"}),o.jsx(tt,{children:o.jsx($e,{checked:l.notifications.deadlineAlerts,onChange:v=>c({...l,notifications:{...l.notifications,deadlineAlerts:v.target.checked}}),disabled:!t})})]})]})]})}),o.jsx(pe,{item:!0,xs:12,md:6,children:o.jsxs(Fe,{sx:{p:3,mb:3},children:[o.jsxs(M,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:3},children:[o.jsx(O,{variant:"h6",sx:{fontWeight:600},children:"表示設定"}),o.jsx(ss,{color:"primary"})]}),o.jsxs(st,{children:[o.jsxs(De,{children:[o.jsx(Se,{children:o.jsx(ss,{color:"primary"})}),o.jsx(we,{primary:"ダークモード",secondary:"ダークテーマを使用"}),o.jsx(tt,{children:o.jsx($e,{checked:n,onChange:e})})]}),o.jsxs(De,{children:[o.jsx(Se,{children:o.jsx(Js,{color:"primary"})}),o.jsx(we,{primary:"言語",secondary:"日本語"}),o.jsx(tt,{children:o.jsx(He,{label:"日本語",size:"small"})})]}),o.jsxs(De,{children:[o.jsx(Se,{children:o.jsx(Xt,{color:"primary"})}),o.jsx(we,{primary:"タイムゾーン",secondary:"Asia/Tokyo"}),o.jsx(tt,{children:o.jsx(He,{label:"JST",size:"small"})})]})]})]})}),o.jsx(pe,{item:!0,xs:12,md:6,children:o.jsxs(Fe,{sx:{p:3,mb:3},children:[o.jsxs(M,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:3},children:[o.jsx(O,{variant:"h6",sx:{fontWeight:600},children:"プライバシー設定"}),o.jsx(Zs,{color:"primary"})]}),o.jsxs(st,{children:[o.jsxs(De,{children:[o.jsx(Se,{children:o.jsx(Xt,{color:"primary"})}),o.jsx(we,{primary:"プロフィール公開",secondary:"他のユーザーにプロフィールを表示"}),o.jsx(tt,{children:o.jsx($e,{checked:l.privacy.profileVisible,onChange:v=>c({...l,privacy:{...l.privacy,profileVisible:v.target.checked}}),disabled:!t})})]}),o.jsxs(De,{children:[o.jsx(Se,{children:o.jsx(Xt,{color:"primary"})}),o.jsx(we,{primary:"メールアドレス表示",secondary:"プロフィールでメールアドレスを表示"}),o.jsx(tt,{children:o.jsx($e,{checked:l.privacy.showEmail,onChange:v=>c({...l,privacy:{...l.privacy,showEmail:v.target.checked}}),disabled:!t})})]}),o.jsxs(De,{children:[o.jsx(Se,{children:o.jsx(Xt,{color:"primary"})}),o.jsx(we,{primary:"分析データ送信",secondary:"使用状況の分析データを送信"}),o.jsx(tt,{children:o.jsx($e,{checked:l.privacy.allowAnalytics,onChange:v=>c({...l,privacy:{...l.privacy,allowAnalytics:v.target.checked}}),disabled:!t})})]})]})]})}),o.jsx(pe,{item:!0,xs:12,md:6,children:o.jsxs(Fe,{sx:{p:3,mb:3},children:[o.jsxs(M,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:3},children:[o.jsx(O,{variant:"h6",sx:{fontWeight:600},children:"データ管理"}),o.jsx(_i,{color:"primary"})]}),o.jsxs(M,{sx:{mb:3},children:[o.jsx(O,{variant:"subtitle2",sx:{mb:2},children:"ストレージ使用量"}),o.jsxs(M,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[o.jsx(O,{variant:"body2",children:"タスクデータ"}),o.jsxs(O,{variant:"body2",children:[(f.tasks/1024).toFixed(2)," KB"]})]}),o.jsxs(M,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[o.jsx(O,{variant:"body2",children:"プロフィール"}),o.jsxs(O,{variant:"body2",children:[(f.profile/1024).toFixed(2)," KB"]})]}),o.jsxs(M,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[o.jsx(O,{variant:"body2",children:"設定"}),o.jsxs(O,{variant:"body2",children:[(f.settings/1024).toFixed(2)," KB"]})]}),o.jsx(rt,{}),o.jsxs(M,{sx:{display:"flex",justifyContent:"space-between",mt:2},children:[o.jsx(O,{variant:"subtitle2",children:"合計"}),o.jsxs(O,{variant:"subtitle2",children:[(f.total/1024).toFixed(2)," KB"]})]})]}),o.jsx(M,{sx:{display:"flex",gap:2},children:o.jsx(de,{variant:"outlined",color:"error",startIcon:o.jsx(at,{}),onClick:()=>a(!0),fullWidth:!0,children:"データを削除"})})]})})]}),o.jsx(M,{sx:{display:"flex",justifyContent:"flex-end",mt:3},children:t?o.jsxs(M,{sx:{display:"flex",gap:2},children:[o.jsx(de,{variant:"outlined",onClick:u,startIcon:o.jsx(eo,{}),children:"キャンセル"}),o.jsx(de,{variant:"contained",onClick:d,startIcon:o.jsx(to,{}),children:"保存"})]}):o.jsx(de,{variant:"contained",onClick:()=>s(!0),startIcon:o.jsx(hn,{}),children:"編集"})}),o.jsxs(kt,{open:i,onClose:()=>a(!1),maxWidth:"sm",fullWidth:!0,children:[o.jsx(Ut,{children:"データ削除の確認"}),o.jsxs(Et,{children:[o.jsx(cn,{severity:"warning",sx:{mb:2},children:"この操作は元に戻すことができません。すべてのデータが削除されます。"}),o.jsx(O,{variant:"body2",color:"text.secondary",children:"削除されるデータ："}),o.jsxs("ul",{children:[o.jsx("li",{children:"すべてのタスク"}),o.jsx("li",{children:"プロフィール情報"}),o.jsx("li",{children:"設定"}),o.jsx("li",{children:"その他のアプリデータ"})]})]}),o.jsxs(Tt,{children:[o.jsx(de,{onClick:()=>a(!1),children:"キャンセル"}),o.jsx(de,{variant:"contained",color:"error",onClick:g,children:"削除"})]})]})]})};function _s(n){const{children:e,value:r,index:t,...s}=n;return o.jsx("div",{role:"tabpanel",hidden:r!==t,id:`auth-tabpanel-${t}`,"aria-labelledby":`auth-tab-${t}`,...s,children:r===t&&o.jsx(M,{sx:{p:3},children:e})})}const Hs=()=>{const[n,e]=b.useState(0),[r,t]=b.useState(!1),[s,i]=b.useState(""),a=fn(),{login:l,register:c}=yt(),[d,u]=b.useState({email:"demo@example.com",password:"password"}),[g,x]=b.useState({name:"",email:"",password:"",confirmPassword:""}),f=(m,w)=>{e(w),i("")},v=async m=>{m.preventDefault(),t(!0),i("");try{await l(d.email,d.password),ze.success("ログインしました"),a("/")}catch(w){i(w instanceof Error?w.message:"ログインに失敗しました"),ze.error("ログインに失敗しました")}finally{t(!1)}},p=async m=>{if(m.preventDefault(),t(!0),i(""),g.password!==g.confirmPassword){i("パスワードが一致しません"),t(!1);return}try{await c(g.name,g.email,g.password),ze.success("アカウントを作成しました"),a("/")}catch(w){i(w instanceof Error?w.message:"登録に失敗しました"),ze.error("登録に失敗しました")}finally{t(!1)}};return o.jsx(Xs,{maxWidth:"sm",sx:{mt:4},children:o.jsxs(Fe,{elevation:3,sx:{borderRadius:2},children:[o.jsx(M,{sx:{borderBottom:1,borderColor:"divider"},children:o.jsxs(Hi,{value:n,onChange:f,"aria-label":"認証タブ",children:[o.jsx(os,{label:"ログイン"}),o.jsx(os,{label:"新規登録"})]})}),o.jsxs(_s,{value:n,index:0,children:[o.jsx(O,{variant:"h5",component:"h1",gutterBottom:!0,align:"center",children:"ログイン"}),s&&o.jsx(cn,{severity:"error",sx:{mb:2},children:s}),o.jsxs(M,{component:"form",onSubmit:v,sx:{mt:2},children:[o.jsx(le,{fullWidth:!0,label:"メールアドレス",type:"email",value:d.email,onChange:m=>u({...d,email:m.target.value}),margin:"normal",required:!0,disabled:r}),o.jsx(le,{fullWidth:!0,label:"パスワード",type:"password",value:d.password,onChange:m=>u({...d,password:m.target.value}),margin:"normal",required:!0,disabled:r}),o.jsx(de,{type:"submit",fullWidth:!0,variant:"contained",size:"large",sx:{mt:3,mb:2},disabled:r,children:r?o.jsx(mr,{size:24}):"ログイン"})]}),o.jsx(M,{sx:{mt:2,textAlign:"center"},children:o.jsx(O,{variant:"body2",color:"text.secondary",children:"デモアカウント: demo@example.com / password"})})]}),o.jsxs(_s,{value:n,index:1,children:[o.jsx(O,{variant:"h5",component:"h1",gutterBottom:!0,align:"center",children:"新規登録"}),s&&o.jsx(cn,{severity:"error",sx:{mb:2},children:s}),o.jsxs(M,{component:"form",onSubmit:p,sx:{mt:2},children:[o.jsx(le,{fullWidth:!0,label:"お名前",value:g.name,onChange:m=>x({...g,name:m.target.value}),margin:"normal",required:!0,disabled:r}),o.jsx(le,{fullWidth:!0,label:"メールアドレス",type:"email",value:g.email,onChange:m=>x({...g,email:m.target.value}),margin:"normal",required:!0,disabled:r}),o.jsx(le,{fullWidth:!0,label:"パスワード",type:"password",value:g.password,onChange:m=>x({...g,password:m.target.value}),margin:"normal",required:!0,disabled:r}),o.jsx(le,{fullWidth:!0,label:"パスワード（確認）",type:"password",value:g.confirmPassword,onChange:m=>x({...g,confirmPassword:m.target.value}),margin:"normal",required:!0,disabled:r}),o.jsx(de,{type:"submit",fullWidth:!0,variant:"contained",size:"large",sx:{mt:3,mb:2},disabled:r,children:r?o.jsx(mr,{size:24}):"登録"})]})]})]})})},$p=()=>{const{user:n}=yt(),{isDarkMode:e,toggleTheme:r}=pn(),[t,s]=b.useState(!1),[i,a]=b.useState(!1),[l,c]=b.useState({name:(n==null?void 0:n.name)||"",email:(n==null?void 0:n.email)||"",phone:"",location:"",bio:"",website:"",github:"",linkedin:"",twitter:"",notifications:{email:!0,push:!0,sms:!1},preferences:{language:"ja",timezone:"Asia/Tokyo",dateFormat:"YYYY/MM/DD"}}),[d,u]=b.useState({currentPassword:"",newPassword:"",confirmPassword:""}),g=()=>{localStorage.setItem("userProfile",JSON.stringify(l)),s(!1),ze.success("プロフィールを更新しました")},x=()=>{const v=localStorage.getItem("userProfile");v&&c(JSON.parse(v)),s(!1)},f=()=>{if(d.newPassword!==d.confirmPassword){ze.error("新しいパスワードが一致しません");return}ze.success("パスワードを変更しました"),a(!1),u({currentPassword:"",newPassword:"",confirmPassword:""})};return o.jsxs(M,{sx:{p:3,maxWidth:1200,mx:"auto"},children:[o.jsx(O,{variant:"h4",gutterBottom:!0,sx:{fontWeight:700,mb:4},children:"プロフィール設定"}),o.jsxs(pe,{container:!0,spacing:3,children:[o.jsxs(pe,{item:!0,xs:12,md:8,children:[o.jsxs(Fe,{sx:{p:3,mb:3},children:[o.jsxs(M,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:3},children:[o.jsx(O,{variant:"h6",sx:{fontWeight:600},children:"基本情報"}),o.jsx(de,{variant:t?"outlined":"contained",startIcon:t?o.jsx(eo,{}):o.jsx(hn,{}),onClick:()=>s(!t),children:t?"キャンセル":"編集"})]}),o.jsxs(pe,{container:!0,spacing:2,children:[o.jsx(pe,{item:!0,xs:12,sm:6,children:o.jsx(le,{fullWidth:!0,label:"名前",value:l.name,onChange:v=>c({...l,name:v.target.value}),disabled:!t,sx:{mb:2}})}),o.jsx(pe,{item:!0,xs:12,sm:6,children:o.jsx(le,{fullWidth:!0,label:"メールアドレス",value:l.email,onChange:v=>c({...l,email:v.target.value}),disabled:!t,sx:{mb:2}})}),o.jsx(pe,{item:!0,xs:12,sm:6,children:o.jsx(le,{fullWidth:!0,label:"電話番号",value:l.phone,onChange:v=>c({...l,phone:v.target.value}),disabled:!t,sx:{mb:2}})}),o.jsx(pe,{item:!0,xs:12,sm:6,children:o.jsx(le,{fullWidth:!0,label:"所在地",value:l.location,onChange:v=>c({...l,location:v.target.value}),disabled:!t,sx:{mb:2}})}),o.jsx(pe,{item:!0,xs:12,children:o.jsx(le,{fullWidth:!0,label:"自己紹介",multiline:!0,rows:4,value:l.bio,onChange:v=>c({...l,bio:v.target.value}),disabled:!t,sx:{mb:2}})})]}),t&&o.jsxs(M,{sx:{display:"flex",gap:2,mt:2},children:[o.jsx(de,{variant:"contained",onClick:g,startIcon:o.jsx(to,{}),children:"保存"}),o.jsx(de,{variant:"outlined",onClick:x,children:"キャンセル"})]})]}),o.jsxs(Fe,{sx:{p:3,mb:3},children:[o.jsx(O,{variant:"h6",sx:{fontWeight:600,mb:3},children:"ソーシャルリンク"}),o.jsxs(pe,{container:!0,spacing:2,children:[o.jsx(pe,{item:!0,xs:12,sm:6,children:o.jsx(le,{fullWidth:!0,label:"ウェブサイト",value:l.website,onChange:v=>c({...l,website:v.target.value}),disabled:!t,sx:{mb:2}})}),o.jsx(pe,{item:!0,xs:12,sm:6,children:o.jsx(le,{fullWidth:!0,label:"GitHub",value:l.github,onChange:v=>c({...l,github:v.target.value}),disabled:!t,sx:{mb:2}})}),o.jsx(pe,{item:!0,xs:12,sm:6,children:o.jsx(le,{fullWidth:!0,label:"LinkedIn",value:l.linkedin,onChange:v=>c({...l,linkedin:v.target.value}),disabled:!t,sx:{mb:2}})}),o.jsx(pe,{item:!0,xs:12,sm:6,children:o.jsx(le,{fullWidth:!0,label:"Twitter",value:l.twitter,onChange:v=>c({...l,twitter:v.target.value}),disabled:!t,sx:{mb:2}})})]})]})]}),o.jsxs(pe,{item:!0,xs:12,md:4,children:[o.jsxs(Fe,{sx:{p:3,mb:3,textAlign:"center"},children:[o.jsx(it,{sx:{width:100,height:100,mx:"auto",mb:2,bgcolor:"primary.main",fontSize:"2rem"},children:l.name.charAt(0)}),o.jsx(O,{variant:"h6",sx:{fontWeight:600,mb:1},children:l.name}),o.jsx(O,{variant:"body2",color:"text.secondary",sx:{mb:2},children:l.email}),l.location&&o.jsx(He,{icon:o.jsx(zi,{}),label:l.location,size:"small",sx:{mb:1}})]}),o.jsxs(Fe,{sx:{p:3,mb:3},children:[o.jsx(O,{variant:"h6",sx:{fontWeight:600,mb:3},children:"設定"}),o.jsxs(M,{sx:{mb:3},children:[o.jsx(O,{variant:"subtitle2",sx:{mb:2},children:"通知設定"}),o.jsx(yn,{control:o.jsx($e,{checked:l.notifications.email,onChange:v=>c({...l,notifications:{...l.notifications,email:v.target.checked}})}),label:"メール通知"}),o.jsx(yn,{control:o.jsx($e,{checked:l.notifications.push,onChange:v=>c({...l,notifications:{...l.notifications,push:v.target.checked}})}),label:"プッシュ通知"}),o.jsx(yn,{control:o.jsx($e,{checked:l.notifications.sms,onChange:v=>c({...l,notifications:{...l.notifications,sms:v.target.checked}})}),label:"SMS通知"})]}),o.jsx(rt,{sx:{my:2}}),o.jsxs(M,{sx:{mb:3},children:[o.jsx(O,{variant:"subtitle2",sx:{mb:2},children:"表示設定"}),o.jsx(yn,{control:o.jsx($e,{checked:e,onChange:r}),label:"ダークモード"})]}),o.jsx(rt,{sx:{my:2}}),o.jsx(de,{fullWidth:!0,variant:"outlined",startIcon:o.jsx(Zs,{}),onClick:()=>a(!0),sx:{mb:2},children:"パスワード変更"}),o.jsx(de,{fullWidth:!0,variant:"outlined",startIcon:o.jsx(Js,{}),sx:{mb:2},children:"言語設定"})]})]})]}),o.jsxs(kt,{open:i,onClose:()=>a(!1),maxWidth:"sm",fullWidth:!0,children:[o.jsx(Ut,{children:"パスワード変更"}),o.jsxs(Et,{children:[o.jsx(le,{fullWidth:!0,type:"password",label:"現在のパスワード",value:d.currentPassword,onChange:v=>u({...d,currentPassword:v.target.value}),sx:{mb:2,mt:1}}),o.jsx(le,{fullWidth:!0,type:"password",label:"新しいパスワード",value:d.newPassword,onChange:v=>u({...d,newPassword:v.target.value}),sx:{mb:2}}),o.jsx(le,{fullWidth:!0,type:"password",label:"新しいパスワード（確認）",value:d.confirmPassword,onChange:v=>u({...d,confirmPassword:v.target.value}),sx:{mb:2}}),d.newPassword!==d.confirmPassword&&d.confirmPassword&&o.jsx(cn,{severity:"error",sx:{mb:2},children:"パスワードが一致しません"})]}),o.jsxs(Tt,{children:[o.jsx(de,{onClick:()=>a(!1),children:"キャンセル"}),o.jsx(de,{variant:"contained",onClick:f,disabled:!d.currentPassword||!d.newPassword||d.newPassword!==d.confirmPassword,children:"変更"})]})]})]})},Up=new lc({defaultOptions:{queries:{refetchOnWindowFocus:!1,staleTime:1/0}}});function Yp(){const[n,e]=b.useState(!0),{isDarkMode:r}=pn(),{user:t,isLoading:s}=yt(),i=r?Do:So;return console.log("AppContent rendered",{sidebarOpen:n,isDarkMode:r,user:t,isLoading:s}),s?o.jsxs(Sn,{theme:i,children:[o.jsx(nr,{}),o.jsx(M,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:o.jsx(O,{variant:"h6",children:"読み込み中..."})})]}):t?o.jsxs(Sn,{theme:i,children:[o.jsx(nr,{}),o.jsx(is,{children:o.jsxs(M,{sx:{display:"flex",minHeight:"100vh"},children:[o.jsx(xc,{open:n,onToggle:()=>e(!n)}),o.jsxs(M,{sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:[o.jsx(gc,{onMenuClick:()=>e(!n)}),o.jsx(M,{component:Pe.main,sx:{flexGrow:1,pt:"80px",backgroundColor:"background.default",transition:"margin-left 0.3s ease-in-out",marginLeft:n?"240px":"64px",minHeight:"calc(100vh - 80px)",overflow:"auto",paddingLeft:"24px",paddingRight:"24px"},children:o.jsx(Rr,{mode:"wait",children:o.jsxs(as,{children:[o.jsx(Xe,{path:"/",element:o.jsx(qc,{})}),o.jsx(Xe,{path:"/kanban",element:o.jsx(Qc,{})}),o.jsx(Xe,{path:"/calendar",element:o.jsx(nu,{})}),o.jsx(Xe,{path:"/timeline",element:o.jsx(ru,{})}),o.jsx(Xe,{path:"/list",element:o.jsx(su,{})}),o.jsx(Xe,{path:"/task/new",element:o.jsx(Ns,{})}),o.jsx(Xe,{path:"/task/edit/:id",element:o.jsx(Ns,{})}),o.jsx(Xe,{path:"/settings",element:o.jsx(Bp,{})}),o.jsx(Xe,{path:"/profile",element:o.jsx($p,{})}),o.jsx(Xe,{path:"/login",element:o.jsx(Hs,{})})]})})})]})]})}),o.jsx(hs,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff",borderRadius:"8px"}}})]}):o.jsxs(Sn,{theme:i,children:[o.jsx(nr,{}),o.jsx(is,{children:o.jsx(as,{children:o.jsx(Xe,{path:"*",element:o.jsx(Hs,{})})})}),o.jsx(hs,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff",borderRadius:"8px"}}})]})}function qp(){return console.log("App component rendered"),o.jsx(fc,{client:Up,children:o.jsx(mc,{children:o.jsx(pc,{children:o.jsx(Yp,{})})})})}wr.createRoot(document.getElementById("root")).render(o.jsx(lt.StrictMode,{children:o.jsx(qp,{})}));
//# sourceMappingURL=main-BE8iouRH.js.map
